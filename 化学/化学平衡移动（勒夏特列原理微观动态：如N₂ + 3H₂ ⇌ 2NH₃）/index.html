<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ–å­¦å¹³è¡¡ç§»åŠ¨å¾®è§‚åŠ¨ç”» - å‹’å¤ç‰¹åˆ—åŸç† (Nâ‚‚ + 3Hâ‚‚ â‡Œ 2NHâ‚ƒ)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #334155;
        }

        h1 {
            color: #60a5fa;
            font-size: 2.4rem;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            margin-bottom: 25px;
        }

        .simulation-panel {
            flex: 3;
            min-width: 300px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid #475569;
        }

        .control-panel {
            flex: 2;
            min-width: 300px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid #475569;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel-title {
            color: #38bdf8;
            font-size: 1.4rem;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #475569;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .panel-title i {
            font-size: 1.2rem;
        }

        .canvas-container {
            position: relative;
            width: 100%;
            height: 500px;
            background: #0f172a;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid #475569;
            margin-bottom: 15px;
        }

        #reactionCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .molecule-preview {
            width: 60px;
            height: 40px;
            position: relative;
        }

        .control-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 12px;
            padding: 18px;
            border: 1px solid #475569;
        }

        .section-title {
            color: #22d3ee;
            font-size: 1.1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .control-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #60a5fa 0%, #2563eb 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .control-btn.remove {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .control-btn.remove:hover {
            background: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
        }

        .control-btn.temp {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .control-btn.temp:hover {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        }

        .control-btn.catalyst {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .control-btn.catalyst:hover {
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .slider {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: #475569;
            border-radius: 4px;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .data-panel {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 10px;
        }

        .data-item {
            background: rgba(15, 23, 42, 0.7);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #475569;
        }

        .data-label {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .data-value {
            color: #22d3ee;
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
        }

        .data-unit {
            color: #64748b;
            font-size: 0.9rem;
            margin-left: 4px;
        }

        .animation-controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }

        .anim-btn {
            background: #475569;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            justify-content: center;
        }

        .anim-btn:hover {
            background: #64748b;
            transform: translateY(-2px);
        }

        .anim-btn.primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        }

        .anim-btn.primary:hover {
            background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);
        }

        .principle-display {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            border-left: 5px solid #3b82f6;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .principle-title {
            color: #60a5fa;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .principle-text {
            color: #cbd5e1;
            font-size: 1.05rem;
            line-height: 1.7;
        }

        .highlight {
            color: #fbbf24;
            font-weight: 600;
        }

        .reaction-equation {
            text-align: center;
            font-size: 1.8rem;
            margin: 20px 0;
            color: #cbd5e1;
            font-weight: 600;
        }

        .reaction-equation .n2 {
            color: #3b82f6;
        }

        .reaction-equation .h2 {
            color: #94a3b8;
        }

        .reaction-equation .nh3 {
            color: #22d3ee;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #475569;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        @media (max-width: 1100px) {
            .main-content {
                flex-direction: column;
            }
            
            .data-panel {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .data-panel {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .button-group {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .canvas-container {
                height: 400px;
            }
        }

        @media (max-width: 480px) {
            .button-group {
                grid-template-columns: 1fr;
            }
            
            .data-panel {
                grid-template-columns: 1fr;
            }
            
            .canvas-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>åŒ–å­¦å¹³è¡¡ç§»åŠ¨å¾®è§‚åŠ¨ç”»</h1>
            <div class="subtitle">å‹’å¤ç‰¹åˆ—åŸç†å¯è§†åŒ–ï¼šNâ‚‚ + 3Hâ‚‚ â‡Œ 2NHâ‚ƒ ååº”</div>
            <div class="reaction-equation">
                <span class="n2">Nâ‚‚</span> + <span class="h2">3Hâ‚‚</span> â‡Œ <span class="nh3">2NHâ‚ƒ</span> + çƒ­é‡
            </div>
        </header>

        <div class="main-content">
            <div class="simulation-panel">
                <div class="panel-title">
                    <span>ğŸ”¬ å¾®è§‚ç²’å­æ¨¡æ‹Ÿ</span>
                </div>
                <div class="canvas-container">
                    <canvas id="reactionCanvas"></canvas>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="molecule-preview">
                            <canvas id="n2Preview" width="60" height="40"></canvas>
                        </div>
                        <span>æ°®æ°” (Nâ‚‚) - ååº”ç‰©</span>
                    </div>
                    <div class="legend-item">
                        <div class="molecule-preview">
                            <canvas id="h2Preview" width="60" height="40"></canvas>
                        </div>
                        <span>æ°¢æ°” (Hâ‚‚) - ååº”ç‰©</span>
                    </div>
                    <div class="legend-item">
                        <div class="molecule-preview">
                            <canvas id="nh3Preview" width="60" height="40"></canvas>
                        </div>
                        <span>æ°¨æ°” (NHâ‚ƒ) - ç”Ÿæˆç‰©</span>
                    </div>
                </div>
            </div>

            <div class="control-panel">
                <div class="control-section">
                    <div class="section-title">âš™ï¸ åŠ¨ç”»æ§åˆ¶</div>
                    <div class="animation-controls">
                        <button class="anim-btn" id="pauseBtn">
                            <span>â¸ï¸ æš‚åœ</span>
                        </button>
                        <button class="anim-btn primary" id="resetBtn">
                            <span>ğŸ”„ é‡ç½®</span>
                        </button>
                        <button class="anim-btn" id="speedBtn">
                            <span>ğŸ¢ æ…¢é€Ÿ</span>
                        </button>
                    </div>
                    
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>åŠ¨ç”»é€Ÿåº¦</span>
                            <span id="speedValue">1.0x</span>
                        </div>
                        <input type="range" min="0.1" max="3" step="0.1" value="1" class="slider" id="speedSlider">
                    </div>
                </div>

                <div class="control-section">
                    <div class="section-title">ğŸ§ª æµ“åº¦æ”¹å˜</div>
                    <div class="button-group">
                        <button class="control-btn" id="addN2">
                            <span>+</span> å¢åŠ  Nâ‚‚
                        </button>
                        <button class="control-btn" id="addH2">
                            <span>+</span> å¢åŠ  Hâ‚‚
                        </button>
                        <button class="control-btn" id="addNH3">
                            <span>+</span> å¢åŠ  NHâ‚ƒ
                        </button>
                        <button class="control-btn remove" id="removeN2">
                            <span>-</span> å‡å°‘ Nâ‚‚
                        </button>
                        <button class="control-btn remove" id="removeH2">
                            <span>-</span> å‡å°‘ Hâ‚‚
                        </button>
                        <button class="control-btn remove" id="removeNH3">
                            <span>-</span> å‡å°‘ NHâ‚ƒ
                        </button>
                    </div>
                </div>

                <div class="control-section">
                    <div class="section-title">ğŸ“Š å‹å¼ºä¸æ¸©åº¦</div>
                    <div class="button-group">
                        <button class="control-btn" id="increasePressure">
                            <span>â¬†ï¸</span> å¢å¤§å‹å¼º
                        </button>
                        <button class="control-btn remove" id="decreasePressure">
                            <span>â¬‡ï¸</span> å‡å°å‹å¼º
                        </button>
                        <button class="control-btn temp" id="increaseTemp">
                            <span>ğŸ”¥</span> å‡é«˜æ¸©åº¦
                        </button>
                        <button class="control-btn temp" id="decreaseTemp">
                            <span>â„ï¸</span> é™ä½æ¸©åº¦
                        </button>
                    </div>
                    
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>æ¸©åº¦: <span id="tempValue">298</span> K</span>
                            <span>å‹å¼º: <span id="pressureValue">1.0</span> atm</span>
                        </div>
                    </div>
                </div>

                <div class="control-section">
                    <div class="section-title">âš¡ å‚¬åŒ–å‰‚</div>
                    <div class="button-group">
                        <button class="control-btn catalyst" id="addCatalyst">
                            <span>âœ¨</span> åŠ å…¥å‚¬åŒ–å‰‚
                        </button>
                        <button class="control-btn remove" id="removeCatalyst">
                            <span>ğŸš«</span> ç§»é™¤å‚¬åŒ–å‰‚
                        </button>
                    </div>
                    <div style="margin-top: 10px; color: #94a3b8; font-size: 0.9rem;">
                        å‚¬åŒ–å‰‚çŠ¶æ€: <span id="catalystStatus">æœªä½¿ç”¨</span>
                    </div>
                </div>

                <div class="data-panel">
                    <div class="data-item">
                        <div class="data-label">Nâ‚‚ åˆ†å­æ•°</div>
                        <div class="data-value" id="n2Count">40</div>
                        <span class="data-unit">ä¸ª</span>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Hâ‚‚ åˆ†å­æ•°</div>
                        <div class="data-value" id="h2Count">120</div>
                        <span class="data-unit">ä¸ª</span>
                    </div>
                    <div class="data-item">
                        <div class="data-label">NHâ‚ƒ åˆ†å­æ•°</div>
                        <div class="data-value" id="nh3Count">30</div>
                        <span class="data-unit">ä¸ª</span>
                    </div>
                    <div class="data-item">
                        <div class="data-label">æ­£ååº”é€Ÿç‡</div>
                        <div class="data-value" id="forwardRate">12.5</div>
                        <span class="data-unit">/s</span>
                    </div>
                    <div class="data-item">
                        <div class="data-label">é€†ååº”é€Ÿç‡</div>
                        <div class="data-value" id="reverseRate">12.5</div>
                        <span class="data-unit">/s</span>
                    </div>
                    <div class="data-item">
                        <div class="data-label">å¹³è¡¡çŠ¶æ€</div>
                        <div class="data-value" id="equilibriumStatus">æ˜¯</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="principle-display">
            <div class="principle-title">ğŸ§  å‹’å¤ç‰¹åˆ—åŸç†æç¤º</div>
            <div class="principle-text" id="principleText">
                ç³»ç»Ÿå¤„äºåŠ¨æ€å¹³è¡¡çŠ¶æ€ã€‚æ”¹å˜å¹³è¡¡æ¡ä»¶ï¼ˆæµ“åº¦ã€å‹å¼ºã€æ¸©åº¦ï¼‰æ—¶ï¼Œå¹³è¡¡ä¼šå‘ç€<span class="highlight">å‡å¼±è¿™ç§æ”¹å˜</span>çš„æ–¹å‘ç§»åŠ¨ã€‚
                <br><br>
                å½“å‰ï¼š<span class="highlight">æ­£é€†ååº”é€Ÿç‡ç›¸ç­‰</span>ï¼Œå„ç‰©è´¨æµ“åº¦ä¿æŒæ’å®šã€‚
            </div>
        </div>

        <footer>
            <p>åŒ–å­¦å¹³è¡¡ç§»åŠ¨æ•™å­¦åŠ¨ç”» | å‹’å¤ç‰¹åˆ—åŸç†å¾®è§‚å¯è§†åŒ– | è®¾è®¡ï¼šæ•™è‚²æŠ€æœ¯ä¸“å®¶</p>
            <p>æç¤ºï¼šç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ”¹å˜æ¡ä»¶ï¼Œè§‚å¯Ÿå¹³è¡¡ç§»åŠ¨å’Œç²’å­å˜åŒ–</p>
        </footer>
    </div>

    <script>
        // è·å–Canvaså…ƒç´ å’Œä¸Šä¸‹æ–‡
        const canvas = document.getElementById('reactionCanvas');
        const ctx = canvas.getContext('2d');
        
        // é¢„è§ˆCanvas
        const n2PreviewCtx = document.getElementById('n2Preview').getContext('2d');
        const h2PreviewCtx = document.getElementById('h2Preview').getContext('2d');
        const nh3PreviewCtx = document.getElementById('nh3Preview').getContext('2d');
        
        // è®¾ç½®Canvaså°ºå¯¸
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // é¢œè‰²å®šä¹‰
        const COLORS = {
            N2: '#3b82f6',      // è“è‰²
            H2: '#94a3b8',      // æµ…ç°è‰²
            NH3_N: '#22d3ee',   // é’è‰²ï¼ˆæ°®ï¼‰
            NH3_H: '#cbd5e1',   // æµ…ç°è‰²ï¼ˆæ°¢ï¼‰
            BACKGROUND: '#0f172a',
            CONTAINER: '#1e293b',
            BOND: '#475569',
            FORWARD: '#10b981', // ç»¿è‰² - æ­£ååº”
            REVERSE: '#f59e0b', // æ©™è‰² - é€†ååº”
            HIGHLIGHT: '#fbbf24' // é«˜äº®é»„è‰²
        };
        
        // ç»˜åˆ¶åˆ†å­é¢„è§ˆ
        function drawMoleculePreviews() {
            // ç»˜åˆ¶N2é¢„è§ˆ
            n2PreviewCtx.clearRect(0, 0, 60, 40);
            n2PreviewCtx.fillStyle = COLORS.N2;
            n2PreviewCtx.beginPath();
            n2PreviewCtx.arc(20, 20, 8, 0, Math.PI * 2);
            n2PreviewCtx.fill();
            n2PreviewCtx.beginPath();
            n2PreviewCtx.arc(40, 20, 8, 0, Math.PI * 2);
            n2PreviewCtx.fill();
            n2PreviewCtx.strokeStyle = COLORS.BOND;
            n2PreviewCtx.lineWidth = 2;
            n2PreviewCtx.beginPath();
            n2PreviewCtx.moveTo(28, 20);
            n2PreviewCtx.lineTo(32, 20);
            n2PreviewCtx.stroke();
            
            // ç»˜åˆ¶H2é¢„è§ˆ
            h2PreviewCtx.clearRect(0, 0, 60, 40);
            h2PreviewCtx.fillStyle = COLORS.H2;
            h2PreviewCtx.beginPath();
            h2PreviewCtx.arc(20, 20, 6, 0, Math.PI * 2);
            h2PreviewCtx.fill();
            h2PreviewCtx.beginPath();
            h2PreviewCtx.arc(40, 20, 6, 0, Math.PI * 2);
            h2PreviewCtx.fill();
            h2PreviewCtx.strokeStyle = COLORS.BOND;
            h2PreviewCtx.lineWidth = 2;
            h2PreviewCtx.beginPath();
            h2PreviewCtx.moveTo(26, 20);
            h2PreviewCtx.lineTo(34, 20);
            h2PreviewCtx.stroke();
            
            // ç»˜åˆ¶NH3é¢„è§ˆ
            nh3PreviewCtx.clearRect(0, 0, 60, 40);
            const centerX = 30, centerY = 20;
            const radius = 10;
            
            // ç»˜åˆ¶æ°®åŸå­ï¼ˆä¸­å¿ƒï¼‰
            nh3PreviewCtx.fillStyle = COLORS.NH3_N;
            nh3PreviewCtx.beginPath();
            nh3PreviewCtx.arc(centerX, centerY, 8, 0, Math.PI * 2);
            nh3PreviewCtx.fill();
            
            // ç»˜åˆ¶ä¸‰ä¸ªæ°¢åŸå­
            nh3PreviewCtx.fillStyle = COLORS.NH3_H;
            for (let i = 0; i < 3; i++) {
                const angle = (i * 120 - 90) * Math.PI / 180;
                const hX = centerX + radius * Math.cos(angle);
                const hY = centerY + radius * Math.sin(angle);
                
                nh3PreviewCtx.beginPath();
                nh3PreviewCtx.arc(hX, hY, 5, 0, Math.PI * 2);
                nh3PreviewCtx.fill();
                
                // ç»˜åˆ¶é”®
                nh3PreviewCtx.strokeStyle = COLORS.BOND;
                nh3PreviewCtx.lineWidth = 2;
                nh3PreviewCtx.beginPath();
                nh3PreviewCtx.moveTo(centerX, centerY);
                nh3PreviewCtx.lineTo(hX, hY);
                nh3PreviewCtx.stroke();
            }
        }
        
        // åˆ†å­ç±»
        class Molecule {
            constructor(type, x, y) {
                this.type = type; // 'N2', 'H2', 'NH3'
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 2;
                this.vy = (Math.random() - 0.5) * 2;
                this.radius = type === 'NH3' ? 12 : type === 'N2' ? 10 : 8;
                this.highlight = 0;
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = (Math.random() - 0.5) * 0.05;
            }
            
            update(containerWidth, containerHeight) {
                // æ›´æ–°ä½ç½®
                this.x += this.vx * simulationSpeed;
                this.y += this.vy * simulationSpeed;
                
                // è¾¹ç•Œç¢°æ’
                if (this.x < this.radius || this.x > containerWidth - this.radius) {
                    this.vx *= -0.95;
                    this.x = Math.max(this.radius, Math.min(containerWidth - this.radius, this.x));
                }
                if (this.y < this.radius || this.y > containerHeight - this.radius) {
                    this.vy *= -0.95;
                    this.y = Math.max(this.radius, Math.min(containerHeight - this.radius, this.y));
                }
                
                // æ›´æ–°æ—‹è½¬
                this.rotation += this.rotationSpeed * simulationSpeed;
                
                // æ›´æ–°é«˜äº®æ•ˆæœ
                if (this.highlight > 0) {
                    this.highlight -= 0.02 * simulationSpeed;
                }
                
                // ç¨å¾®å‡æ…¢é€Ÿåº¦ï¼ˆæ¨¡æ‹Ÿé˜»åŠ›ï¼‰
                this.vx *= 0.999;
                this.vy *= 0.999;
            }
            
            draw(ctx) {
                // ç»˜åˆ¶é«˜äº®æ•ˆæœ
                if (this.highlight > 0) {
                    ctx.shadowColor = COLORS.HIGHLIGHT;
                    ctx.shadowBlur = 15 * this.highlight;
                }
                
                if (this.type === 'N2') {
                    this.drawN2(ctx);
                } else if (this.type === 'H2') {
                    this.drawH2(ctx);
                } else if (this.type === 'NH3') {
                    this.drawNH3(ctx);
                }
                
                // é‡ç½®é˜´å½±
                ctx.shadowColor = 'transparent';
                ctx.shadowBlur = 0;
            }
            
            drawN2(ctx) {
                const dx = Math.cos(this.rotation) * 8;
                const dy = Math.sin(this.rotation) * 8;
                
                // ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ°®åŸå­
                ctx.fillStyle = COLORS.N2;
                ctx.beginPath();
                ctx.arc(this.x - dx, this.y - dy, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // ç»˜åˆ¶ç¬¬äºŒä¸ªæ°®åŸå­
                ctx.beginPath();
                ctx.arc(this.x + dx, this.y + dy, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // ç»˜åˆ¶é”®
                ctx.strokeStyle = COLORS.BOND;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(this.x - dx * 0.7, this.y - dy * 0.7);
                ctx.lineTo(this.x + dx * 0.7, this.y + dy * 0.7);
                ctx.stroke();
            }
            
            drawH2(ctx) {
                const dx = Math.cos(this.rotation) * 6;
                const dy = Math.sin(this.rotation) * 6;
                
                // ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ°¢åŸå­
                ctx.fillStyle = COLORS.H2;
                ctx.beginPath();
                ctx.arc(this.x - dx, this.y - dy, 6, 0, Math.PI * 2);
                ctx.fill();
                
                // ç»˜åˆ¶ç¬¬äºŒä¸ªæ°¢åŸå­
                ctx.beginPath();
                ctx.arc(this.x + dx, this.y + dy, 6, 0, Math.PI * 2);
                ctx.fill();
                
                // ç»˜åˆ¶é”®
                ctx.strokeStyle = COLORS.BOND;
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(this.x - dx * 0.7, this.y - dy * 0.7);
                ctx.lineTo(this.x + dx * 0.7, this.y + dy * 0.7);
                ctx.stroke();
            }
            
            drawNH3(ctx) {
                // ç»˜åˆ¶æ°®åŸå­ï¼ˆä¸­å¿ƒï¼‰
                ctx.fillStyle = COLORS.NH3_N;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 10, 0, Math.PI * 2);
                ctx.fill();
                
                // ç»˜åˆ¶ä¸‰ä¸ªæ°¢åŸå­
                ctx.fillStyle = COLORS.NH3_H;
                for (let i = 0; i < 3; i++) {
                    const angle = this.rotation + (i * 120 - 90) * Math.PI / 180;
                    const hX = this.x + 15 * Math.cos(angle);
                    const hY = this.y + 15 * Math.sin(angle);
                    
                    ctx.beginPath();
                    ctx.arc(hX, hY, 6, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // ç»˜åˆ¶é”®
                    ctx.strokeStyle = COLORS.BOND;
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(this.x, this.y);
                    ctx.lineTo(hX, hY);
                    ctx.stroke();
                }
            }
            
            distanceTo(other) {
                const dx = this.x - other.x;
                const dy = this.y - other.y;
                return Math.sqrt(dx * dx + dy * dy);
            }
        }
        
        // ååº”ç³»ç»Ÿç±»
        class ReactionSystem {
            constructor() {
                this.molecules = [];
                this.forwardReactions = 0;
                this.reverseReactions = 0;
                this.lastReactionTime = 0;
                this.reactionCooldown = 0;
                this.catalystActive = false;
                this.temperature = 298; // K
                this.pressure = 1.0; // atm
                this.containerScale = 1.0;
                this.initializeSystem();
            }
            
            initializeSystem() {
                this.molecules = [];
                const width = canvas.width;
                const height = canvas.height;
                
                // åˆå§‹åˆ†å­æ•°é‡ï¼ˆæ¥è¿‘å¹³è¡¡ï¼‰
                const initialN2 = 40;
                const initialH2 = 120;
                const initialNH3 = 30;
                
                // æ·»åŠ N2åˆ†å­
                for (let i = 0; i < initialN2; i++) {
                    this.molecules.push(new Molecule('N2', 
                        Math.random() * width * 0.9 + width * 0.05,
                        Math.random() * height * 0.9 + height * 0.05
                    ));
                }
                
                // æ·»åŠ H2åˆ†å­
                for (let i = 0; i < initialH2; i++) {
                    this.molecules.push(new Molecule('H2',
                        Math.random() * width * 0.9 + width * 0.05,
                        Math.random() * height * 0.9 + height * 0.05
                    ));
                }
                
                // æ·»åŠ NH3åˆ†å­
                for (let i = 0; i < initialNH3; i++) {
                    this.molecules.push(new Molecule('NH3',
                        Math.random() * width * 0.9 + width * 0.05,
                        Math.random() * height * 0.9 + height * 0.05
                    ));
                }
                
                this.updateCounts();
            }
            
            updateCounts() {
                this.n2Count = this.molecules.filter(m => m.type === 'N2').length;
                this.h2Count = this.molecules.filter(m => m.type === 'H2').length;
                this.nh3Count = this.molecules.filter(m => m.type === 'NH3').length;
            }
            
            addMolecule(type, count = 1) {
                const width = canvas.width;
                const height = canvas.height;
                
                for (let i = 0; i < count; i++) {
                    const molecule = new Molecule(type,
                        Math.random() * width * 0.9 + width * 0.05,
                        Math.random() * height * 0.9 + height * 0.05
                    );
                    
                    // é«˜äº®æ–°æ·»åŠ çš„åˆ†å­
                    molecule.highlight = 1.0;
                    this.molecules.push(molecule);
                }
                
                this.updateCounts();
                this.updatePrincipleText(`å¢åŠ äº† ${count} ä¸ª ${this.getMoleculeName(type)} åˆ†å­`);
            }
            
            removeMolecule(type, count = 1) {
                const moleculesOfType = this.molecules.filter(m => m.type === type);
                const toRemove = Math.min(count, moleculesOfType.length);
                
                for (let i = 0; i < toRemove; i++) {
                    const index = this.molecules.indexOf(moleculesOfType[i]);
                    if (index > -1) {
                        this.molecules.splice(index, 1);
                    }
                }
                
                this.updateCounts();
                this.updatePrincipleText(`å‡å°‘äº† ${toRemove} ä¸ª ${this.getMoleculeName(type)} åˆ†å­`);
            }
            
            getMoleculeName(type) {
                const names = {
                    'N2': 'æ°®æ°”(Nâ‚‚)',
                    'H2': 'æ°¢æ°”(Hâ‚‚)',
                    'NH3': 'æ°¨æ°”(NHâ‚ƒ)'
                };
                return names[type] || type;
            }
            
            updatePrincipleText(text) {
                const principleText = document.getElementById('principleText');
                principleText.innerHTML = `<span class="highlight">${text}</span>ã€‚å¹³è¡¡å°†å‘å‡å¼±è¿™ç§æ”¹å˜çš„æ–¹å‘ç§»åŠ¨ã€‚<br><br>è§‚å¯Ÿç²’å­å˜åŒ–å’Œååº”é€Ÿç‡å˜åŒ–ã€‚`;
                
                // 3ç§’åæ¢å¤é»˜è®¤æ–‡æœ¬
                clearTimeout(this.principleTimeout);
                this.principleTimeout = setTimeout(() => {
                    principleText.innerHTML = `ç³»ç»Ÿå¤„äºåŠ¨æ€å¹³è¡¡çŠ¶æ€ã€‚æ”¹å˜å¹³è¡¡æ¡ä»¶ï¼ˆæµ“åº¦ã€å‹å¼ºã€æ¸©åº¦ï¼‰æ—¶ï¼Œå¹³è¡¡ä¼šå‘ç€<span class="highlight">å‡å¼±è¿™ç§æ”¹å˜</span>çš„æ–¹å‘ç§»åŠ¨ã€‚<br><br>å½“å‰ï¼š<span class="highlight">æ­£é€†ååº”é€Ÿç‡ç›¸ç­‰</span>ï¼Œå„ç‰©è´¨æµ“åº¦ä¿æŒæ’å®šã€‚`;
                }, 3000);
            }
            
            update() {
                const width = canvas.width;
                const height = canvas.height;
                
                // æ›´æ–°æ‰€æœ‰åˆ†å­
                for (const molecule of this.molecules) {
                    molecule.update(width, height);
                }
                
                // æ£€æŸ¥ååº”
                this.checkReactions();
                
                // æ›´æ–°ååº”é€Ÿç‡æ˜¾ç¤º
                this.updateRateDisplays();
                
                // æ›´æ–°æ•°æ®é¢æ¿
                this.updateDataPanel();
            }
            
            checkReactions() {
                const now = Date.now();
                if (now - this.lastReactionTime < this.reactionCooldown) return;
                
                // è®¡ç®—ååº”æ¦‚ç‡ï¼ˆåŸºäºæµ“åº¦ã€æ¸©åº¦ã€å‚¬åŒ–å‰‚ï¼‰
                let forwardProb = 0.001 * (this.n2Count / 40) * Math.pow(this.h2Count / 120, 3) * 
                                 Math.exp(-(10000 / this.temperature)) * (this.catalystActive ? 5 : 1);
                let reverseProb = 0.001 * Math.pow(this.nh3Count / 30, 2) * 
                                 Math.exp(-(8000 / this.temperature)) * (this.catalystActive ? 5 : 1);
                
                // è°ƒæ•´å‹å¼ºå½±å“ï¼ˆå¢å¤§å‹å¼ºæœ‰åˆ©äºæ­£å‘ååº”ï¼‰
                forwardProb *= Math.pow(this.pressure, 2); // å› ä¸ºæ­£å‘ååº”ä½“ç§¯å‡å°
                
                // éšæœºå†³å®šæ˜¯å¦å‘ç”Ÿååº”
                if (Math.random() < forwardProb && this.n2Count >= 1 && this.h2Count >= 3) {
                   
<!--æ£€æµ‹åˆ°ä»£ç æˆªæ–­ï¼Œè‡ªåŠ¨ç»­å†™ä¸­...-->
this.performForwardReaction();
                    this.forwardReactions++;
                    this.lastReactionTime = now;
                    this.reactionCooldown = 100; // ååº”å†·å´æ—¶é—´
                }
                
                if (Math.random() < reverseProb && this.nh3Count >= 2) {
                    this.performReverseReaction();
                    this.reverseReactions++;
                    this.lastReactionTime = now;
                    this.reactionCooldown = 100;
                }
            }
            
            performForwardReaction() {
                // æ‰¾åˆ°1ä¸ªN2å’Œ3ä¸ªH2è¿›è¡Œååº”
                const n2Molecules = this.molecules.filter(m => m.type === 'N2');
                const h2Molecules = this.molecules.filter(m => m.type === 'H2');
                
                if (n2Molecules.length >= 1 && h2Molecules.length >= 3) {
                    // ç§»é™¤ååº”ç‰©
                    const n2Index = this.molecules.indexOf(n2Molecules[0]);
                    const h2Indices = [
                        this.molecules.indexOf(h2Molecules[0]),
                        this.molecules.indexOf(h2Molecules[1]),
                        this.molecules.indexOf(h2Molecules[2])
                    ];
                    
                    // è®¡ç®—ç”ŸæˆNH3çš„ä½ç½®ï¼ˆå–ååº”ç‰©çš„å¹³å‡ä½ç½®ï¼‰
                    const avgX = (n2Molecules[0].x + h2Molecules[0].x + h2Molecules[1].x + h2Molecules[2].x) / 4;
                    const avgY = (n2Molecules[0].y + h2Molecules[0].y + h2Molecules[1].y + h2Molecules[2].y) / 4;
                    
                    // ç§»é™¤ååº”ç‰©
                    this.molecules.splice(n2Index, 1);
                    // ä»åå¾€å‰ç§»é™¤ï¼Œé¿å…ç´¢å¼•å˜åŒ–
                    h2Indices.sort((a, b) => b - a).forEach(index => {
                        this.molecules.splice(index, 1);
                    });
                    
                    // ç”Ÿæˆ2ä¸ªNH3åˆ†å­
                    for (let i = 0; i < 2; i++) {
                        const nh3 = new Molecule('NH3', 
                            avgX + (Math.random() - 0.5) * 20,
                            avgY + (Math.random() - 0.5) * 20
                        );
                        nh3.highlight = 1.0; // é«˜äº®æ–°ç”Ÿæˆçš„åˆ†å­
                        this.molecules.push(nh3);
                    }
                    
                    this.updateCounts();
                }
            }
            
            performReverseReaction() {
                // æ‰¾åˆ°2ä¸ªNH3è¿›è¡Œåˆ†è§£
                const nh3Molecules = this.molecules.filter(m => m.type === 'NH3');
                
                if (nh3Molecules.length >= 2) {
                    // ç§»é™¤2ä¸ªNH3
                    const indices = [
                        this.molecules.indexOf(nh3Molecules[0]),
                        this.molecules.indexOf(nh3Molecules[1])
                    ];
                    
                    // è®¡ç®—ç”Ÿæˆç‰©çš„ä½ç½®
                    const avgX = (nh3Molecules[0].x + nh3Molecules[1].x) / 2;
                    const avgY = (nh3Molecules[0].y + nh3Molecules[1].y) / 2;
                    
                    // ä»åå¾€å‰ç§»é™¤
                    indices.sort((a, b) => b - a).forEach(index => {
                        this.molecules.splice(index, 1);
                    });
                    
                    // ç”Ÿæˆ1ä¸ªN2å’Œ3ä¸ªH2
                    const n2 = new Molecule('N2', 
                        avgX + (Math.random() - 0.5) * 20,
                        avgY + (Math.random() - 0.5) * 20
                    );
                    n2.highlight = 1.0;
                    this.molecules.push(n2);
                    
                    for (let i = 0; i < 3; i++) {
                        const h2 = new Molecule('H2',
                            avgX + (Math.random() - 0.5) * 30,
                            avgY + (Math.random() - 0.5) * 30
                        );
                        h2.highlight = 1.0;
                        this.molecules.push(h2);
                    }
                    
                    this.updateCounts();
                }
            }
            
            updateRateDisplays() {
                // è®¡ç®—ååº”é€Ÿç‡ï¼ˆåŸºäºæœ€è¿‘çš„ååº”æ¬¡æ•°ï¼‰
                const forwardRate = this.forwardReactions * 10;
                const reverseRate = this.reverseReactions * 10;
                
                // æ›´æ–°æ˜¾ç¤º
                document.getElementById('forwardRate').textContent = forwardRate.toFixed(1);
                document.getElementById('reverseRate').textContent = reverseRate.toFixed(1);
                
                // æ¯ç§’é’Ÿé‡ç½®è®¡æ•°
                if (Date.now() - this.lastRateReset > 1000) {
                    this.forwardReactions = 0;
                    this.reverseReactions = 0;
                    this.lastRateReset = Date.now();
                }
            }
            
            updateDataPanel() {
                document.getElementById('n2Count').textContent = this.n2Count;
                document.getElementById('h2Count').textContent = this.h2Count;
                document.getElementById('nh3Count').textContent = this.nh3Count;
                
                // æ›´æ–°å¹³è¡¡çŠ¶æ€
                const forwardRate = parseFloat(document.getElementById('forwardRate').textContent);
                const reverseRate = parseFloat(document.getElementById('reverseRate').textContent);
                const isBalanced = Math.abs(forwardRate - reverseRate) < 0.5;
                
                document.getElementById('equilibriumStatus').textContent = isBalanced ? 'æ˜¯' : 'å¦';
                document.getElementById('equilibriumStatus').style.color = isBalanced ? '#10b981' : '#f59e0b';
            }
            
            draw(ctx) {
                // ç»˜åˆ¶å®¹å™¨èƒŒæ™¯
                ctx.fillStyle = COLORS.BACKGROUND;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶å®¹å™¨è¾¹æ¡†
                ctx.strokeStyle = COLORS.CONTAINER;
                ctx.lineWidth = 3;
                ctx.strokeRect(5, 5, canvas.width - 10, canvas.height - 10);
                
                // ç»˜åˆ¶æ‰€æœ‰åˆ†å­
                for (const molecule of this.molecules) {
                    molecule.draw(ctx);
                }
                
                // ç»˜åˆ¶ååº”é€Ÿç‡æŒ‡ç¤ºå™¨
                this.drawRateIndicator(ctx);
            }
            
            drawRateIndicator(ctx) {
                const width = 200;
                const height = 20;
                const x = canvas.width - width - 20;
                const y = 20;
                
                // èƒŒæ™¯
                ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
                ctx.fillRect(x, y, width, height);
                
                // æ­£ååº”é€Ÿç‡æ¡
                const forwardRate = parseFloat(document.getElementById('forwardRate').textContent);
                const reverseRate = parseFloat(document.getElementById('reverseRate').textContent);
                const maxRate = Math.max(forwardRate, reverseRate, 20);
                
                const forwardWidth = (forwardRate / maxRate) * (width - 4);
                const reverseWidth = (reverseRate / maxRate) * (width - 4);
                
                // æ­£ååº”ï¼ˆç»¿è‰²ï¼‰
                ctx.fillStyle = COLORS.FORWARD;
                ctx.fillRect(x + 2, y + 2, forwardWidth, height / 2 - 3);
                
                // é€†ååº”ï¼ˆæ©™è‰²ï¼‰
                ctx.fillStyle = COLORS.REVERSE;
                ctx.fillRect(x + 2, y + height / 2 + 1, reverseWidth, height / 2 - 3);
                
                // æ ‡ç­¾
                ctx.fillStyle = '#e2e8f0';
                ctx.font = '12px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('æ­£ååº”', x - 50, y + height / 4 + 3);
                ctx.fillText('é€†ååº”', x - 50, y + 3 * height / 4 + 3);
            }
            
            changePressure(increase) {
                if (increase) {
                    this.pressure *= 1.5;
                    this.containerScale *= 0.8; // ç¼©å°å®¹å™¨æ¨¡æ‹Ÿå¢å¤§å‹å¼º
                    this.updatePrincipleText('å¢å¤§äº†å‹å¼ºï¼ˆç¼©å°å®¹å™¨ä½“ç§¯ï¼‰');
                } else {
                    this.pressure /= 1.5;
                    this.containerScale *= 1.25; // æ‰©å¤§å®¹å™¨æ¨¡æ‹Ÿå‡å°å‹å¼º
                    this.updatePrincipleText('å‡å°äº†å‹å¼ºï¼ˆæ‰©å¤§å®¹å™¨ä½“ç§¯ï¼‰');
                }
                
                this.pressure = Math.max(0.1, Math.min(10, this.pressure));
                this.containerScale = Math.max(0.3, Math.min(2, this.containerScale));
                
                document.getElementById('pressureValue').textContent = this.pressure.toFixed(1);
            }
            
            changeTemperature(increase) {
                if (increase) {
                    this.temperature += 50;
                    this.updatePrincipleText('å‡é«˜äº†æ¸©åº¦ï¼ˆå¸çƒ­ååº”é€†å‘ç§»åŠ¨ï¼‰');
                } else {
                    this.temperature -= 50;
                    this.updatePrincipleText('é™ä½äº†æ¸©åº¦ï¼ˆæ”¾çƒ­ååº”æ­£å‘ç§»åŠ¨ï¼‰');
                }
                
                this.temperature = Math.max(200, Math.min(500, this.temperature));
                document.getElementById('tempValue').textContent = this.temperature;
            }
            
            toggleCatalyst(active) {
                this.catalystActive = active;
                document.getElementById('catalystStatus').textContent = active ? 'å·²æ¿€æ´»' : 'æœªä½¿ç”¨';
                document.getElementById('catalystStatus').style.color = active ? '#10b981' : '#94a3b8';
                
                this.updatePrincipleText(active ? 
                    'åŠ å…¥äº†å‚¬åŒ–å‰‚ï¼ˆåŒç­‰åŠ å¿«æ­£é€†ååº”é€Ÿç‡ï¼Œå¹³è¡¡ä¸ç§»åŠ¨ï¼‰' : 
                    'ç§»é™¤äº†å‚¬åŒ–å‰‚');
            }
        }
        
        // å…¨å±€å˜é‡
        let reactionSystem = new ReactionSystem();
        let animationId = null;
        let isPaused = false;
        let simulationSpeed = 1.0;
        let lastRateReset = Date.now();
        
        // åˆå§‹åŒ–
        function init() {
            drawMoleculePreviews();
            reactionSystem.lastRateReset = Date.now();
            updateAnimation();
            
            // è®¾ç½®åˆå§‹æ˜¾ç¤º
            document.getElementById('tempValue').textContent = reactionSystem.temperature;
            document.getElementById('pressureValue').textContent = reactionSystem.pressure.toFixed(1);
        }
        
        // åŠ¨ç”»å¾ªç¯
        function updateAnimation() {
            if (!isPaused) {
                reactionSystem.update();
                reactionSystem.draw(ctx);
            }
            
            animationId = requestAnimationFrame(updateAnimation);
        }
        
        // äº‹ä»¶ç›‘å¬å™¨
        document.getElementById('pauseBtn').addEventListener('click', function() {
            isPaused = !isPaused;
            this.innerHTML = isPaused ? '<span>â–¶ï¸ ç»§ç»­</span>' : '<span>â¸ï¸ æš‚åœ</span>';
        });
        
        document.getElementById('resetBtn').addEventListener('click', function() {
            reactionSystem = new ReactionSystem();
            reactionSystem.lastRateReset = Date.now();
            isPaused = false;
            document.getElementById('pauseBtn').innerHTML = '<span>â¸ï¸ æš‚åœ</span>';
            simulationSpeed = 1.0;
            document.getElementById('speedSlider').value = 1.0;
            document.getElementById('speedValue').textContent = '1.0x';
            document.getElementById('speedBtn').innerHTML = '<span>ğŸ¢ æ…¢é€Ÿ</span>';
            document.getElementById('catalystStatus').textContent = 'æœªä½¿ç”¨';
            document.getElementById('catalystStatus').style.color = '#94a3b8';
            
            document.getElementById('tempValue').textContent = reactionSystem.temperature;
            document.getElementById('pressureValue').textContent = reactionSystem.pressure.toFixed(1);
            
            reactionSystem.updatePrincipleText('ç³»ç»Ÿå·²é‡ç½®åˆ°åˆå§‹å¹³è¡¡çŠ¶æ€');
        });
        
        document.getElementById('speedBtn').addEventListener('click', function() {
            if (simulationSpeed === 1.0) {
                simulationSpeed = 0.3;
                this.innerHTML = '<span>ğŸŒ ææ…¢</span>';
            } else if (simulationSpeed === 0.3) {
                simulationSpeed = 2.0;
                this.innerHTML = '<span>ğŸ‡ å¿«é€Ÿ</span>';
            } else {
                simulationSpeed = 1.0;
                this.innerHTML = '<span>ğŸ¢ æ…¢é€Ÿ</span>';
            }
            document.getElementById('speedSlider').value = simulationSpeed;
            document.getElementById('speedValue').textContent = simulationSpeed.toFixed(1) + 'x';
        });
        
        document.getElementById('speedSlider').addEventListener('input', function() {
            simulationSpeed = parseFloat(this.value);
            document.getElementById('speedValue').textContent = simulationSpeed.toFixed(1) + 'x';
            
            if (simulationSpeed < 0.5) {
                document.getElementById('speedBtn').innerHTML = '<span>ğŸŒ ææ…¢</span>';
            } else if (simulationSpeed > 1.5) {
                document.getElementById('speedBtn').innerHTML = '<span>ğŸ‡ å¿«é€Ÿ</span>';
            } else {
                document.getElementById('speedBtn').innerHTML = '<span>ğŸ¢ æ…¢é€Ÿ</span>';
            }
        });
        
        // æµ“åº¦æ§åˆ¶
        document.getElementById('addN2').addEventListener('click', () => reactionSystem.addMolecule('N2', 10));
        document.getElementById('addH2').addEventListener('click', () => reactionSystem.addMolecule('H2', 30));
        document.getElementById('addNH3').addEventListener('click', () => reactionSystem.addMolecule('NH3', 10));
        document.getElementById('removeN2').addEventListener('click', () => reactionSystem.removeMolecule('N2', 10));
        document.getElementById('removeH2').addEventListener('click', () => reactionSystem.removeMolecule('H2', 30));
        document.getElementById('removeNH3').addEventListener('click', () => reactionSystem.removeMolecule('NH3', 10));
        
        // å‹å¼ºå’Œæ¸©åº¦æ§åˆ¶
        document.getElementById('increasePressure').addEventListener('click', () => reactionSystem.changePressure(true));
        document.getElementById('decreasePressure').addEventListener('click', () => reactionSystem.changePressure(false));
        document.getElementById('increaseTemp').addEventListener('click', () => reactionSystem.changeTemperature(true));
        document.getElementById('decreaseTemp').addEventListener('click', () => reactionSystem.changeTemperature(false));
        
        // å‚¬åŒ–å‰‚æ§åˆ¶
        document.getElementById('addCatalyst').addEventListener('click', () => reactionSystem.toggleCatalyst(true));
        document.getElementById('removeCatalyst').addEventListener('click', () => reactionSystem.toggleCatalyst(false));
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', init);
    </script>
</body>
</html>

### 3. è¿‡ç¨‹è¾“å‡º

### 3. ä½¿ç”¨æŒ‡å—

## åŒ–å­¦å¹³è¡¡ç§»åŠ¨äº¤äº’å¼æ•™å­¦åŠ¨ç”»ä½¿ç”¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨â€œåŒ–å­¦å¹³è¡¡ç§»åŠ¨å¾®è§‚åŠ¨ç”»â€ï¼æœ¬å·¥å…·æ—¨åœ¨é€šè¿‡ç›´è§‚çš„åŠ¨æ€å¯è§†åŒ–ï¼Œå¸®åŠ©æ‚¨æ·±å…¥ç†è§£å‹’å¤ç‰¹åˆ—åŸç†çš„å¾®è§‚æœ¬è´¨ã€‚æ— è®ºæ‚¨æ˜¯å­¦ç”Ÿã€æ•™å¸ˆè¿˜æ˜¯åŒ–å­¦çˆ±å¥½è€…ï¼Œéƒ½èƒ½é€šè¿‡äº¤äº’æ“ä½œï¼Œäº²çœ¼è§è¯å¹³è¡¡ç§»åŠ¨çš„å¥‡å¦™è¿‡ç¨‹ã€‚

---

### ğŸ¯ æ ¸å¿ƒæ•™å­¦ç›®æ ‡

é€šè¿‡æœ¬åŠ¨ç”»ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼š
1. **ç›´è§‚è§‚å¯Ÿ**åˆæˆæ°¨ååº”ï¼ˆNâ‚‚ + 3Hâ‚‚ â‡Œ 2NHâ‚ƒï¼‰ä¸­åˆ†å­çš„éšæœºè¿åŠ¨å’Œç¢°æ’
2. **ç†è§£åŠ¨æ€å¹³è¡¡**çš„æœ¬è´¨â€”â€”æ­£é€†ååº”æŒç»­è¿›è¡Œä½†å®è§‚æµ“åº¦ä¸å˜
3. **å»ºç«‹å®Œæ•´è®¤çŸ¥é“¾**ï¼šå®è§‚æ¡ä»¶æ”¹å˜ â†’ å¾®è§‚é€Ÿç‡å˜åŒ– â†’ å¹³è¡¡ç§»åŠ¨æ–¹å‘
4. **ä»é€Ÿç‡ç«äº‰è§’åº¦**å†…åŒ–å‹’å¤ç‰¹åˆ—åŸç†ï¼Œè¶…è¶Šæœºæ¢°è®°å¿†

---

### ğŸ® ä¸»è¦åŠŸèƒ½è¯¦è§£

#### 1. **åŠ¨ç”»æ§åˆ¶åŒº**ï¼ˆå·¦ä¸Šæ§åˆ¶é¢æ¿ï¼‰
- **â¸ï¸ æš‚åœ/ç»§ç»­**ï¼šéšæ—¶å†»ç»“ç”»é¢ï¼Œä»”ç»†è§‚å¯Ÿåˆ†å­çŠ¶æ€
- **ğŸ”„ é‡ç½®**ï¼šä¸€é”®æ¢å¤åˆ°åˆå§‹å¹³è¡¡çŠ¶æ€
- **ğŸ¢ é€Ÿåº¦è°ƒèŠ‚**ï¼š
  - æ»‘å—ï¼šç²¾ç»†æ§åˆ¶åŠ¨ç”»é€Ÿåº¦ï¼ˆ0.1x - 3.0xï¼‰
  - å¿«æ·æŒ‰é’®ï¼šåœ¨â€œææ…¢(0.3x)â€ã€â€œæ…¢é€Ÿ(1.0x)â€ã€â€œå¿«é€Ÿ(2.0x)â€é—´åˆ‡æ¢
  - **æ•™å­¦æç¤º**ï¼šåˆ†æååº”ç¬é—´æ—¶å»ºè®®ä½¿ç”¨æ…¢é€Ÿï¼Œè§‚å¯Ÿé•¿æœŸè¶‹åŠ¿æ—¶å¯ç”¨å¿«é€Ÿ

#### 2. **æµ“åº¦æ”¹å˜å®éªŒåŒº**
- **å¢åŠ ååº”ç‰©/ç”Ÿæˆç‰©**ï¼ˆ+æŒ‰é’®ï¼‰ï¼š
  - ç‚¹å‡»â€œå¢åŠ Nâ‚‚â€æˆ–â€œå¢åŠ Hâ‚‚â€ç«‹å³å‘å®¹å™¨æ³¨å…¥10ä¸ªç›¸åº”åˆ†å­
  - ç‚¹å‡»â€œå¢åŠ NHâ‚ƒâ€æ³¨å…¥10ä¸ªæ°¨åˆ†å­
  - **è§‚å¯Ÿé‡ç‚¹**ï¼šæ–°åˆ†å­ä»¥é«˜äº®é»„è‰²æ˜¾ç¤ºï¼Œæ³¨æ„æ­£é€†ååº”é€Ÿç‡çš„å˜åŒ–é¡ºåº

- **å‡å°‘ç‰©è´¨**ï¼ˆ-æŒ‰é’®ï¼‰ï¼š
  - ä»å®¹å™¨ä¸­ç§»é™¤ç›¸åº”åˆ†å­
  - **å…³é”®ç°è±¡**ï¼šç§»é™¤ååº”ç‰©ä¼šå¯¼è‡´æ­£ååº”é€Ÿç‡ç«‹å³ä¸‹é™

#### 3. **å‹å¼ºä¸æ¸©åº¦å®éªŒåŒº**
- **å‹å¼ºæ”¹å˜**ï¼š
  - â€œå¢å¤§å‹å¼ºâ€æ¨¡æ‹Ÿç¼©å°å®¹å™¨ä½“ç§¯ï¼ˆåˆ†å­æ›´å¯†é›†ï¼‰
  - â€œå‡å°å‹å¼ºâ€æ¨¡æ‹Ÿæ‰©å¤§å®¹å™¨ä½“ç§¯
  - **è®¾è®¡ç‰¹è‰²**ï¼šå®¹å™¨è¾¹æ¡†ä¼šç›¸åº”ç¼©æ”¾ï¼Œç›´è§‚å±•ç¤ºä½“ç§¯å˜åŒ–

- **æ¸©åº¦æ”¹å˜**ï¼š
  - æ¯ç‚¹å‡»ä¸€æ¬¡æ”¹å˜50Kï¼ˆèŒƒå›´200K-500Kï¼‰
  - **çƒ­åŠ›å­¦æç¤º**ï¼šåˆæˆæ°¨æ˜¯æ”¾çƒ­ååº”ï¼ˆÎ”H < 0ï¼‰ï¼Œå‡é«˜æ¸©åº¦æœ‰åˆ©äºé€†ååº”

#### 4. **å‚¬åŒ–å‰‚å®éªŒåŒº**
- **åŠ å…¥å‚¬åŒ–å‰‚**ï¼šåŒç­‰å€æ•°åŠ å¿«æ­£é€†ååº”é€Ÿç‡
- **æ ¸å¿ƒè§‚å¯Ÿ**ï¼šå¹³è¡¡ä½ç½®ä¸å˜ï¼Œä½†**æ›´å¿«è¾¾åˆ°å¹³è¡¡**
- å‚¬åŒ–å‰‚çŠ¶æ€å®æ—¶æ˜¾ç¤ºï¼Œä¾¿äºå¯¹æ¯”

---

### ğŸ“Š æ•°æ®ç›‘æ§é¢æ¿

#### å®æ—¶æ•°æ®ä»ªè¡¨ç›˜
| æŒ‡æ ‡ | æ˜¾ç¤ºå†…å®¹ | æ•™å­¦æ„ä¹‰ |
|------|----------|----------|
| **åˆ†å­è®¡æ•°** | Nâ‚‚ã€Hâ‚‚ã€NHâ‚ƒçš„å®æ—¶æ•°é‡ | ç›´è§‚å±•ç¤ºå„ç‰©è´¨æµ“åº¦å˜åŒ– |
| **ååº”é€Ÿç‡** | æ­£ååº”(ç»¿è‰²)ã€é€†ååº”(æ©™è‰²)é€Ÿç‡å€¼ | æ­ç¤ºå¹³è¡¡ç§»åŠ¨çš„åŠ¨åŠ›å­¦åŸå›  |
| **å¹³è¡¡çŠ¶æ€** | â€œæ˜¯/å¦â€åŠé¢œè‰²æ ‡è¯† | åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å¤„äºå¹³è¡¡æ€ |

#### é€Ÿç‡æŒ‡ç¤ºå™¨ï¼ˆå³ä¸Šè§’ï¼‰
- åŒè‰²æ¡å½¢å›¾å®æ—¶æ˜¾ç¤ºæ­£é€†ååº”é€Ÿç‡ç›¸å¯¹å¤§å°
- **ç»¿è‰²æ¡**ï¼šæ­£ååº”é€Ÿç‡ï¼ˆNâ‚‚+3Hâ‚‚â†’2NHâ‚ƒï¼‰
- **æ©™è‰²æ¡**ï¼šé€†ååº”é€Ÿç‡ï¼ˆ2NHâ‚ƒâ†’Nâ‚‚+3Hâ‚‚ï¼‰
- **å¹³è¡¡åˆ¤æ®**ï¼šä¸¤è‰²æ¡é•¿åº¦ç›¸è¿‘æ—¶ç³»ç»Ÿå¤„äºå¹³è¡¡

---

### ğŸ¨ è§†è§‰ç¼–ç ç³»ç»Ÿ

#### åˆ†å­è®¾è®¡ï¼ˆéµå¾ªåŒ–å­¦æƒ¯ä¾‹ï¼‰
| åˆ†å­ | é¢œè‰² | å½¢çŠ¶ | å¤§å° |
|------|------|------|------|
| **Nâ‚‚** | è“è‰² (#3b82f6) | åŒåŸå­ï¼Œæœ‰åŒ–å­¦é”® | ä¸­ç­‰ |
| **Hâ‚‚** | æµ…ç°è‰² (#94a3b8) | åŒåŸå­ï¼Œé”®è¾ƒçŸ­ | è¾ƒå° |
| **NHâ‚ƒ** | æ°®(é’è‰²)ã€æ°¢(æµ…ç°) | ä¸‰è§’é”¥å½¢ç»“æ„ | è¾ƒå¤§ |

#### äº¤äº’åé¦ˆè®¾è®¡
1. **é«˜äº®æ•ˆæœ**ï¼šæ–°æ·»åŠ /ç”Ÿæˆçš„åˆ†å­ä¼šé—ªçƒé»„è‰²å…‰æ™•
2. **ååº”ç‰¹æ•ˆ**ï¼šå‘ç”Ÿååº”æ—¶åˆ†å­ä½ç½®ä¼šåŸºäºè´¨å¿ƒè®¡ç®—
3. **åŸç†æç¤ºæ¡†**ï¼šæ¯æ¬¡æ“ä½œåæ˜¾ç¤ºå¯¹åº”çš„å‹’å¤ç‰¹åˆ—åŸç†è¡¨è¿°
4. **å®¹å™¨ç¼©æ”¾**ï¼šæ”¹å˜å‹å¼ºæ—¶å®¹å™¨è¾¹æ¡†åŠ¨æ€å˜åŒ–

---

### ğŸ§ª æ¨èæ•™å­¦æµç¨‹

#### ç¬¬ä¸€é˜¶æ®µï¼šè§‚å¯Ÿä¸å‘ç°ï¼ˆ5åˆ†é’Ÿï¼‰
1. ç‚¹å‡»â€œé‡ç½®â€ç¡®ä¿åˆå§‹çŠ¶æ€
2. è§‚å¯Ÿå¹³è¡¡çŠ¶æ€ä¸‹ï¼š
   - åˆ†å­çš„æ— è§„åˆ™è¿åŠ¨ï¼ˆå¸ƒæœ—è¿åŠ¨ï¼‰
   - æ­£é€†ååº”é€Ÿç‡åŸºæœ¬ç›¸ç­‰ï¼ˆçœ‹é€Ÿç‡æ¡å’Œæ•°æ®ï¼‰
   - å„ç‰©è´¨åˆ†å­æ•°åŸºæœ¬ç¨³å®š

#### ç¬¬äºŒé˜¶æ®µï¼šæµ“åº¦å®éªŒï¼ˆ10åˆ†é’Ÿï¼‰
**å®éªŒ1ï¼šå¢åŠ ååº”ç‰©æµ“åº¦**
1. ç‚¹å‡»â€œå¢åŠ Nâ‚‚â€ï¼ˆåŠ å…¥10ä¸ªNâ‚‚åˆ†å­ï¼‰
2. **ç«‹å³è§‚å¯Ÿ**ï¼š
   - æ­£ååº”é€Ÿç‡ç¬é—´å¢å¤§ï¼ˆç»¿è‰²æ¡å˜é•¿ï¼‰
   - é€†ååº”é€Ÿç‡æš‚æ—¶ä¸å˜
   - NHâ‚ƒåˆ†å­æ•°é€æ¸å¢åŠ 
3. **ç­‰å¾…æ–°å¹³è¡¡**ï¼šè§‚å¯Ÿç›´åˆ°é€Ÿç‡å†æ¬¡ç›¸ç­‰

**å®éªŒ2ï¼šå¢åŠ ç”Ÿæˆç‰©æµ“åº¦**
1. é‡ç½®ç³»ç»Ÿ
2. ç‚¹å‡»â€œå¢åŠ NHâ‚ƒâ€
3. æ³¨æ„è§‚å¯Ÿï¼š**é€†ååº”é€Ÿç‡é¦–å…ˆå¢å¤§**

#### ç¬¬ä¸‰é˜¶æ®µï¼šå‹å¼ºä¸æ¸©åº¦ï¼ˆ10åˆ†é’Ÿï¼‰
**å‹å¼ºå®éªŒå¯¹æ¯”**
1. é‡ç½®åç‚¹å‡»â€œå¢å¤§å‹å¼ºâ€
2. è§‚å¯Ÿï¼šåˆ†å­æ›´å¯†é›† â†’ ç¢°æ’æ›´é¢‘ç¹ â†’ **æ­£å‘ååº”ä¼˜åŠ¿**ï¼ˆä½“ç§¯å‡å°æ–¹å‘ï¼‰
3. ä¸â€œå‡å°å‹å¼ºâ€å¯¹æ¯”å®éªŒ

**æ¸©åº¦å®éªŒï¼ˆç†è§£ååº”çƒ­æ•ˆåº”ï¼‰**
1. è®°å½•åˆå§‹NHâ‚ƒæ•°é‡
2. ç‚¹å‡»â€œå‡é«˜æ¸©åº¦â€2æ¬¡ï¼ˆåˆ°398Kï¼‰
3. è§‚å¯Ÿï¼šNHâ‚ƒæ•°é‡**å‡å°‘**ï¼ˆæ”¾çƒ­ååº”é€†å‘ç§»åŠ¨ï¼‰
4. ç‚¹å‡»â€œé™ä½æ¸©åº¦â€æ¢å¤

#### ç¬¬å››é˜¶æ®µï¼šå‚¬åŒ–å‰‚æ¢ç©¶ï¼ˆ5åˆ†é’Ÿï¼‰
1. é‡ç½®ç³»ç»Ÿ
2. ç‚¹å‡»â€œåŠ å…¥å‚¬åŒ–å‰‚â€
3. è§‚å¯Ÿï¼šæ­£é€†ååº”é€Ÿç‡**åŒæ­¥å¢åŠ **
4. è¿›è¡Œæµ“åº¦æ”¹å˜å®éªŒï¼ŒéªŒè¯å¹³è¡¡ä½ç½®ä¸å˜

---

### ğŸ’¡ æ•™å­¦è¦ç‚¹ä¸å¸¸è§é—®é¢˜

#### å…³é”®æ•™å­¦ç‚¹
1. **é€Ÿç‡å˜åŒ–çš„é¡ºåºæ€§**ï¼šæ¡ä»¶æ”¹å˜æ—¶ï¼Œ**ç›´æ¥å—å½±å“çš„ååº”é€Ÿç‡å…ˆå˜åŒ–**
   - å¢åŠ Nâ‚‚ â†’ æ­£ååº”é€Ÿç‡ç«‹å³å¢åŠ 
   - å¢åŠ NHâ‚ƒ â†’ é€†ååº”é€Ÿç‡ç«‹å³å¢åŠ 

2. **å¹³è¡¡ç§»åŠ¨çš„â€œæ»åæ€§â€**ï¼šé€Ÿç‡å˜åŒ–å¯¼è‡´æµ“åº¦å˜åŒ–ï¼Œæµ“åº¦å˜åŒ–åˆå½±å“å¦ä¸€é€Ÿç‡
   - å½¢æˆåé¦ˆè°ƒèŠ‚ï¼Œæœ€ç»ˆè¾¾åˆ°æ–°å¹³è¡¡

3. **å‹’å¤ç‰¹åˆ—åŸç†çš„å¾®è§‚è§£é‡Š**ï¼š
   > â€œå‡å¼±è¿™ç§æ”¹å˜â€ = ç³»ç»Ÿé€šè¿‡é€Ÿç‡è°ƒæ•´æ¥æŠµæ¶ˆå¤–ç•Œæ‰°åŠ¨

#### å¸¸è§å­¦ç”Ÿç–‘é—®è§£ç­”
**Qï¼šä¸ºä»€ä¹ˆå¢å¤§å‹å¼ºå¹³è¡¡æ­£å‘ç§»åŠ¨ï¼Ÿ**
Aï¼šè§‚å¯Ÿåˆ†å­æ•°å˜åŒ–ï¼šæ­£å‘ååº”1+3=4ä¸ªåˆ†å­ â†’ 2ä¸ªåˆ†å­ï¼Œä½“ç§¯å‡å°ã€‚å¢å¤§å‹å¼ºæ—¶ï¼Œç³»ç»Ÿå€¾å‘äºå‘åˆ†å­æ•°å°‘çš„æ–¹å‘ç§»åŠ¨ï¼Œä»¥â€œå‡å¼±â€å‹å¼ºçš„å¢åŠ ã€‚

**Qï¼šå‚¬åŒ–å‰‚ä¸ºä»€ä¹ˆä¸æ”¹å˜å¹³è¡¡ï¼Ÿ**
Aï¼šå‚¬åŒ–å‰‚åŒç­‰é™ä½æ­£é€†ååº”çš„æ´»åŒ–èƒ½ï¼Œé€Ÿç‡å¢åŠ å€æ•°ç›¸åŒã€‚å°±åƒåŒæ—¶åŠ å¿«è¿›å‡ºæ°´é€Ÿåº¦ï¼Œæœ€ç»ˆæ°´ä½ï¼ˆå¹³è¡¡æµ“åº¦ï¼‰ä¸å˜ã€‚

**Qï¼šå¦‚ä½•åˆ¤æ–­æ˜¯å¦è¾¾åˆ°å¹³è¡¡ï¼Ÿ**
Aï¼šä¸¤ä¸ªæ ‡å‡†ï¼š
1. å„ç‰©è´¨åˆ†å­æ•°ä¸å†æ˜æ˜¾å˜åŒ–
2. æ­£é€†ååº”é€Ÿç‡åŸºæœ¬ç›¸ç­‰ï¼ˆçœ‹æ•°æ®é¢æ¿å’Œé€Ÿç‡æ¡ï¼‰

---

### ğŸš€ é«˜çº§ä½¿ç”¨å»ºè®®

#### å¯¹äºæ•™å¸ˆï¼š
1. **è¯¾å ‚æ¼”ç¤ºæ¨¡å¼**ï¼š
   - ä½¿ç”¨æŠ•å½±ä»ªå…¨å±å±•ç¤º
   - å…³é”®æ“ä½œå‰æé†’å­¦ç”Ÿè§‚å¯Ÿé‡ç‚¹
   - é…åˆâ€œæš‚åœâ€åŠŸèƒ½è¿›è¡Œè®²è§£

2. **æ¢ç©¶å¼å­¦ä¹ è®¾è®¡**ï¼š