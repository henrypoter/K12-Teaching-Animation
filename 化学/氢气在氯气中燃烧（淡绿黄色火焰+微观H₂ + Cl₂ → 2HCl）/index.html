<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°¢æ°”åœ¨æ°¯æ°”ä¸­ç‡ƒçƒ§ - æ•™å­¦åŠ¨ç”»</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            color: #e8eaf6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            max-width: 800px;
            width: 100%;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .equation {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 15px auto;
            display: inline-block;
            border: 2px solid #5c6bc0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .scene-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .scene-btn {
            background: #3949ab;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        .scene-btn:hover {
            background: #5c6bc0;
            transform: translateY(-2px);
        }

        .scene-btn.active {
            background: #ff9800;
            box-shadow: 0 0 15px rgba(255, 152, 0, 0.5);
        }

        .animation-container {
            width: 100%;
            max-width: 900px;
            height: 500px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-bottom: 25px;
            border: 2px solid #5c6bc0;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        #canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: #303f9f;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        .control-btn:hover {
            background: #3f51b5;
            transform: translateY(-2px);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
        }

        #progressSlider {
            width: 200px;
            height: 8px;
            -webkit-appearance: none;
            background: #5c6bc0;
            border-radius: 4px;
            outline: none;
        }

        #progressSlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff9800;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .info-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            max-width: 900px;
            width: 100%;
            margin-top: 10px;
            border-left: 5px solid #ff9800;
        }

        .info-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #ffcc80;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-content {
            line-height: 1.6;
            font-size: 1.05rem;
        }

        .hint {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: #ffcc80;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            pointer-events: none;
            opacity: 0.9;
        }

        .atom-label {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            pointer-events: none;
            z-index: 100;
            white-space: nowrap;
            transform: translateY(-100%);
            display: none;
        }

        @media (max-width: 768px) {
            .animation-container {
                height: 400px;
            }
            
            .scene-btn, .control-btn {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>æ°¢æ°”åœ¨æ°¯æ°”ä¸­ç‡ƒçƒ§</h1>
        <div class="subtitle">å®è§‚ç°è±¡ Â· å¾®è§‚è¿‡ç¨‹ Â· åŒ–å­¦æ–¹ç¨‹å¼</div>
        <div class="equation">Hâ‚‚ + Clâ‚‚ â†’ 2HCl</div>
    </div>

    <div class="scene-selector">
        <button class="scene-btn active" data-scene="macro">ğŸ”¥ å®è§‚ç«ç„°</button>
        <button class="scene-btn" data-scene="micro">ğŸ”¬ å¾®è§‚ååº”</button>
        <button class="scene-btn" data-scene="equation">ğŸ“ æ–¹ç¨‹å¼æ€»ç»“</button>
    </div>

    <div class="animation-container">
        <canvas id="canvas"></canvas>
        <div class="hint" id="hintText">é¼ æ ‡æ‚¬åœåœ¨åˆ†å­ä¸ŠæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</div>
        <div class="atom-label" id="atomLabel"></div>
    </div>

    <div class="controls">
        <button class="control-btn" id="playBtn">â–¶ï¸ æ’­æ”¾</button>
        <button class="control-btn" id="pauseBtn">â¸ï¸ æš‚åœ</button>
        <button class="control-btn" id="resetBtn">ğŸ”„ é‡ç½®</button>
        
        <div class="slider-container">
            <span>è¿›åº¦æ§åˆ¶:</span>
            <input type="range" id="progressSlider" min="0" max="100" value="0">
        </div>
    </div>

    <div class="info-panel">
        <div class="info-title">ğŸ“š å½“å‰å­¦ä¹ è¦ç‚¹</div>
        <div class="info-content" id="infoContent">
            è§‚å¯Ÿæ°¢æ°”åœ¨æ°¯æ°”ä¸­ç‡ƒçƒ§äº§ç”Ÿçš„æ·¡ç»¿é»„è‰²ç«ç„°ã€‚è¿™æ˜¯ä¸€ä¸ªå‰§çƒˆçš„åŒ–åˆååº”ï¼Œéœ€è¦åœ¨ä¸“ä¸šæŒ‡å¯¼ä¸‹è¿›è¡Œã€‚
        </div>
    </div>

    <script>
        // è·å–DOMå…ƒç´ 
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const sceneBtns = document.querySelectorAll('.scene-btn');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const progressSlider = document.getElementById('progressSlider');
        const hintText = document.getElementById('hintText');
        const atomLabel = document.getElementById('atomLabel');
        const infoContent = document.getElementById('infoContent');

        // è®¾ç½®Canvaså°ºå¯¸
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        // åŠ¨ç”»çŠ¶æ€
        let currentScene = 'macro';
        let animationTime = 0;
        let isPlaying = true;
        let animationSpeed = 0.01;
        let hoveredObject = null;

        // é¢œè‰²å®šä¹‰
        const colors = {
            background: { macro: '#0a0e1a', micro: '#f5f7fa', equation: '#1a237e' },
            hydrogen: '#ffffff',
            chlorine: '#9acd32',
            flameCore: '#ffff00',
            flameEdge: '#adff2f',
            bond: '#666666',
            highlight: '#ff5722',
            text: '#333333'
        };

        // åˆ†å­å’ŒåŸå­æ•°æ®
        const molecules = {
            h2: { x: 0, y: 0, atoms: [{type: 'H', x: 0, y: 0}, {type: 'H', x: 0, y: 0}], bondLength: 40 },
            cl2: { x: 0, y: 0, atoms: [{type: 'Cl', x: 0, y: 0}, {type: 'Cl', x: 0, y: 0}], bondLength: 60 },
            hcl1: { x: 0, y: 0, atoms: [{type: 'H', x: 0, y: 0}, {type: 'Cl', x: 0, y: 0}], bondLength: 50 },
            hcl2: { x: 0, y: 0, atoms: [{type: 'H', x: 0, y: 0}, {type: 'Cl', x: 0, y: 0}], bondLength: 50 }
        };

        // ç«ç„°ç²’å­ç³»ç»Ÿ
        const flameParticles = [];
        for (let i = 0; i < 80; i++) {
            flameParticles.push({
                x: 0, y: 0,
                vx: (Math.random() - 0.5) * 2,
                vy: -Math.random() * 3 - 1,
                life: Math.random(),
                size: Math.random() * 8 + 4
            });
        }

        // åœºæ™¯åˆ‡æ¢
        sceneBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                sceneBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentScene = btn.dataset.scene;
                animationTime = 0;
                updateInfoContent();
                hintText.style.display = currentScene === 'micro' ? 'block' : 'none';
            });
        });

        // æ§åˆ¶æŒ‰é’®äº‹ä»¶
        playBtn.addEventListener('click', () => isPlaying = true);
        pauseBtn.addEventListener('click', () => isPlaying = false);
        resetBtn.addEventListener('click', () => {
            animationTime = 0;
            progressSlider.value = 0;
        });

        // è¿›åº¦æ¡æ§åˆ¶
        progressSlider.addEventListener('input', (e) => {
            animationTime = parseInt(e.target.value) / 100;
            isPlaying = false;
        });

        // Canvasé¼ æ ‡äº¤äº’
        canvas.addEventListener('mousemove', (e) => {
            if (currentScene !== 'micro') return;
            
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            hoveredObject = null;
            
            // æ£€æŸ¥æ˜¯å¦æ‚¬åœåœ¨åˆ†å­ä¸Š
            Object.keys(molecules).forEach(key => {
                const mol = molecules[key];
                const dx = x - mol.x;
                const dy = y - mol.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < 50) {
                    hoveredObject = {
                        type: key,
                        x: mol.x,
                        y: mol.y
                    };
                }
            });
            
            if (hoveredObject) {
                atomLabel.style.display = 'block';
                atomLabel.style.left = hoveredObject.x + 'px';
                atomLabel.style.top = hoveredObject.y + 'px';
                
                let label = '';
                switch(hoveredObject.type) {
                    case 'h2': label = 'æ°¢åˆ†å­ (Hâ‚‚)'; break;
                    case 'cl2': label = 'æ°¯åˆ†å­ (Clâ‚‚)'; break;
                    case 'hcl1': 
                    case 'hcl2': label = 'æ°¯åŒ–æ°¢åˆ†å­ (HCl)'; break;
                }
                atomLabel.textContent = label;
            } else {
                atomLabel.style.display = 'none';
            }
        });

        // æ›´æ–°ä¿¡æ¯é¢æ¿å†…å®¹
        function updateInfoContent() {
            switch(currentScene) {
                case 'macro':
                    infoContent.innerHTML = `
                        <strong>å®è§‚ç°è±¡è§‚å¯Ÿï¼š</strong><br>
                        â€¢ æ°¢æ°”åœ¨æ°¯æ°”ä¸­å®‰é™åœ°ç‡ƒçƒ§<br>
                        â€¢ äº§ç”Ÿ<strong style="color: #adff2f">æ·¡ç»¿é»„è‰²ç«ç„°</strong><br>
                        â€¢ ååº”ç”Ÿæˆæ°¯åŒ–æ°¢æ°”ä½“<br>
                        â€¢ å®éªŒéœ€åœ¨é€šé£æ©±ä¸­è¿›è¡Œ
                    `;
                    break;
                case 'micro':
                    infoContent.innerHTML = `
                        <strong>å¾®è§‚è¿‡ç¨‹è§£æï¼š</strong><br>
                        â€¢ æ°¢åˆ†å­(Hâ‚‚)å’Œæ°¯åˆ†å­(Clâ‚‚)åœ¨ç‚¹ç‡ƒæ¡ä»¶ä¸‹åŒ–å­¦é”®æ–­è£‚<br>
                        â€¢ æ°¢åŸå­å’Œæ°¯åŸå­é‡æ–°ç»„åˆ<br>
                        â€¢ å½¢æˆæ–°çš„åŒ–å­¦é”®ï¼Œç”Ÿæˆæ°¯åŒ–æ°¢åˆ†å­(HCl)<br>
                        â€¢ è¿™æ˜¯ä¸€ä¸ª<strong>åŒ–åˆååº”</strong>
                    `;
                    break;
                case 'equation':
                    infoContent.innerHTML = `
                        <strong>åŒ–å­¦æ–¹ç¨‹å¼æ€»ç»“ï¼š</strong><br>
                        â€¢ <strong>Hâ‚‚ + Clâ‚‚ â†’ 2HCl</strong><br>
                        â€¢ ååº”ç±»å‹ï¼šåŒ–åˆååº”<br>
                        â€¢ ååº”æ¡ä»¶ï¼šç‚¹ç‡ƒ<br>
                        â€¢ å„ç‰©è´¨çŠ¶æ€ï¼šHâ‚‚(æ°”æ€)ã€Clâ‚‚(æ°”æ€)ã€HCl(æ°”æ€)<br>
                        â€¢ åŸå­å®ˆæ’ï¼šååº”å‰åæ°¢åŸå­å’Œæ°¯åŸå­æ•°ç›®ä¸å˜
                    `;
                    break;
            }
        }

        // ç»˜åˆ¶å®è§‚ç«ç„°åœºæ™¯
        function drawMacroScene() {
            const centerX = canvas.width / 2;
            const burnerY = canvas.height * 0.7;
            
            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = colors.background.macro;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶ç‡ƒçƒ§å™¨
            ctx.fillStyle = '#888888';
            ctx.fillRect(centerX - 30, burnerY, 60, 40);
            ctx.fillRect(centerX - 10, burnerY - 20, 20, 20);
            
            // æ›´æ–°å’Œç»˜åˆ¶ç«ç„°ç²’å­
            const flameBaseX = centerX;
            const flameBaseY = burnerY - 20;
            
            for (let particle of flameParticles) {
                if (particle.life <= 0) {
                    particle.x = flameBaseX + (Math.random() - 0.5) * 20;
                    particle.y = flameBaseY;
                    particle.life = 1;
                    particle.vx = (Math.random() - 0.5) * 2;
                    particle.vy = -Math.random() * 3 - 1;
                }
                
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.life -= 0.02;
                
                // è®¡ç®—ç²’å­é¢œè‰²ï¼ˆä»é»„è‰²åˆ°é»„ç»¿è‰²ï¼‰
                const gradient = ctx.createRadialGradient(
                    particle.x, particle.y, 0,
                    particle.x, particle.y, particle.size
                );
                
                if (particle.life > 0.5) {
                    gradient.addColorStop(0, colors.flameCore);
                    gradient.addColorStop(1, `rgba(173, 255, 47, ${particle.life * 0.7})`);
                } else {
                    gradient.addColorStop(0, colors.flameEdge);
                    gradient.addColorStop(1, `rgba(173, 255, 47, ${particle.life * 0.5})`);
                }
                
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(particle.x, particle.y, particle.size * particle.life, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // ç»˜åˆ¶ç«ç„°æ ‡ç­¾
            ctx.fillStyle = colors.flameEdge;
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('æ·¡ç»¿é»„è‰²ç«ç„°', centerX, burnerY - 100);
        }

        // ç»˜åˆ¶å¾®è§‚ååº”åœºæ™¯
        function drawMicroScene() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = colors.background.micro;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯
            ctx.strokeStyle = 'rgba(200, 200, 200, 0.2)';
            ctx.lineWidth = 1;
            const gridSize = 40;
            
            for (let x = 0; x < canvas.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            
            for (let y = 0; y < canvas.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            
            // è®¡ç®—åŠ¨ç”»è¿›åº¦
            const t = Math.min(animationTime * 2, 1); // åŠ å¿«åŠ¨ç”»é€Ÿåº¦
            const reactionStage = Math.min(animationTime * 3, 1);
            
            // æ›´æ–°åˆ†å­ä½ç½®
            if (t < 0.5) {
                // ç¬¬ä¸€é˜¶æ®µï¼šåˆ†å­ç›¸äº’é è¿‘
                const approachProgress = t * 2;
                molecules.h2.x = centerX - 200 + approachProgress * 150;
                molecules.h2.y = centerY;
                molecules.cl2.x = centerX + 200 - approachProgress * 150;
                molecules.cl2.y = centerY;
            } else if (t < 0.8) {
                // ç¬¬äºŒé˜¶æ®µï¼šåŒ–å­¦é”®æ–­è£‚
                const breakProgress = (t - 0.5) * 3.33;
                molecules.h2.x = centerX - 50;
                molecules.h2.y = centerY;
                molecules.cl2.x = centerX + 50;
                molecules.cl2.y = centerY;
                
                // é«˜äº®æ˜¾ç¤ºé”®æ–­è£‚
                ctx.fillStyle = colors.highlight;
                ctx.globalAlpha = 0.5;
                ctx.beginPath();
                ctx.arc(centerX, centerY, 30, 0, Math.PI * 2);
                ctx.fill();
                ctx.globalAlpha = 1;
            } else {
                // ç¬¬ä¸‰é˜¶æ®µï¼šé‡æ–°ç»„åˆæˆHCl
                const formProgress = (t - 0.8) * 5;
                molecules.hcl1.x = centerX - 100;
                molecules.hcl1.y = centerY - 50;
                molecules.hcl2.x = centerX + 100;
                molecules.hcl2.y = centerY + 50;
            }
            
            // ç»˜åˆ¶åˆ†å­
            function drawMolecule(mol, label) {
                // æ›´æ–°åŸå­ä½ç½®
                const angle = Math.PI / 4;
                mol.atoms[0].x = mol.x - Math.cos(angle) * mol.bondLength / 2;
                mol.atoms[0].y = mol.y - Math.sin(angle) * mol.bondLength / 2;
                mol.atoms[1].x = mol.x + Math.cos(angle) * mol.bondLength / 2;
                mol.atoms[1].y = mol.y + Math.sin(angle) * mol.bondLength / 2;
                
                // ç»˜åˆ¶åŒ–å­¦é”®
                ctx.strokeStyle = colors.bond;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(mol.atoms[0].x, mol.atoms[0].y);
                ctx.lineTo(mol.atoms[1].x, mol.atoms[1].y);
                ctx.stroke();
                
                // ç»˜åˆ¶åŸå­
                mol.atoms.forEach(atom => {
                    ctx.fillStyle = atom.type === 'H' ? colors.hydrogen : colors.chlorine;
                    ctx.beginPath();
                    ctx.arc(atom.x, atom.y, atom.type === 'H' ? 15 : 20, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // åŸå­æ ‡ç­¾
                    ctx.fillStyle = colors.text;
                    ctx.font = 'bold 16px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(atom.type, atom.x, atom.y);
                });
                
                // åˆ†å­æ ‡ç­¾
                if (label && t < 0.8) {
                    ctx.fillStyle = colors.text;
                    ctx.font = 'bold 18px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(label, mol.x, mol.y + 50);
                }
            }
            
            // æ ¹æ®åŠ¨ç”»é˜¶æ®µç»˜åˆ¶ä¸åŒçš„åˆ†å­
            if (t < 0.8) {
                drawMolecule(molecules.h2, 'Hâ‚‚');
                drawMolecule(molecules.cl2, 'Clâ‚‚');
            } else {
                drawMolecule(molecules.hcl1, 'HCl');
                drawMolecule(molecules.hcl2, 'HCl');
            }
            
            // ç»˜åˆ¶ååº”ç®­å¤´å’Œè¯´æ˜
            ctx.fillStyle = colors.text;
            ctx.font = 'bold 20px Arial';
            ctx.textAlign = 'center';
            
            if (t < 0.5) {
                ctx.fillText('åˆ†å­ç›¸äº’é è¿‘...', centerX, centerY + 150);
            } else if (t < 0.8) {
                ctx.fillText('åŒ–å­¦é”®æ–­è£‚ï¼ŒåŸå­åˆ†ç¦»ï¼', centerX, centerY + 150);
                ctx.fillStyle = colors.highlight;
                ctx.fillText('éœ€è¦èƒ½é‡ï¼', centerX, centerY + 180);
            } else {
                ctx.fillText('åŸå­é‡æ–°ç»„åˆï¼Œå½¢æˆHClåˆ†å­', centerX, centerY + 150);
            }
            
            // é«˜äº®æ‚¬åœçš„åˆ†å­
            if (hoveredObject) {
                ctx.strokeStyle = colors.highlight;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(hoveredObject.x, hoveredObject.y, 55, 0, Math.PI * 2);
                ctx.stroke();
            }
        }

        // ç»˜åˆ¶æ–¹ç¨‹å¼æ€»ç»“åœºæ™¯
        function drawEquationScene() {
            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = colors.background.equation;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // ç»˜åˆ¶å¤§æ ‡é¢˜
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 48px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('æ°¢æ°”åœ¨æ°¯æ°”ä¸­ç‡ƒçƒ§', centerX, 80);
            
            // ç»˜åˆ¶åŒ–å­¦æ–¹ç¨‹å¼
            ctx.font = 'bold 72px "Courier New", monospace';
            ctx.fillStyle = colors.hydrogen;
            ctx.fillText('Hâ‚‚', centerX - 180, centerY);
            
            ctx.fillStyle = '#ffffff';
            ctx.fillText('+', centerX - 90, centerY);
            
            ctx.fillStyle = colors.chlorine;
            ctx.fillText('Clâ‚‚', centerX, centerY);
            
            ctx.fillStyle = '#ffffff';
            ctx.fillText('â†’', centerX + 90, centerY);
            
            ctx.fillStyle = '#ff9800';
            ctx.fillText('2HCl', centerX + 180, centerY);
            
            // ç»˜åˆ¶ååº”æ¡ä»¶
            ctx.font = '24px Arial';
            ctx.fillStyle = '#ffcc80';
            ctx.fillText('ç‚¹ç‡ƒ', centerX, centerY + 40);
            
            // ç»˜åˆ¶åˆ†å­æ¨¡å‹å›¾ç¤º
            const scale = 0.8 + Math.sin(animationTime * 5) * 0.1;
            
            // ç»˜åˆ¶Hâ‚‚åˆ†å­
            drawSimpleMolecule(centerX - 250, centerY + 150, 30, colors.hydrogen, 'H', 'Hâ‚‚', scale);
            
            // ç»˜åˆ¶+å·
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 36px Arial';
            ctx.fillText('+', centerX - 150, centerY + 150);
            
            // ç»˜åˆ¶Clâ‚‚åˆ†å­
            drawSimpleMolecule(centerX - 50, centerY + 150, 35, colors.chlorine, 'Cl', 'Clâ‚‚', scale);
            
            // ç»˜åˆ¶ç®­å¤´
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 36px Arial';
            ctx.fillText('â†’', centerX + 50, centerY + 150);
            
            // ç»˜åˆ¶2ä¸ªHClåˆ†å­
            drawSimpleMolecule(centerX + 120, centerY + 120, 30, colors.hydrogen, 'H', 'HCl', scale, colors.chlorine);
            drawSimpleMolecule(centerX + 220, centerY + 180, 30, colors.hydrogen, 'H', 'HCl', scale, colors.chlorine);
            
            // ç»˜åˆ¶"2Ã—"
            ctx.fillStyle = '#ff9800';
            ctx.font = 'bold 24px Arial';
            ctx.fillText('2 Ã—', centerX + 70, centerY + 150);
            
            // ç»˜åˆ¶è¯´æ˜æ–‡å­—
            ctx.fillStyle = '#c5cae9';
            ctx.font = '20px Arial';
            ctx.textAlign = 'center';
            const lines = [
                'è¿™æ˜¯ä¸€ä¸ªåŒ–åˆååº”',
                'ååº”å‰ï¼š1ä¸ªæ°¢åˆ†å­ + 1ä¸ªæ°¯åˆ†å­',
                'ååº”åï¼š2ä¸ªæ°¯åŒ–æ°¢åˆ†å­',
                'åŸå­å®ˆæ’ï¼šååº”å‰ååŸå­ç§ç±»å’Œæ•°ç›®ä¸å˜'
            ];
            
            lines.forEach((line, i) => {
                ctx.fillText(line, centerX, centerY + 250 + i * 30);
            });
        }
        
        function drawSimpleMolecule(x, y, radius, color1, label1, name, scale, color2 = null) {
            const angle = Math.PI / 4;
            const bondLength = 50 * scale;
            
            const atom1X = x - Math.cos(angle) * bondLength / 2;
            const atom1Y = y - Math.sin(angle) * bondLength / 2;
            const atom2X = x + Math.cos(angle) * bondLength / 2;
            const atom2Y = y + Math.sin(angle) * bondLength / 2;
            
            // ç»˜åˆ¶åŒ–å­¦é”®
            ctx.strokeStyle = colors.bond;
            ctx.lineWidth = 3 * scale;
            ctx.beginPath();
            ctx.moveTo(atom1X, atom1Y);
            ctx.lineTo(atom2X, atom2Y);
            ctx.stroke();
            
            // ç»˜åˆ¶ç¬¬ä¸€ä¸ªåŸå­
            ctx.fillStyle = color1;
            ctx.beginPath();
            ctx.arc(atom1X, atom1Y, radius * scale, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = colors.text;
            ctx.font = `bold ${16 * scale}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(label1, atom1X, atom1Y);
            
            // ç»˜åˆ¶ç¬¬äºŒä¸ªåŸå­
            ctx.fillStyle = color2 || color1;
            ctx.beginPath();
            ctx.arc(atom2X, atom2Y, radius * scale, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = colors.text;
            ctx.fillText(color2 ? 'Cl' : label1, atom2X, atom2Y);
            
            // ç»˜åˆ¶åˆ†å­åç§°
            ctx.fillStyle = '#ffffff';
            ctx.font = `bold ${18 * scale}px Arial`;
            ctx.fillText(name, x, y + 60 * scale);
        }

        // ä¸»åŠ¨ç”»å¾ªç¯
        function animate() {
            // æ›´æ–°åŠ¨ç”»æ—¶é—´
            if (isPlaying && animationTime < 1) {
                animationTime += animationSpeed;
                progressSlider.value = animationTime * 100;
            }
            
            // æ¸…é™¤ç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // æ ¹æ®å½“å‰åœºæ™¯ç»˜åˆ¶
            switch(currentScene) {
                case 'macro':
                    drawMacroScene();
                    break;
                case 'micro':
                    drawMicroScene();
                    break;
                case 'equation':
                    drawEquationScene();
                    break;
            }
            
            requestAnimationFrame(animate);
        }

        // åˆå§‹åŒ–
        updateInfoContent();
        animate();
    </script>
</body>
</html>