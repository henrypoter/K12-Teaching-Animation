# éœ€æ±‚ï¼šç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯ä¸å…¨çƒç¢³å¤±è¡¡ï¼ˆå«äººç±»æ´»åŠ¨å¹²æ‰°ï¼‰

### 1. ä¸“ä¸šæ€è€ƒ

### 1. ä¸“ä¸šæ€è€ƒ

#### ç”¨æˆ·éœ€æ±‚åˆ†æ
æœ¬åŠ¨ç”»çš„ç›®æ ‡ç”¨æˆ·ä¸»è¦æ˜¯é«˜ä¸­è‡³å¤§å­¦ä½å¹´çº§çš„å­¦ç”Ÿï¼Œä»¥åŠå¯¹ç¯å¢ƒç§‘å­¦æ„Ÿå…´è¶£çš„ç¤¾ä¼šå…¬ä¼—ã€‚ä»–ä»¬çš„æ ¸å¿ƒéœ€æ±‚æ˜¯ï¼š
1.  **ç†è§£å¤æ‚è¿‡ç¨‹**ï¼šå°†æŠ½è±¡çš„ç¢³å¾ªç¯ï¼ˆåŒ…æ‹¬ç”Ÿç‰©åœ°çƒåŒ–å­¦è¿‡ç¨‹ï¼‰å’Œå…¨çƒç¢³å¤±è¡¡æ¦‚å¿µï¼Œè½¬åŒ–ä¸ºç›´è§‚ã€åŠ¨æ€ã€å¯è§†åŒ–çš„æ¨¡å‹ã€‚
2.  **è¯†åˆ«å…³é”®ç¯èŠ‚**ï¼šæ¸…æ™°åŒºåˆ†è‡ªç„¶ç¢³å¾ªç¯ï¼ˆåŠ¨æ€å¹³è¡¡ï¼‰ä¸äººç±»æ´»åŠ¨å¹²æ‰°ï¼ˆä¸»è¦æ˜¯åŒ–çŸ³ç‡ƒæ–™ç‡ƒçƒ§å’ŒåœŸåœ°åˆ©ç”¨å˜åŒ–ï¼‰è¿™ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†ã€‚
3.  **å»ºç«‹å› æœè”ç³»**ï¼šç›´è§‚åœ°çœ‹åˆ°äººç±»æ´»åŠ¨å¦‚ä½•æ‰“ç ´è‡ªç„¶å¹³è¡¡ï¼Œå¯¼è‡´å¤§æ°”ä¸­äºŒæ°§åŒ–ç¢³æµ“åº¦å¢åŠ ï¼Œè¿›è€Œå¼•å‘å…¨çƒå˜æš–ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚
4.  **æ¿€å‘æ¢ç©¶ä¸åæ€**ï¼šä¸ä»…äº†è§£â€œæ˜¯ä»€ä¹ˆâ€å’Œâ€œä¸ºä»€ä¹ˆâ€ï¼Œè¿˜èƒ½é€šè¿‡äº¤äº’å¼•å‘å¯¹â€œå¦‚ä½•åº”å¯¹â€çš„æ€è€ƒã€‚

#### æ•™å­¦è®¾è®¡æ€è·¯
æœ¬è®¾è®¡éµå¾ªâ€œä»æ•´ä½“åˆ°å±€éƒ¨ï¼Œä»å¹³è¡¡åˆ°å¤±è¡¡ï¼Œä»è§‚å¯Ÿåˆ°äº¤äº’â€çš„è®¤çŸ¥è§„å¾‹ã€‚

*   **æ ¸å¿ƒæ¦‚å¿µåˆ†å±‚å‘ˆç°**ï¼š
    *   **ç¬¬ä¸€å±‚ï¼šè‡ªç„¶ç¢³å¾ªç¯**ï¼šå±•ç¤ºç¢³åœ¨å››å¤§å‚¨åº“ï¼ˆå¤§æ°”ã€æµ·æ´‹ã€é™†åœ°ç”Ÿç‰©åœˆã€åœŸå£¤ï¼‰ä¹‹é—´çš„è‡ªç„¶æµåŠ¨ï¼ˆå…‰åˆä½œç”¨ã€å‘¼å¸ä½œç”¨ã€åˆ†è§£ã€æµ·æ´‹æº¶è§£ä¸é‡Šæ”¾ï¼‰ï¼Œå¼ºè°ƒè¿™æ˜¯ä¸€ä¸ªæ¥è¿‘å¹³è¡¡çš„åŠ¨æ€ç³»ç»Ÿã€‚
    *   **ç¬¬äºŒå±‚ï¼šäººç±»æ´»åŠ¨å¹²æ‰°**ï¼šä»¥é†’ç›®çš„æ–¹å¼å åŠ æ˜¾ç¤ºäººç±»æ´»åŠ¨ï¼ˆåŒ–çŸ³ç‡ƒæ–™ç‡ƒçƒ§å›¾æ ‡ã€æ£®æ—ç ä¼å›¾æ ‡ï¼‰å‘å¤§æ°”ä¸­â€œæ³¨å…¥â€é¢å¤–çš„ç¢³æµã€‚
    *   **ç¬¬ä¸‰å±‚ï¼šç¢³å¤±è¡¡ä¸å½±å“**ï¼šå±•ç¤ºå› é¢å¤–ç¢³æ³¨å…¥å¯¼è‡´å¤§æ°”å‚¨åº“â€œè†¨èƒ€â€ï¼Œå¹¶ç”¨çƒ­åŠ›å›¾æˆ–æ¸©åº¦è®¡ç­‰è§†è§‰éšå–»å±•ç¤ºå…¶å¯¹å…¨çƒèƒ½é‡å¹³è¡¡çš„å½±å“ï¼ˆæ¸©å®¤æ•ˆåº”å¢å¼ºï¼‰ã€‚

*   **è®¤çŸ¥è§„å¾‹å¼•å¯¼**ï¼š
    1.  **å¸å¼•ä¸æ¦‚è¿°**ï¼šå¼€åœºç”¨åœ°çƒå’Œå¾ªç¯ç®­å¤´åŠ¨ç”»å¸å¼•æ³¨æ„åŠ›ï¼Œå¹¶è¯­éŸ³/æ–‡å­—æ¦‚è¿°å­¦ä¹ ç›®æ ‡ã€‚
    2.  **å»ºç«‹åŸºçº¿**ï¼šå…ˆå®Œæ•´ã€æµç•…åœ°è‡ªåŠ¨æ’­æ”¾ä¸€é**çº¯è‡ªç„¶çŠ¶æ€ä¸‹çš„ç¢³å¾ªç¯**ï¼Œè®©å­¦ä¹ è€…å»ºç«‹â€œå¹³è¡¡â€çš„è§†è§‰å°è±¡ã€‚
    3.  **å¼•å…¥å˜é‡**ï¼šç„¶åé‡ç½®ï¼ŒåŠ å…¥â€œäººç±»æ´»åŠ¨â€å¼€å…³ã€‚è®©å­¦ä¹ è€…æ‰‹åŠ¨å¼€å¯å¹²æ‰°ï¼Œè§‚å¯Ÿç³»ç»Ÿå¦‚ä½•ä»å¹³è¡¡èµ°å‘å¤±è¡¡ã€‚
    4.  **èšç„¦ä¸æ·±åŒ–**ï¼šé€šè¿‡ç‚¹å‡»å„å‚¨åº“æˆ–æµåŠ¨è·¯å¾„ï¼Œå¼¹å‡ºè¯¦ç»†ä¿¡æ¯å¡ç‰‡ï¼ˆå¦‚å…·ä½“æ•°æ®ã€åŒ–å­¦ååº”å¼ï¼‰ã€‚
    5.  **æŒ‘æˆ˜ä¸åæ€**ï¼šåœ¨æœ€åç¯èŠ‚ï¼Œè®¾ç½®ä¸€ä¸ªç®€å•çš„â€œå‡æ’æŒ‘æˆ˜â€äº¤äº’ï¼Œè®©å­¦ä¹ è€…å°è¯•è°ƒèŠ‚äººç±»æ´»åŠ¨å¼ºåº¦ï¼Œè§‚å¯Ÿå…¶å¯¹å¤§æ°”ç¢³æµ“åº¦çš„å½±å“ã€‚

*   **äº¤äº’è®¾è®¡**ï¼š
    *   **æ¸è¿›å¼æ­ç¤º**ï¼šä¿¡æ¯åˆ†å±‚ï¼Œé¿å…åˆå§‹ç”»é¢è¿‡äºæ‚ä¹±ã€‚
    *   **ç›´æ¥æ“ä½œ**ï¼šé€šè¿‡æ‹–æ‹½ã€ç‚¹å‡»ã€æ»‘åŠ¨å¼€å…³æ¥æ§åˆ¶åŠ¨ç”»çš„è¿›ç¨‹å’Œæ˜¾ç¤ºå†…å®¹ã€‚
    *   **å› æœå³æ—¶åé¦ˆ**ï¼šä»»ä½•æ“ä½œï¼ˆå¦‚å¼€å¯åŒ–çŸ³ç‡ƒæ–™æ’æ”¾ï¼‰éƒ½èƒ½ç«‹å³åœ¨åŠ¨ç”»ä¸­å¾—åˆ°è§†è§‰åé¦ˆï¼ˆç¢³æµå¢åŠ ã€å¤§æ°”åº“å˜å¤§ï¼‰ã€‚
    *   **å™äº‹æ§åˆ¶**ï¼šæä¾›â€œä»…è‡ªç„¶å¾ªç¯â€ã€â€œåŠ å…¥äººç±»æ´»åŠ¨â€ã€â€œå¿«è¿›100å¹´â€ç­‰é¢„è®¾åœºæ™¯æŒ‰é’®ï¼Œæ–¹ä¾¿æ•™å¸ˆè®²è§£æˆ–å­¦ç”Ÿè‡ªä¸»æ¢ç´¢ã€‚

*   **è§†è§‰å‘ˆç°**ï¼š
    *   **æ‹Ÿç‰©åŒ–ä¸ç¬¦å·åŒ–ç»“åˆ**ï¼šåœ°çƒã€æ£®æ—ã€å·¥å‚ã€æ±½è½¦ç­‰é‡‡ç”¨ç®€æ´çš„å›¾æ ‡åŒ–è®¾è®¡ï¼›ç¢³æµï¼ˆCOâ‚‚åˆ†å­å›¢ï¼‰ç”¨ç²’å­åŠ¨ç”»è¡¨ç¤ºï¼Œè‡ªç„¶ç¢³æµç”¨ç»¿è‰²/è“è‰²ï¼Œäººç±»æ’æ”¾ç¢³æµç”¨æ©™è‰²/çº¢è‰²ä»¥ç¤ºåŒºåˆ†ã€‚
    *   **åŠ¨æ€æ•°æ®å¯è§†åŒ–**ï¼šæ¯ä¸ªç¢³å‚¨åº“çš„å¤§å°å¯éšç¢³é‡å˜åŒ–è€Œè½»å¾®ç¼©æ”¾ï¼Œæ—è¾¹é…æœ‰åŠ¨æ€å˜åŒ–çš„æ•°å­—æ ‡ç­¾ï¼ˆå•ä½ï¼šGtCï¼‰ã€‚
    *   **è§†è§‰ç„¦ç‚¹å¼•å¯¼**ï¼šä½¿ç”¨æŸ”å’Œçš„èšå…‰ç¯æ•ˆæœæˆ–è„‰å†²åŠ¨ç”»ï¼Œåœ¨è®²è§£æ—¶é«˜äº®å½“å‰é‡ç‚¹éƒ¨åˆ†ã€‚

#### é…è‰²æ–¹æ¡ˆé€‰æ‹©
é…è‰²éœ€æ¸…æ™°åŒºåˆ†ç³»ç»Ÿå„éƒ¨åˆ†ï¼Œå¹¶ä¼ è¾¾æƒ…æ„ŸåŸºè°ƒï¼ˆè‡ªç„¶ vs. äººä¸ºå¹²æ‰°ï¼‰ã€‚
*   **ä¸»èƒŒæ™¯**ï¼šæ·±ç©ºè“æˆ–æ·±ç°è‰²ï¼Œæ¨¡æ‹Ÿå®‡å®™ç©ºé—´æ„Ÿï¼Œçªå‡ºå‰æ™¯å…ƒç´ ã€‚
*   **è‡ªç„¶ç³»ç»Ÿè‰²**ï¼š
    *   **å¤§æ°”**ï¼šæµ…è“è‰²åŠé€æ˜å±‚ã€‚
    *   **æµ·æ´‹**ï¼šæ·±è“è‰²åˆ°è“ç»¿è‰²æ¸å˜ã€‚
    *   **é™†åœ°ç”Ÿç‰©åœˆï¼ˆæ£®æ—ç­‰ï¼‰**ï¼šä¸åŒæ˜åº¦çš„ç»¿è‰²ã€‚
    *   **åœŸå£¤**ï¼šæ£•è‰²ã€‚
    *   **è‡ªç„¶ç¢³æµ**ï¼šé’ç»¿è‰²æˆ–æ¸©å’Œçš„è“è‰²ç®­å¤´/ç²’å­ã€‚
*   **äººç±»å¹²æ‰°è‰²**ï¼š
    *   **äººç±»æ´»åŠ¨å›¾æ ‡ï¼ˆå·¥å‚ã€æ±½è½¦ç­‰ï¼‰**ï¼šç°è‰²é‡‘å±è‰²ã€‚
    *   **äººä¸ºæ’æ”¾ç¢³æµ**ï¼šé²œæ˜çš„æ©™è‰²æˆ–çº¢è‰²ç®­å¤´/ç²’å­ï¼Œå…·æœ‰è­¦ç¤ºæ„å‘³ã€‚
*   **å¤±è¡¡ä¸å½±å“è‰²**ï¼š
    *   **å¤±è¡¡çš„å¤§æ°”å±‚**ï¼šå½“æµ“åº¦è¶…æ ‡æ—¶ï¼Œæµ…è“è‰²å¤§æ°”å±‚å¯é€æ¸å åŠ ä¸€å±‚æ·¡æ·¡çš„çº¢è‰²æ™•æŸ“ã€‚
    *   **æ¸©å®¤æ•ˆåº”çƒ­åŠ›å›¾**ï¼šä½¿ç”¨çº¢-é»„æš–è‰²è°ƒè¡¨ç¤ºçƒ­é‡æ»ç•™ã€‚
*   **ç•Œé¢ä¸æ–‡å­—**ï¼šç™½è‰²æˆ–æµ…ç°è‰²ï¼Œç¡®ä¿é«˜å¯è¯»æ€§ã€‚

#### äº¤äº’åŠŸèƒ½åˆ—è¡¨
1.  **ä¸»åœºæ™¯æ§åˆ¶é¢æ¿**ï¼š
    *   **æ’­æ”¾/æš‚åœ/é‡ç½®** æŒ‰é’®ï¼šæ§åˆ¶æ•´ä¸ªåŠ¨ç”»çš„æ’­æ”¾ã€‚
    *   **åœºæ™¯é€‰æ‹©å™¨**ï¼šä¸€é”®åˆ‡æ¢â€œçº¯è‡ªç„¶å¾ªç¯â€ã€â€œå·¥ä¸šé©å‘½å‰â€ã€â€œç°ä»£ï¼ˆé«˜æ’æ”¾ï¼‰â€ã€â€œæœªæ¥æƒ…æ™¯â€ç­‰æ¨¡å¼ã€‚
    *   **æ—¶é—´æµé€Ÿæ»‘å—**ï¼šåŠ å¿«æˆ–å‡æ…¢ç¢³å¾ªç¯è¿‡ç¨‹çš„æ¼”ç¤ºé€Ÿåº¦ã€‚

2.  **å›¾å±‚æ˜¾ç¤ºå¼€å…³**ï¼š
    *   â€œæ˜¾ç¤º/éšè—è‡ªç„¶ç¢³æµâ€
    *   â€œæ˜¾ç¤º/éšè—äººç±»æ’æ”¾â€
    *   â€œæ˜¾ç¤º/éšè—ç¢³å‚¨åº“æ•°æ®æ ‡ç­¾â€
    *   â€œæ˜¾ç¤º/éšè—æ¸©å®¤æ•ˆåº”ç¤ºæ„å›¾â€

3.  **å¯¹è±¡äº¤äº’**ï¼š
    *   **ç‚¹å‡»ç¢³å‚¨åº“**ï¼ˆå¦‚â€œæµ·æ´‹â€ï¼‰ï¼šå¼¹å‡ºè¯¦ç»†å¡ç‰‡ï¼Œæ˜¾ç¤ºè¯¥å‚¨åº“çš„ç¢³å‚¨é‡ã€ä¸»è¦è¿‡ç¨‹ï¼ˆå¦‚æº¶è§£æ³µã€ç”Ÿç‰©æ³µï¼‰ã€ä¸äººç±»æ´»åŠ¨çš„å…³ç³»ã€‚
    *   **ç‚¹å‡»ç¢³æµåŠ¨è·¯å¾„**ï¼ˆå¦‚â€œå…‰åˆä½œç”¨â€ç®­å¤´ï¼‰ï¼šå¼¹å‡ºè¯¦ç»†å¡ç‰‡ï¼Œè¯´æ˜è¯¥è¿‡ç¨‹ï¼Œå¹¶æ˜¾ç¤ºæ¯å¹´é€šé‡æ•°æ®ã€‚
    *   **ç‚¹å‡»äººç±»æ´»åŠ¨æº**ï¼ˆå¦‚â€œç…¤ç”µå‚â€ï¼‰ï¼šå¼¹å‡ºå¡ç‰‡ï¼Œæ˜¾ç¤ºå…¶å¹´æ’æ”¾é‡ã€å†å²å˜åŒ–æ›²çº¿ã€‚

4.  **æ¨¡æ‹Ÿä¸æŒ‘æˆ˜æ¨¡å—**ï¼š
    *   **â€œäººç±»æ´»åŠ¨â€æ§åˆ¶æ†**ï¼šä¸€ä¸ªå¯æ‹–åŠ¨çš„æ»‘å—ï¼Œæ¨¡æ‹Ÿä»â€œæ— å¹²æ‰°â€åˆ°â€œæé«˜æ’æ”¾â€çš„ä¸åŒå¼ºåº¦ã€‚å®æ—¶æ˜¾ç¤ºå¯¹åº”çš„å¤§æ°”COâ‚‚æµ“åº¦å’Œå…¨çƒå¹³å‡æ¸©åº¦å˜åŒ–å€¼ã€‚
    *   **â€œå‡æ’æŒ‘æˆ˜â€**ï¼šç»™å®šä¸€ä¸ªç›®æ ‡ï¼ˆå¦‚â€œå°†2100å¹´å‡æ¸©æ§åˆ¶åœ¨2â„ƒä»¥å†…â€ï¼‰ï¼Œå­¦ä¹ è€…éœ€è¦é€šè¿‡ç»„åˆè°ƒæ•´â€œèƒ½æºç»“æ„â€ã€â€œæ£®æ—è¦†ç›–ç‡â€ã€â€œå·¥ä¸šæ•ˆç‡â€ç­‰å¤šä¸ªæ»‘å—æ¥å®ç°ç›®æ ‡ï¼Œç³»ç»Ÿå³æ—¶åé¦ˆæ¨¡æ‹Ÿç»“æœã€‚

5.  **è¾…åŠ©åŠŸèƒ½**ï¼š
    *   è§£è¯´éŸ³è½¨å¼€å…³ä¸å­—å¹•ã€‚
    *   å…³é”®æœ¯è¯­æç¤ºï¼ˆé¼ æ ‡æ‚¬åœæ˜¾ç¤ºï¼‰ã€‚
    *   ä¸€é”®ä¿å­˜å½“å‰çŠ¶æ€ä¸ºå›¾ç‰‡çš„åŠŸèƒ½ã€‚

### 2. HTML_CODE

### 2. HTML_CODE

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯ä¸å…¨çƒç¢³å¤±è¡¡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a1929 0%, #1a2b3c 100%);
            color: #e0f2fe;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(16, 42, 67, 0.7);
            border-radius: 15px;
            border: 1px solid rgba(64, 156, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #4ade80, #22d3ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }

        .animation-section {
            flex: 3;
            min-width: 300px;
            background: rgba(16, 42, 67, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(64, 156, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .controls-section {
            flex: 1;
            min-width: 300px;
            background: rgba(16, 42, 67, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(64, 156, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        #animationCanvas {
            width: 100%;
            height: 600px;
            background: rgba(10, 25, 41, 0.5);
            border-radius: 10px;
            display: block;
            cursor: pointer;
        }

        .control-group {
            margin-bottom: 25px;
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #7dd3fc;
            border-bottom: 2px solid rgba(125, 211, 252, 0.3);
            padding-bottom: 8px;
        }

        h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #a5f3fc;
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 20px;
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 120px;
        }

        button:hover {
            background: linear-gradient(135deg, #1e3a8a, #2563eb);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button.active {
            background: linear-gradient(135deg, #059669, #10b981);
            box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.5);
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .slider-label span:last-child {
            color: #7dd3fc;
            font-weight: 600;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .toggle-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .toggle-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background: rgba(30, 58, 138, 0.3);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .toggle-item:hover {
            background: rgba(30, 58, 138, 0.5);
        }

        .toggle-item label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            flex: 1;
        }

        .toggle-icon {
            width: 24px;
            height: 24px;
            border-radius: 4px;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #475569;
            border-radius: 34px;
            transition: .4s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            border-radius: 50%;
            transition: .4s;
        }

        input:checked + .toggle-slider {
            background-color: #10b981;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        .info-panel {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #3b82f6;
        }

        .info-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #7dd3fc;
        }

        .info-content {
            line-height: 1.6;
            opacity: 0.9;
        }

        .data-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .data-item {
            background: rgba(30, 58, 138, 0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .data-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .data-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #7dd3fc;
        }

        .data-unit {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .challenge-section {
            background: rgba(16, 42, 67, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(64, 156, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .challenge-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .challenge-slider {
            background: rgba(30, 41, 59, 0.8);
            padding: 15px;
            border-radius: 10px;
        }

        .challenge-result {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(16, 185, 129, 0.2));
            border-radius: 10px;
            margin-top: 20px;
        }

        .result-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
            color: #10b981;
        }

        .warning {
            color: #f87171;
        }

        .success {
            color: #4ade80;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            opacity: 0.7;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            #animationCanvas {
                height: 400px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ ç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯ä¸å…¨çƒç¢³å¤±è¡¡</h1>
            <p class="subtitle">æ¢ç´¢è‡ªç„¶ç¢³å¾ªç¯çš„åŠ¨æ€å¹³è¡¡ï¼Œè§‚å¯Ÿäººç±»æ´»åŠ¨å¦‚ä½•å¹²æ‰°è¿™ä¸€ç³»ç»Ÿï¼Œå¹¶ç†è§£å…¨çƒç¢³å¤±è¡¡å¯¹æ°”å€™çš„å½±å“ã€‚</p>
        </header>

        <div class="main-content">
            <section class="animation-section">
                <h2>ç¢³å¾ªç¯åŠ¨æ€æ¨¡æ‹Ÿ</h2>
                <canvas id="animationCanvas"></canvas>
                
                <div class="data-display">
                    <div class="data-item">
                        <div class="data-label">å¤§æ°” COâ‚‚ æµ“åº¦</div>
                        <div class="data-value" id="co2Value">415</div>
                        <div class="data-unit">ppm</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">å…¨çƒå¹³å‡æ¸©åº¦</div>
                        <div class="data-value" id="tempValue">1.2</div>
                        <div class="data-unit">Â°C (ç›¸å¯¹äºå·¥ä¸šé©å‘½å‰)</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">å¹´ç¢³æ’æ”¾é‡</div>
                        <div class="data-value" id="emissionValue">36.8</div>
                        <div class="data-unit">Gt COâ‚‚/å¹´</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">ç¢³å¾ªç¯çŠ¶æ€</div>
                        <div class="data-value" id="balanceStatus">å¤±è¡¡</div>
                        <div class="data-unit" id="balanceDetail">(è‡ªç„¶å¸æ”¶ < äººç±»æ’æ”¾)</div>
                    </div>
                </div>
            </section>

            <section class="controls-section">
                <h2>æ¨¡æ‹Ÿæ§åˆ¶</h2>
                
                <div class="control-group">
                    <h3>åœºæ™¯æ¨¡å¼</h3>
                    <div class="button-group">
                        <button id="btnNatural" class="active">ä»…è‡ªç„¶å¾ªç¯</button>
                        <button id="btnPreIndustrial">å·¥ä¸šé©å‘½å‰</button>
                        <button id="btnModern">ç°ä»£é«˜æ’æ”¾</button>
                        <button id="btnFuture">æœªæ¥æƒ…æ™¯</button>
                    </div>
                </div>

                <div class="control-group">
                    <h3>æ—¶é—´æ§åˆ¶</h3>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>æ¨¡æ‹Ÿé€Ÿåº¦</span>
                            <span id="speedValue">1.0x</span>
                        </div>
                        <input type="range" id="speedSlider" min="0.1" max="3" step="0.1" value="1">
                    </div>
                    <div class="button-group">
                        <button id="btnPlay">â¸ï¸ æš‚åœ</button>
                        <button id="btnReset">ğŸ”„ é‡ç½®</button>
                        <button id="btnFastForward">â© å¿«è¿›100å¹´</button>
                    </div>
                </div>

                <div class="control-group">
                    <h3>æ˜¾ç¤ºé€‰é¡¹</h3>
                    <div class="toggle-group">
                        <div class="toggle-item">
                            <label>
                                <div class="toggle-icon" style="background: #22d3ee;"></div>
                                <span>è‡ªç„¶ç¢³æµ</span>
                            </label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="toggleNatural" checked>
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                        <div class="toggle-item">
                            <label>
                                <div class="toggle-icon" style="background: #f97316;"></div>
                                <span>äººç±»æ’æ”¾</span>
                            </label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="toggleHuman" checked>
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                        <div class="toggle-item">
                            <label>
                                <div class="toggle-icon" style="background: #ef4444;"></div>
                                <span>æ¸©å®¤æ•ˆåº”</span>
                            </label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="toggleGreenhouse">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                        <div class="toggle-item">
                            <label>
                                <div class="toggle-icon" style="background: #8b5cf6;"></div>
                                <span>æ•°æ®æ ‡ç­¾</span>
                            </label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="toggleLabels" checked>
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-panel">
                    <div class="info-title">ğŸ’¡ ç‚¹å‡»äº¤äº’æç¤º</div>
                    <div class="info-content">
                        ç‚¹å‡»ç”»å¸ƒä¸­çš„ä¸åŒå…ƒç´ æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š
                        <ul style="margin-top: 10px; padding-left: 20px;">
                            <li>ğŸŒ³ æ£®æ— - å…‰åˆä½œç”¨ä¸å‘¼å¸ä½œç”¨</li>
                            <li>ğŸŒŠ æµ·æ´‹ - ç¢³æº¶è§£ä¸ç”Ÿç‰©æ³µ</li>
                            <li>ğŸ­ å·¥å‚ - åŒ–çŸ³ç‡ƒæ–™æ’æ”¾</li>
                            <li>ğŸš— æ±½è½¦ - äº¤é€šæ’æ”¾</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>

        <section class="challenge-section">
            <h2>ğŸŒ± å‡æ’æŒ‘æˆ˜ï¼šå°†2100å¹´å‡æ¸©æ§åˆ¶åœ¨2Â°Cä»¥å†…</h2>
            <p style="margin-bottom: 20px; opacity: 0.9;">è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼Œè§‚å¯Ÿå¯¹å¤§æ°”COâ‚‚æµ“åº¦å’Œå…¨çƒæ¸©åº¦çš„å½±å“ï¼š</p>
            
            <div class="challenge-controls">
                <div class="challenge-slider">
                    <div class="slider-label">
                        <span>èƒ½æºç»“æ„</span>
                        <span id="energyValue">50%</span>
                    </div>
                    <input type="range" id="energySlider" min="0" max="100" value="50">
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 5px;">
                        å¯å†ç”Ÿèƒ½æºæ¯”ä¾‹
                    </div>
                </div>
                
                <div class="challenge-slider">
                    <div class="slider-label">
                        <span>æ£®æ—è¦†ç›–ç‡</span>
                        <span id="forestValue">30%</span>
                    </div>
                    <input type="range" id="forestSlider" min="10" max="50" value="30">
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 5px;">
                        å…¨çƒæ£®æ—è¦†ç›–ç‡
                    </div>
                </div>
                
                <div class="challenge-slider">
                    <div class="slider-label">
                        <span>å·¥ä¸šæ•ˆç‡</span>
                        <span id="efficiencyValue">60%</span>
                    </div>
                    <input type="range" id="efficiencySlider" min="20" max="90" value="60">
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 5px;">
                        èƒ½æºåˆ©ç”¨æ•ˆç‡
                    </div>
                </div>
            </div>

            <div class="challenge-result">
                <h3>2100å¹´é¢„æµ‹ç»“æœ</h3>
                <div class="data-item" style="display: inline-block; margin: 10px;">
                    <div class="data-label">å¤§æ°” COâ‚‚ æµ“åº¦</div>
                    <div class="data-value" id="futureCO2">520</div>
                    <div class="data-unit">ppm</div>
                </div>
                <div class="data-item" style="display: inline-block; margin: 10px;">
                    <div class="data-label">å…¨çƒå‡æ¸©</div>
                    <div class="data-value" id="futureTemp">2.8</div>
                    <div class="data-unit">Â°C</div>
                </div>
                
                <div id="challengeMessage" class="result-value warning">
                    âŒ è¶…å‡º2Â°Cç›®æ ‡
                </div>
                
                <p style="margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">
                    ç›®æ ‡ï¼šå°†å¯å†ç”Ÿèƒ½æºæ¯”ä¾‹æé«˜åˆ°70%ä»¥ä¸Šï¼Œæ£®æ—è¦†ç›–ç‡æé«˜åˆ°40%ä»¥ä¸Šï¼Œå·¥ä¸šæ•ˆç‡æé«˜åˆ°80%ä»¥ä¸Š
                </p>
            </div>
        </section>

        <footer>
            <p>æ•™å­¦åŠ¨ç”»è®¾è®¡ | ç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯ä¸å…¨çƒç¢³å¤±è¡¡ | æ•°æ®åŸºäºIPCCæŠ¥å‘Šä¸ç§‘å­¦ç ”ç©¶</p>
            <p>äº¤äº’å¼æ•™è‚²å·¥å…· - é€šè¿‡å¯è§†åŒ–ç†è§£å¤æ‚çš„ç”Ÿæ€ç³»ç»Ÿè¿‡ç¨‹</p>
        </footer>
    </div>

    <script>
        // åˆå§‹åŒ–Canvas
        const canvas = document.getElementById('animationCanvas');
        const ctx = canvas.getContext('2d');
        
        // è®¾ç½®Canvaså°ºå¯¸
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // æ¨¡æ‹ŸçŠ¶æ€
        let simulationState = {
            mode: 'natural', // natural, preIndustrial, modern, future
            isPlaying: true,
            speed: 1.0,
            time: 0,
            
            // æ˜¾ç¤ºé€‰é¡¹
            showNatural: true,
            showHuman: true,
            showGreenhouse: false,
            showLabels: true,
            
            // ç¢³å‚¨åº“æ•°æ® (å•ä½: GtC)
            reservoirs: {
                atmosphere: { value: 850, capacity: 1000, color: '#7dd3fc', x: 0.5, y: 0.2, radius: 60 },
                ocean: { value: 38000, capacity: 40000, color: '#22d3ee', x: 0.8, y: 0.6, radius: 90 },
                biosphere: { value: 560, capacity: 600, color: '#4ade80', x: 0.3, y: 0.5, radius: 50 },
                soil: { value: 2300, capacity: 2500, color: '#a16207', x: 0.2, y: 0.7, radius: 55 }
            },
            
            // ç¢³æµåŠ¨
            flows: {
                photosynthesis: { from: 'atmosphere', to: 'biosphere', rate: 123, color: '#10b981', active: true },
                respiration: { from: 'biosphere', to: 'atmosphere', rate: 118, color: '#86efac', active: true },
                decomposition: { from: 'biosphere', to: 'soil', rate: 60, color: '#d9f99d', active: true },
                soilRespiration: { from: 'soil', to: 'atmosphere', rate: 58, color: '#fef08a', active: true },
                oceanUptake: { from: 'atmosphere', to: 'ocean', rate: 92, color: '#38bdf8', active: true },
                oceanRelease: { from: 'ocean', to: 'atmosphere', rate: 90, color: '#0ea5e9', active: true }
            },
            
            // äººç±»æ´»åŠ¨
            humanActivities: {
                fossilFuels: { rate: 9.5, color: '#f97316', x: 0.7, y: 0.3, icon: 'ğŸ­' },
                deforestation: { rate: 1.5, color: '#ef4444', x: 0.4, y: 0.8, icon: 'ğŸª“' },
                transportation: { rate: 8.0, color: '#f59e0b', x: 0.6, y: 0.4, icon: 'ğŸš—' }
            },
            
            // æ¸©å®¤æ•ˆåº”
            greenhouseEffect: {
                intensity: 0.3,
                temperatureRise: 1.2
            },
            
            // ç‚¹å‡»äº¤äº’ä¿¡æ¯
            activeInfo: null
        };
        
        // ç²’å­ç³»ç»Ÿ
        class Particle {
            constructor(x, y, color, vx, vy, life = 100) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.vx = vx;
                this.vy = vy;
                this.life = life;
                this.maxLife = life;
                this.size = Math.random() * 3 + 2;
            }
            
            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.life--;
                this.vx *= 0.99;
                this.vy *= 0.99;
            }
            
            draw(ctx) {
                const alpha = this.life / this.maxLife;
                ctx.save();
                ctx.globalAlpha = alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
            
            isAlive() {
                return this.life > 0;
            }
        }
        
        let particles = [];
        
        // ç»˜åˆ¶å‡½æ•°
        function draw() {
            // æ¸…é™¤ç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶èƒŒæ™¯
            drawBackground();
            
            // ç»˜åˆ¶ç¢³å‚¨åº“
            drawReservoirs();
            
            // ç»˜åˆ¶ç¢³æµåŠ¨
            if (simulationState.showNatural) {
                drawFlows();
            }
            
            // ç»˜åˆ¶äººç±»æ´»åŠ¨
            if (simulationState.showHuman) {
                drawHumanActivities();
            }
            
            // ç»˜åˆ¶æ¸©å®¤æ•ˆåº”
            if (simulationState.showGreenhouse) {
                drawGreenhouseEffect();
            }
            
            // ç»˜åˆ¶æ•°æ®æ ‡ç­¾
            if (simulationState.showLabels) {
                drawLabels();
            }
            
            // ç»˜åˆ¶ç²’å­
            drawParticles();
            
            // ç»˜åˆ¶ç‚¹å‡»ä¿¡æ¯
            if (simulationState.activeInfo) {
                drawInfoPanel();
            }
        }
        
        function drawBackground() {
            // æ¸å˜èƒŒæ™¯
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#0a1929');
            gradient.addColorStop(1, '#1a2b3c');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ç½‘æ ¼çº¿
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
            ctx.lineWidth = 1;
            
            const gridSize = 50;
            for (let x = 0; x < canvas.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y < canvas.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
        }
        
        function drawReservoirs() {
            for (const [key, reservoir] of Object.entries(simulationState.reservoirs)) {
                const x = reservoir.x * canvas.width;
                const y = reservoir.y * canvas.height;
                const radius = reservoir.radius;
                
                // ç»˜åˆ¶å‚¨åº“
                ctx.save();
                
                // å‘å…‰æ•ˆæœ
                ctx.shadowColor = reservoir.color;
                ctx.shadowBlur = 15;
                
                // å¡«å……
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, radius);
                gradient.addColorStop(0, reservoir.color + 'cc');
                gradient.addColorStop(1, reservoir.color + '33');
                
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fill();
                
                // è¾¹æ¡†
                ctx.strokeStyle = reservoir.color;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                ctx.restore();
                
                // ç»˜åˆ¶æ ‡ç­¾
                if (simulationState.showLabels) {
                    ctx.fillStyle = '#ffffff';
                    ctx.font = '14px Arial';
                    ctx.textAlign = 'center';
                    
                    let label = '';
                    switch(key) {
                        case 'atmosphere': label = 'å¤§æ°”åœˆ'; break;
                        case 'ocean': label = 'æµ·æ´‹'; break;
                        case 'biosphere': label = 'ç”Ÿç‰©åœˆ'; break;
                        case 'soil': label = 'åœŸå£¤'; break;
                    }
                    
                    ctx.fillText(label, x, y + radius + 20);
                    ctx.fillText(`${Math.round(reservoir.value)} GtC`, x, y + radius + 40);
                }
            }
        }
        
        function drawFlows() {
            for (const [key, flow] of Object.entries(simulationState.flows)) {
                if (!flow.active) continue;
                
                const from = simulationState.reservoirs[flow.from];
                const to = simulationState.reservoirs[flow.to];
                
                const fromX = from.x * canvas.width;
                const fromY = from.y * canvas.height;
                const toX = to.x * canvas.width;
                const toY = to.y * canvas.height;
                
                // è®¡ç®—ç®­å¤´æ–¹å‘
                const dx = toX - fromX;
                const dy = toY - fromY;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx);
                
                // è°ƒæ•´èµ·ç‚¹å’Œç»ˆç‚¹åˆ°åœ†è¾¹ç¼˜
                const startX = fromX + Math.cos(angle) * from.radius;
                const startY = fromY + Math.sin(angle) * from.radius;
                const endX = toX - Math.cos(angle) * to.radius;
                const endY = toY - Math.sin(angle) * to.radius;
                
                // ç»˜åˆ¶æµåŠ¨çº¿
                ctx.save();
                ctx.strokeStyle = flow.color;
                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                
                // è™šçº¿æ•ˆæœ
                ctx.setLineDash([5, 5]);
                
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                
                ctx.restore();
                
                // ç»˜åˆ¶ç®­å¤´
                const arrowSize = 8;
                const arrowX = endX - Math.cos(angle) * arrowSize;
                const arrowY = endY - Math.sin(angle) * arrowSize;
                
                ctx.save();
                ctx.fillStyle = flow.color;
                ctx.translate(arrowX, arrowY);
                ctx.rotate(angle);
                
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(-arrowSize * 1.5, -arrowSize);
                ctx.lineTo(-arrowSize * 1.5, arrowSize);
                ctx.closePath();
                ctx.fill();
                
                ctx.restore();
                
                // ç”Ÿæˆç²’å­
                if (simulationState.isPlaying) {
                    const progress = (simulationState.time % 100) / 100;
                    const particleX = startX + (endX - startX) * progress;
                    const particleY = startY + (endY - startY) * progress;
                    
                    if (Math.random() < 0.3) {
                        particles.push(new Particle(
                            particleX,
                            particleY,
                            flow.color,
                            Math.cos(angle) * 2,
                            Math.sin(angle) * 2,
                            50
                        ));
                    }
                }
            }
        }
        
        function drawHumanActivities() {
            for (const [key, activity] of Object.entries(simulationState.humanActivities)) {
                const x = activity.x * canvas.width;
                const y = activity.y * canvas.height;
                
                // ç»˜åˆ¶å›¾æ ‡
                ctx.save();
                ctx.font = '30px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(activity.icon, x, y);
                ctx.restore();
                
                // ç»˜åˆ¶æ’æ”¾æµ
                const toX = simulationState.reservoirs.atmosphere.x * canvas.width;
                const toY = simulationState.reservoirs.atmosphere.y * canvas.height;
                
                const dx = toX - x;
                const dy = toY - y;
                const angle = Math.atan2(dy, dx);
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                // è°ƒæ•´ç»ˆç‚¹åˆ°å¤§æ°”åœˆè¾¹ç¼˜
                const endX = toX - Math.cos(angle) * simulationState.reservoirs.atmosphere.radius;
                const endY = toY - Math.sin(angle) * simulationState.reservoirs.atmosphere.radius;
                
                // ç»˜åˆ¶æ’æ”¾çº¿
                ctx.save();
                ctx.strokeStyle = activity.color;
                ctx.lineWidth = 3;
                ctx.lineCap = 'round';
                
                // é—ªçƒæ•ˆæœ
                const alpha = 0.5 + 0.5 * Math.sin(simulationState.time * 0.1);
                ctx.globalAlpha = alpha;
                
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                
                ctx.restore();
                
                // ç”Ÿæˆæ’æ”¾ç²’å­
                if (simulationState.isPlaying) {
                    const progress = (simulationState.time % 50) / 50;
                    const particleX = x + (endX - x) * progress;
                    const particleY = y + (endY - y) * progress;
                    
                    if (Math.random() < 0.5) {
                        particles.push(new Particle(
                            particleX,
                            particleY,
                            activity.color,
                            Math.cos(angle) * 3,
                            Math.sin(angle) * 3,
                            70
                        ));
                    }
                }
                
                // ç»˜åˆ¶æ ‡ç­¾
                if (simulationState.showLabels) {
                    ctx.fillStyle = activity.color;
                    ctx.font = '12px Arial';
                    ctx.textAlign = 'center';
                    
                    let label = '';
                    switch(key) {
                        case 'fossilFuels': label = 'åŒ–çŸ³ç‡ƒæ–™'; break;
                        case 'deforestation': label = 'æ£®æ—ç ä¼'; break;
                        case 'transportation': label = 'äº¤é€šè¿è¾“'; break;
                    }
                    
                    ctx.fillText(`${label} ${activity.rate} GtC/å¹´`, x, y + 25);
                }
            }
        }
        
        function drawGreenhouseEffect() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const maxRadius = Math.min(canvas.width, canvas.height) * 0.4;
            
            // ç»˜åˆ¶çƒ­åŠ›å›¾
            const gradient = ctx.createRadialGradient(
                centerX, centerY, maxRadius * 0.3,
                centerX, centerY, maxRadius
            );
            
            gradient.addColorStop(0, '#ef444400');
            gradient.addColorStop(0.5, '#f9731640');
            gradient.addColorStop(1, '#ef444420');
            
            ctx.save();
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(centerX, centerY, maxRadius, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();
            
            // ç»˜åˆ¶æ¸©åº¦è®¡
            const thermometerX = canvas.width - 100;
            const thermometerY = 100;
            const thermometerHeight = 200;
            const thermometerWidth = 30;
            
            // æ¸©åº¦è®¡èƒŒæ™¯
            ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.fillRect(thermometerX, thermometerY, thermometerWidth, thermometerHeight);
            
            // æ¸©åº¦å¡«å……
            const tempHeight = (simulationState.greenhouseEffect.temperatureRise / 5) * thermometerHeight;
            const tempGradient = ctx.createLinearGradient(
                thermometerX, thermometerY + thermometerHeight - tempHeight,
                thermometerX + thermometerWidth, thermometerY + thermometerHeight
            );
            
            tempGradient.addColorStop(0, '#10b981');
            tempGradient.addColorStop(0.5, '#f59e0b');
            tempGradient.addColorStop(1, '#ef4444');
            
            ctx.fillStyle = tempGradient;
            ctx.fillRect(
                thermometerX,
                thermometerY + thermometerHeight - tempHeight,
                thermometerWidth,
                tempHeight
            );
            
            // æ¸©åº¦è®¡è¾¹æ¡†
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.lineWidth = 2;
            ctx.strokeRect(thermometerX, thermometerY, thermometerWidth, thermometerHeight);
            
            // æ ‡ç­¾
            ctx.fillStyle = '#ffffff';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('å…¨çƒå‡æ¸©', thermometerX + thermometerWidth + 10, thermometerY + 20);
            ctx.fillText(`${simulationState.greenhouseEffect.temperatureRise.toFixed(1)}Â°C`, 
                        thermometerX + thermometerWidth + 10, thermometerY + 40);
        }
        
        function drawLabels() {
            // ç»˜åˆ¶æ ‡é¢˜
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯æ¨¡æ‹Ÿ', canvas.width / 2, 30);
            
            // ç»˜åˆ¶æ¨¡å¼æŒ‡ç¤ºå™¨
            let modeText =
<!--æ£€æµ‹åˆ°ä»£ç æˆªæ–­ï¼Œè‡ªåŠ¨ç»­å†™ä¸­...-->
let modeText = '';
            switch(simulationState.mode) {
                case 'natural': modeText = 'æ¨¡å¼ï¼šä»…è‡ªç„¶å¾ªç¯'; break;
                case 'preIndustrial': modeText = 'æ¨¡å¼ï¼šå·¥ä¸šé©å‘½å‰'; break;
                case 'modern': modeText = 'æ¨¡å¼ï¼šç°ä»£é«˜æ’æ”¾'; break;
                case 'future': modeText = 'æ¨¡å¼ï¼šæœªæ¥æƒ…æ™¯'; break;
            }
            
            ctx.font = '14px Arial';
            ctx.fillStyle = simulationState.isPlaying ? '#4ade80' : '#f59e0b';
            ctx.fillText(`${modeText} | ${simulationState.isPlaying ? 'æ’­æ”¾ä¸­' : 'å·²æš‚åœ'}`, canvas.width / 2, 55);
        }
        
        function drawParticles() {
            for (let i = particles.length - 1; i >= 0; i--) {
                const particle = particles[i];
                particle.update();
                particle.draw(ctx);
                
                if (!particle.isAlive()) {
                    particles.splice(i, 1);
                }
            }
        }
        
        function drawInfoPanel() {
            const info = simulationState.activeInfo;
            const panelWidth = 300;
            const panelHeight = 200;
            const x = Math.min(canvas.width - panelWidth - 20, info.x + 20);
            const y = Math.min(canvas.height - panelHeight - 20, info.y + 20);
            
            // ç»˜åˆ¶é¢æ¿èƒŒæ™¯
            ctx.save();
            ctx.fillStyle = 'rgba(30, 41, 59, 0.95)';
            ctx.strokeStyle = '#3b82f6';
            ctx.lineWidth = 2;
            ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
            ctx.shadowBlur = 10;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 5;
            
            ctx.beginPath();
            ctx.roundRect(x, y, panelWidth, panelHeight, 10);
            ctx.fill();
            ctx.stroke();
            ctx.restore();
            
            // ç»˜åˆ¶æ ‡é¢˜
            ctx.fillStyle = '#7dd3fc';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'left';
            ctx.fillText(info.title, x + 15, y + 30);
            
            // ç»˜åˆ¶å†…å®¹
            ctx.fillStyle = '#e0f2fe';
            ctx.font = '14px Arial';
            const lines = info.content.split('\n');
            lines.forEach((line, i) => {
                ctx.fillText(line, x + 15, y + 60 + i * 25);
            });
            
            // ç»˜åˆ¶å…³é—­æŒ‰é’®
            ctx.fillStyle = '#ef4444';
            ctx.font = 'bold 20px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Ã—', x + panelWidth - 20, y + 20);
        }
        
        // æ¨¡æ‹Ÿæ›´æ–°å‡½æ•°
        function updateSimulation() {
            if (!simulationState.isPlaying) return;
            
            simulationState.time += simulationState.speed;
            
            // æ ¹æ®æ¨¡å¼æ›´æ–°æ•°æ®
            switch(simulationState.mode) {
                case 'natural':
                    // è‡ªç„¶å¹³è¡¡çŠ¶æ€
                    simulationState.humanActivities.fossilFuels.rate = 0;
                    simulationState.humanActivities.deforestation.rate = 0;
                    simulationState.humanActivities.transportation.rate = 0;
                    simulationState.greenhouseEffect.temperatureRise = 0;
                    break;
                    
                case 'preIndustrial':
                    // å·¥ä¸šé©å‘½å‰
                    simulationState.humanActivities.fossilFuels.rate = 0.1;
                    simulationState.humanActivities.deforestation.rate = 0.3;
                    simulationState.humanActivities.transportation.rate = 0;
                    simulationState.greenhouseEffect.temperatureRise = 0;
                    break;
                    
                case 'modern':
                    // ç°ä»£é«˜æ’æ”¾
                    simulationState.humanActivities.fossilFuels.rate = 9.5;
                    simulationState.humanActivities.deforestation.rate = 1.5;
                    simulationState.humanActivities.transportation.rate = 8.0;
                    simulationState.greenhouseEffect.temperatureRise = 1.2;
                    break;
                    
                case 'future':
                    // æœªæ¥æƒ…æ™¯
                    simulationState.humanActivities.fossilFuels.rate = 12.0;
                    simulationState.humanActivities.deforestation.rate = 2.0;
                    simulationState.humanActivities.transportation.rate = 10.0;
                    simulationState.greenhouseEffect.temperatureRise = 2.8;
                    break;
            }
            
            // æ›´æ–°ç¢³å‚¨åº“
            updateReservoirs();
            
            // æ›´æ–°UIæ˜¾ç¤º
            updateUIDisplay();
            
            // æ›´æ–°æŒ‘æˆ˜æ¨¡æ‹Ÿ
            updateChallenge();
        }
        
        function updateReservoirs() {
            // è®¡ç®—å‡€è‡ªç„¶æµåŠ¨
            let netNaturalFlow = 0;
            for (const flow of Object.values(simulationState.flows)) {
                if (flow.active) {
                    const from = simulationState.reservoirs[flow.from];
                    const to = simulationState.reservoirs[flow.to];
                    
                    // ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç¢³
                    if (from.value >= flow.rate * 0.01) {
                        from.value -= flow.rate * 0.01;
                        to.value += flow.rate * 0.01;
                    }
                }
            }
            
            // è®¡ç®—äººç±»æ’æ”¾
            let totalHumanEmission = 0;
            for (const activity of Object.values(simulationState.humanActivities)) {
                totalHumanEmission += activity.rate;
                simulationState.reservoirs.atmosphere.value += activity.rate * 0.01;
            }
            
            // æ›´æ–°å¤§æ°”COâ‚‚æµ“åº¦æ˜¾ç¤º
            const co2Value = document.getElementById('co2Value');
            const baseCO2 = 280; // å·¥ä¸šé©å‘½å‰æµ“åº¦
            const humanContribution = totalHumanEmission * 0.47; // ç®€åŒ–è½¬æ¢å› å­
            const currentCO2 = Math.round(baseCO2 + humanContribution);
            co2Value.textContent = currentCO2;
            
            // æ›´æ–°æ¸©åº¦
            const tempValue = document.getElementById('tempValue');
            const tempRise = simulationState.greenhouseEffect.temperatureRise;
            tempValue.textContent = tempRise.toFixed(1);
            tempValue.className = 'data-value ' + 
                (tempRise < 1 ? 'success' : tempRise < 2 ? '' : 'warning');
            
            // æ›´æ–°æ’æ”¾é‡
            const emissionValue = document.getElementById('emissionValue');
            emissionValue.textContent = (totalHumanEmission * 3.67).toFixed(1); // è½¬æ¢ä¸ºGt CO2
            
            // æ›´æ–°å¹³è¡¡çŠ¶æ€
            const balanceStatus = document.getElementById('balanceStatus');
            const balanceDetail = document.getElementById('balanceDetail');
            
            const naturalAbsorption = simulationState.flows.oceanUptake.rate + 
                                     simulationState.flows.photosynthesis.rate;
            
            if (totalHumanEmission > naturalAbsorption * 0.8) {
                balanceStatus.textContent = 'ä¸¥é‡å¤±è¡¡';
                balanceStatus.className = 'data-value warning';
                balanceDetail.textContent = `(è‡ªç„¶å¸æ”¶ ${naturalAbsorption.toFixed(1)} < äººç±»æ’æ”¾ ${totalHumanEmission.toFixed(1)} GtC/å¹´)`;
            } else if (totalHumanEmission > 0) {
                balanceStatus.textContent = 'è½»åº¦å¤±è¡¡';
                balanceStatus.className = 'data-value';
                balanceDetail.textContent = `(è‡ªç„¶å¸æ”¶ ${naturalAbsorption.toFixed(1)} â‰ˆ äººç±»æ’æ”¾ ${totalHumanEmission.toFixed(1)} GtC/å¹´)`;
            } else {
                balanceStatus.textContent = 'å¹³è¡¡';
                balanceStatus.className = 'data-value success';
                balanceDetail.textContent = '(è‡ªç„¶å¾ªç¯åŠ¨æ€å¹³è¡¡)';
            }
        }
        
        function updateUIDisplay() {
            // æ›´æ–°é€Ÿåº¦æ˜¾ç¤º
            document.getElementById('speedValue').textContent = simulationState.speed.toFixed(1) + 'x';
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('btnPlay').textContent = simulationState.isPlaying ? 'â¸ï¸ æš‚åœ' : 'â–¶ï¸ æ’­æ”¾';
            
            // æ›´æ–°æ¨¡å¼æŒ‰é’®
            const modeButtons = ['btnNatural', 'btnPreIndustrial', 'btnModern', 'btnFuture'];
            modeButtons.forEach(btnId => {
                document.getElementById(btnId).classList.remove('active');
            });
            document.getElementById('btn' + simulationState.mode.charAt(0).toUpperCase() + simulationState.mode.slice(1)).classList.add('active');
        }
        
        function updateChallenge() {
            // è·å–æ»‘å—å€¼
            const energyValue = parseInt(document.getElementById('energySlider').value);
            const forestValue = parseInt(document.getElementById('forestSlider').value);
            const efficiencyValue = parseInt(document.getElementById('efficiencySlider').value);
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('energyValue').textContent = energyValue + '%';
            document.getElementById('forestValue').textContent = forestValue + '%';
            document.getElementById('efficiencyValue').textContent = efficiencyValue + '%';
            
            // è®¡ç®—æœªæ¥CO2æµ“åº¦
            const baseCO2 = 415; // å½“å‰æµ“åº¦
            const energyFactor = (100 - energyValue) / 100;
            const forestFactor = (40 - forestValue) / 40;
            const efficiencyFactor = (100 - efficiencyValue) / 100;
            
            const futureCO2 = Math.round(baseCO2 + 
                energyFactor * 150 + 
                forestFactor * 80 + 
                efficiencyFactor * 70);
            
            // è®¡ç®—æœªæ¥æ¸©åº¦
            const baseTemp = 1.2;
            const tempRise = baseTemp + 
                (futureCO2 - 415) / 100 * 0.6;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('futureCO2').textContent = futureCO2;
            document.getElementById('futureTemp').textContent = tempRise.toFixed(1);
            
            // æ›´æ–°æŒ‘æˆ˜ç»“æœ
            const challengeMessage = document.getElementById('challengeMessage');
            if (tempRise <= 2.0) {
                challengeMessage.textContent = 'âœ… è¾¾æˆ2Â°Cç›®æ ‡';
                challengeMessage.className = 'result-value success';
            } else if (tempRise <= 2.5) {
                challengeMessage.textContent = 'âš ï¸ æ¥è¿‘ç›®æ ‡';
                challengeMessage.className = 'result-value';
            } else {
                challengeMessage.textContent = 'âŒ è¶…å‡º2Â°Cç›®æ ‡';
                challengeMessage.className = 'result-value warning';
            }
        }
        
        // äº‹ä»¶å¤„ç†
        function setupEventListeners() {
            // ç”»å¸ƒç‚¹å‡»äº‹ä»¶
            canvas.addEventListener('click', (e) => {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»å…³é—­æŒ‰é’®
                if (simulationState.activeInfo) {
                    const panelWidth = 300;
                    const panelHeight = 200;
                    const infoX = Math.min(canvas.width - panelWidth - 20, simulationState.activeInfo.x + 20);
                    const infoY = Math.min(canvas.height - panelHeight - 20, simulationState.activeInfo.y + 20);
                    
                    if (x >= infoX + panelWidth - 30 && x <= infoX + panelWidth - 10 &&
                        y >= infoY && y <= infoY + 30) {
                        simulationState.activeInfo = null;
                        return;
                    }
                }
                
                // æ£€æŸ¥ç‚¹å‡»äº†å“ªä¸ªå…ƒç´ 
                let clickedElement = null;
                
                // æ£€æŸ¥ç¢³å‚¨åº“
                for (const [key, reservoir] of Object.entries(simulationState.reservoirs)) {
                    const resX = reservoir.x * canvas.width;
                    const resY = reservoir.y * canvas.height;
                    const distance = Math.sqrt((x - resX) ** 2 + (y - resY) ** 2);
                    
                    if (distance <= reservoir.radius) {
                        let title = '';
                        let content = '';
                        
                        switch(key) {
                            case 'atmosphere':
                                title = 'ğŸŒ¤ï¸ å¤§æ°”åœˆ';
                                content = 'ç¢³å‚¨é‡ï¼šçº¦850 GtC\nä¸»è¦è¿‡ç¨‹ï¼š\n- å…‰åˆä½œç”¨å¸æ”¶COâ‚‚\n- å‘¼å¸ä½œç”¨é‡Šæ”¾COâ‚‚\n- æµ·æ´‹æ°”ä½“äº¤æ¢\näººç±»å½±å“ï¼šåŒ–çŸ³ç‡ƒæ–™æ’æ”¾å¢åŠ å¤§æ°”COâ‚‚æµ“åº¦';
                                break;
                            case 'ocean':
                                title = 'ğŸŒŠ æµ·æ´‹';
                                content = 'ç¢³å‚¨é‡ï¼šçº¦38,000 GtC\nä¸»è¦è¿‡ç¨‹ï¼š\n- ç‰©ç†æº¶è§£æ³µ\n- ç”Ÿç‰©æ³µï¼ˆæµ®æ¸¸ç”Ÿç‰©ï¼‰\n- ç¢³é…¸ç›æ³µ\nå¸æ”¶èƒ½åŠ›ï¼šå¹´å¸æ”¶çº¦92 GtC';
                                break;
                            case 'biosphere':
                                title = 'ğŸŒ³ ç”Ÿç‰©åœˆ';
                                content = 'ç¢³å‚¨é‡ï¼šçº¦560 GtC\nä¸»è¦è¿‡ç¨‹ï¼š\n- å…‰åˆä½œç”¨å›ºå®šCOâ‚‚\n- å‘¼å¸ä½œç”¨é‡Šæ”¾COâ‚‚\n- é£Ÿç‰©é“¾ä¼ é€’\näººç±»å½±å“ï¼šæ£®æ—ç ä¼å‡å°‘ç¢³æ±‡';
                                break;
                            case 'soil':
                                title = 'ğŸŸ¤ åœŸå£¤';
                                content = 'ç¢³å‚¨é‡ï¼šçº¦2,300 GtC\nä¸»è¦è¿‡ç¨‹ï¼š\n- æœ‰æœºç‰©åˆ†è§£\n- å¾®ç”Ÿç‰©å‘¼å¸\n- ç¢³çŸ¿åŒ–\nå‚¨å­˜æ—¶é—´ï¼šæ•°ç™¾å¹´è‡³æ•°åƒå¹´';
                                break;
                        }
                        
                        clickedElement = { title, content, x, y };
                        break;
                    }
                }
                
                // æ£€æŸ¥äººç±»æ´»åŠ¨
                if (!clickedElement) {
                    for (const [key, activity] of Object.entries(simulationState.humanActivities)) {
                        const actX = activity.x * canvas.width;
                        const actY = activity.y * canvas.height;
                        const distance = Math.sqrt((x - actX) ** 2 + (y - actY) ** 2);
                        
                        if (distance <= 30) {
                            let title = '';
                            let content = '';
                            
                            switch(key) {
                                case 'fossilFuels':
                                    title = 'ğŸ­ åŒ–çŸ³ç‡ƒæ–™ç‡ƒçƒ§';
                                    content = `å¹´æ’æ”¾é‡ï¼š${activity.rate} GtC/å¹´\næ¥æºï¼š\n- ç…¤ç‚­å‘ç”µ\n- çŸ³æ²¹åŒ–å·¥\n- å¤©ç„¶æ°”\nå½±å“ï¼šå·¥ä¸šé©å‘½ä»¥æ¥ä¸»è¦æ’æ”¾æº`;
                                    break;
                                case 'deforestation':
                                    title = 'ğŸª“ åœŸåœ°åˆ©ç”¨å˜åŒ–';
                                    content = `å¹´æ’æ”¾é‡ï¼š${activity.rate} GtC/å¹´\nåŸå› ï¼š\n- æ£®æ—ç ä¼\n- å†œä¸šæ‰©å¼ \n- åŸå¸‚å‘å±•\nå½±å“ï¼šå‡å°‘ç¢³æ±‡ï¼Œé‡Šæ”¾åœŸå£¤ç¢³`;
                                    break;
                                case 'transportation':
                                    title = 'ğŸš— äº¤é€šè¿è¾“';
                                    content = `å¹´æ’æ”¾é‡ï¼š${activity.rate} GtC/å¹´\næ¥æºï¼š\n- æ±½è½¦å°¾æ°”\n- èˆªç©ºç‡ƒæ²¹\n- èˆ¹èˆ¶ç‡ƒæ–™\nè¶‹åŠ¿ï¼šéšç»æµå‘å±•æŒç»­å¢é•¿`;
                                    break;
                            }
                            
                            clickedElement = { title, content, x, y };
                            break;
                        }
                    }
                }
                
                simulationState.activeInfo = clickedElement;
            });
            
            // æ§åˆ¶æŒ‰é’®äº‹ä»¶
            document.getElementById('btnPlay').addEventListener('click', () => {
                simulationState.isPlaying = !simulationState.isPlaying;
                updateUIDisplay();
            });
            
            document.getElementById('btnReset').addEventListener('click', () => {
                simulationState.time = 0;
                simulationState.mode = 'natural';
                simulationState.isPlaying = true;
                
                // é‡ç½®ç¢³å‚¨åº“
                simulationState.reservoirs.atmosphere.value = 850;
                simulationState.reservoirs.ocean.value = 38000;
                simulationState.reservoirs.biosphere.value = 560;
                simulationState.reservoirs.soil.value = 2300;
                
                updateUIDisplay();
            });
            
            document.getElementById('btnFastForward').addEventListener('click', () => {
                simulationState.time += 10000; // å¿«è¿›100å¹´
                simulationState.mode = 'future';
                updateUIDisplay();
            });
            
            // æ¨¡å¼æŒ‰é’®äº‹ä»¶
            document.getElementById('btnNatural').addEventListener('click', () => {
                simulationState.mode = 'natural';
                updateUIDisplay();
            });
            
            document.getElementById('btnPreIndustrial').addEventListener('click', () => {
                simulationState.mode = 'preIndustrial';
                updateUIDisplay();
            });
            
            document.getElementById('btnModern').addEventListener('click', () => {
                simulationState.mode = 'modern';
                updateUIDisplay();
            });
            
            document.getElementById('btnFuture').addEventListener('click', () => {
                simulationState.mode = 'future';
                updateUIDisplay();
            });
            
            // é€Ÿåº¦æ»‘å—
            document.getElementById('speedSlider').addEventListener('input', (e) => {
                simulationState.speed = parseFloat(e.target.value);
                updateUIDisplay();
            });
            
            // æ˜¾ç¤ºé€‰é¡¹åˆ‡æ¢
            document.getElementById('toggleNatural').addEventListener('change', (e) => {
                simulationState.showNatural = e.target.checked;
            });
            
            document.getElementById('toggleHuman').addEventListener('change', (e) => {
                simulationState.showHuman = e.target.checked;
            });
            
            document.getElementById('toggleGreenhouse').addEventListener('change', (e) => {
                simulationState.showGreenhouse = e.target.checked;
            });
            
            document.getElementById('toggleLabels').addEventListener('change', (e) => {
                simulationState.showLabels = e.target.checked;
            });
            
            // æŒ‘æˆ˜æ»‘å—
            document.getElementById('energySlider').addEventListener('input', updateChallenge);
            document.getElementById('forestSlider').addEventListener('input', updateChallenge);
            document.getElementById('efficiencySlider').addEventListener('input', updateChallenge);
        }
        
        // åŠ¨ç”»å¾ªç¯
        function animate() {
            updateSimulation();
            draw();
            requestAnimationFrame(animate);
        }
        
        // åˆå§‹åŒ–
        function init() {
            setupEventListeners();
            updateChallenge(); // åˆå§‹åŒ–æŒ‘æˆ˜æ¨¡æ‹Ÿ
            animate();
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', init);
        
        // æ·»åŠ roundRectæ”¯æŒ
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                if (width < 2 * radius) radius = width / 2;
                if (height < 2 * radius) radius = height / 2;
                this.beginPath();
                this.moveTo(x + radius, y);
                this.arcTo(x + width, y, x + width, y + height, radius);
                this.arcTo(x + width, y + height, x, y + height, radius);
                this.arcTo(x, y + height, x, y, radius);
                this.arcTo(x, y, x + width, y, radius);
                this.closePath();
                return this;
            };
        }
    </script>
</body>
</html>

### 3. è¿‡ç¨‹è¾“å‡º

### 3. ä½¿ç”¨æŒ‡å—

## ğŸŒ ç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯ä¸å…¨çƒç¢³å¤±è¡¡ï¼šäº¤äº’å¼æ•™å­¦åŠ¨ç”»ä½¿ç”¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨æœ¬äº¤äº’å¼æ•™å­¦åŠ¨ç”»ï¼æœ¬å·¥å…·æ—¨åœ¨é€šè¿‡åŠ¨æ€å¯è§†åŒ–ä¸ç›´è§‚äº¤äº’ï¼Œå¸®åŠ©æ‚¨æ·±å…¥ç†è§£ç”Ÿæ€ç³»ç»Ÿç¢³å¾ªç¯çš„å¤æ‚è¿‡ç¨‹ä»¥åŠäººç±»æ´»åŠ¨å¦‚ä½•å¯¼è‡´å…¨çƒç¢³å¤±è¡¡ã€‚æ— è®ºæ‚¨æ˜¯æ•™å¸ˆã€å­¦ç”Ÿè¿˜æ˜¯å¯¹ç¯å¢ƒç§‘å­¦æ„Ÿå…´è¶£çš„å…¬ä¼—ï¼Œæœ¬æŒ‡å—éƒ½å°†å¸®åŠ©æ‚¨å……åˆ†åˆ©ç”¨è¿™ä¸€æ•™å­¦èµ„æºã€‚

---

### ä¸€ã€åŠŸèƒ½è¯´æ˜

æœ¬åŠ¨ç”»æ˜¯ä¸€ä¸ªåŸºäºHTML5 Canvasæ„å»ºçš„å®Œæ•´æ¨¡æ‹Ÿç³»ç»Ÿï¼Œå®ƒåŠ¨æ€å±•ç¤ºäº†ç¢³å…ƒç´ åœ¨**å¤§æ°”åœˆã€æµ·æ´‹ã€ç”Ÿç‰©åœˆå’ŒåœŸå£¤**å››å¤§å‚¨åº“ä¹‹é—´çš„è‡ªç„¶æµåŠ¨ï¼Œå¹¶å åŠ äº†**äººç±»æ´»åŠ¨**ï¼ˆåŒ–çŸ³ç‡ƒæ–™ç‡ƒçƒ§ã€æ£®æ—ç ä¼ã€äº¤é€šè¿è¾“ï¼‰çš„å¹²æ‰°ã€‚ç³»ç»Ÿå®æ—¶è®¡ç®—å¹¶å¯è§†åŒ–ç¢³é€šé‡ã€å¤§æ°”COâ‚‚æµ“åº¦å˜åŒ–åŠå…¨çƒæ¸©åº¦ä¸Šå‡ï¼Œå°†æŠ½è±¡çš„ç§‘å­¦æ•°æ®è½¬åŒ–ä¸ºç›´è§‚çš„è§†è§‰ä½“éªŒã€‚

---

### äºŒã€ä¸»è¦åŠŸèƒ½æ¨¡å—

#### 1. **æ ¸å¿ƒæ¨¡æ‹ŸåŒºï¼ˆä¸»ç”»å¸ƒï¼‰**
*   **åŠ¨æ€ç¢³å¾ªç¯**ï¼šè§‚å¯Ÿä»¥å½©è‰²ç®­å¤´å’ŒæµåŠ¨ç²’å­è¡¨ç¤ºçš„ç¢³æµåŠ¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å…‰åˆä½œç”¨ã€å‘¼å¸ä½œç”¨ã€åˆ†è§£ã€æµ·æ´‹å¸æ”¶ä¸é‡Šæ”¾ã€‚
*   **ç¢³å‚¨åº“**ï¼šå››ä¸ªä¸»è¦å‚¨åº“ï¼ˆå¤§æ°”ã€æµ·æ´‹ã€ç”Ÿç‰©åœˆã€åœŸå£¤ï¼‰ä»¥å½©è‰²åœ†çƒæ˜¾ç¤ºï¼Œå…¶å¤§å°å’Œæ•°å€¼æ ‡ç­¾éšç¢³å‚¨é‡å˜åŒ–ã€‚
*   **äººç±»æ´»åŠ¨æº**ï¼šå·¥å‚ã€æ±½è½¦ã€æ–§å¤´å›¾æ ‡ä»£è¡¨ä¸»è¦æ’æ”¾æºï¼Œçº¢è‰²/æ©™è‰²æµåŠ¨çº¿é†’ç›®åœ°å±•ç¤ºå…¶å‘å¤§æ°”çš„é¢å¤–ç¢³è¾“å…¥ã€‚
*   **ç‚¹å‡»äº¤äº’**ï¼š**ç‚¹å‡»ç”»å¸ƒä¸­çš„ä»»ä½•å…ƒç´ ï¼ˆå‚¨åº“æˆ–å›¾æ ‡ï¼‰**ï¼Œä¼šå¼¹å‡ºè¯¦ç»†ä¿¡æ¯é¢æ¿ï¼ŒåŒ…å«ç§‘å­¦æ•°æ®å’Œè¿‡ç¨‹è§£é‡Šã€‚

#### 2. **æ¨¡æ‹Ÿæ§åˆ¶é¢æ¿**
*   **åœºæ™¯æ¨¡å¼**ï¼šä¸€é”®åˆ‡æ¢å››ç§é¢„è®¾æƒ…æ™¯ï¼š
    *   **ä»…è‡ªç„¶å¾ªç¯**ï¼šè§‚å¯Ÿæ— äººç±»å¹²æ‰°çš„ç†æƒ³å¹³è¡¡çŠ¶æ€ã€‚
    *   **å·¥ä¸šé©å‘½å‰**ï¼šè§‚å¯Ÿä½å¼ºåº¦äººç±»æ´»åŠ¨çš„å½±å“ã€‚
    *   **ç°ä»£é«˜æ’æ”¾**ï¼šå±•ç¤ºå½“å‰äººç±»æ´»åŠ¨ä¸»å¯¼çš„ç¢³æµï¼ˆé»˜è®¤æƒ…æ™¯ï¼‰ã€‚
    *   **æœªæ¥æƒ…æ™¯**ï¼šæ¨¡æ‹Ÿåœ¨â€œä¸€åˆ‡ç…§æ—§â€è·¯å¾„ä¸‹çš„å¯èƒ½æœªæ¥ã€‚
*   **æ—¶é—´æ§åˆ¶**ï¼š
    *   **æ’­æ”¾/æš‚åœ**ï¼šæ§åˆ¶æ¨¡æ‹Ÿè¿è¡Œã€‚
    *   **é€Ÿåº¦æ»‘å—**ï¼šè°ƒæ•´æ¨¡æ‹Ÿé€Ÿåº¦ï¼ˆ0.1x è‡³ 3.0xï¼‰ã€‚
    *   **é‡ç½®**ï¼šå°†æ¨¡æ‹Ÿæ¢å¤è‡³åˆå§‹çŠ¶æ€ã€‚
    *   **å¿«è¿›100å¹´**ï¼šç›´è§‚å±•ç¤ºé•¿æœŸæ’æ”¾çš„ç´¯ç§¯æ•ˆåº”ã€‚
*   **æ˜¾ç¤ºå›¾å±‚å¼€å…³**ï¼šç‹¬ç«‹æ§åˆ¶â€œè‡ªç„¶ç¢³æµâ€ã€â€œäººç±»æ’æ”¾â€ã€â€œæ¸©å®¤æ•ˆåº”çƒ­åŠ›å›¾â€å’Œâ€œæ•°æ®æ ‡ç­¾â€çš„æ˜¾ç¤ºä¸éšè—ï¼Œä¾¿äºåˆ†å±‚è®²è§£ã€‚

#### 3. **å®æ—¶æ•°æ®ä»ªè¡¨ç›˜**
å®æ—¶æ˜¾ç¤ºå…³é”®æŒ‡æ ‡ï¼š
*   **å¤§æ°”COâ‚‚æµ“åº¦ (ppm)**
*   **å…¨çƒå¹³å‡æ¸©åº¦å˜åŒ– (Â°C)**
*   **å¹´ç¢³æ’æ”¾é‡ (Gt COâ‚‚/å¹´)**
*   **ç¢³å¾ªç¯çŠ¶æ€**ï¼ˆå¹³è¡¡/å¤±è¡¡ï¼‰

#### 4. **â€œå‡æ’æŒ‘æˆ˜â€äº’åŠ¨æ¨¡å—**
è¿™æ˜¯ä¸€ä¸ªåŸºäºæƒ…æ™¯çš„æ¢ç´¢æ€§æ¸¸æˆï¼š
*   **ç›®æ ‡**ï¼šé€šè¿‡è°ƒæ•´ä¸‰ä¸ªæ»‘å—ï¼ˆ**èƒ½æºç»“æ„**ã€**æ£®æ—è¦†ç›–ç‡**ã€**å·¥ä¸šæ•ˆç‡**ï¼‰ï¼Œå°è¯•å°†2100å¹´çš„å…¨çƒå‡æ¸©æ§åˆ¶åœ¨2Â°Cä»¥å†…ã€‚
*   **å³æ—¶åé¦ˆ**ï¼šè°ƒæ•´æ»‘å—ä¼šç«‹å³æ›´æ–°é¢„æµ‹çš„2100å¹´COâ‚‚æµ“åº¦å’Œæ¸©å‡ç»“æœï¼Œå¹¶ç»™å‡ºâ€œæˆåŠŸâ€ã€â€œæ¥è¿‘â€æˆ–â€œå¤±è´¥â€çš„è¯„ä»·ã€‚
*   **æ•™å­¦æ„ä¹‰**ï¼šè®©å­¦ä¹ è€…ç›´è§‚ç†è§£ä¸åŒå‡æ’æªæ–½çš„ç›¸å¯¹è´¡çŒ®å’ŒååŒæ•ˆåº”ã€‚

---

### ä¸‰ã€è®¾è®¡ç‰¹è‰²ä¸æ•™å­¦ç†å¿µ

1.  **è§†è§‰éšå–»ä¸ç¼–ç **ï¼š
    *   **é¢œè‰²ç¼–ç **ï¼šè‡ªç„¶è¿‡ç¨‹ä½¿ç”¨**è“-ç»¿è‰²ç³»**ï¼Œäººç±»æ’æ”¾ä½¿ç”¨**æ©™-çº¢è‰²ç³»**ï¼Œä»è§†è§‰ä¸Šæ¸…æ™°åŒºåˆ†â€œè‡ªç„¶â€ä¸â€œäººä¸ºâ€ã€‚
    *   **ç²’å­ç³»ç»Ÿ**ï¼šç”¨æµåŠ¨çš„ç²’å­ä»£è¡¨ç¢³åŸå­ï¼ˆCOâ‚‚ï¼‰çš„ç§»åŠ¨ï¼Œä½¿â€œé€šé‡â€æ¦‚å¿µå˜å¾—ç”ŸåŠ¨å¯æ„Ÿã€‚
    *   **åŠ¨æ€ç¼©æ”¾**ï¼šå‚¨åº“å¤§å°å’Œæ•°å€¼çš„è½»å¾®å˜åŒ–ï¼Œç›´è§‚ä½“ç°ç¢³çš„â€œæºâ€ä¸â€œæ±‡â€ã€‚

2.  **å»ºæ„ä¸»ä¹‰å­¦ä¹ è·¯å¾„**ï¼š
    *   **å…ˆå»ºç«‹åŸºçº¿**ï¼šå»ºè®®é¦–å…ˆåœ¨â€œä»…è‡ªç„¶å¾ªç¯â€æ¨¡å¼ä¸‹è¿è¡Œï¼Œç†è§£ç³»ç»Ÿçš„åŠ¨æ€å¹³è¡¡ã€‚
    *   **å†å¼•å…¥å¹²æ‰°**ï¼šåˆ‡æ¢åˆ°â€œç°ä»£é«˜æ’æ”¾â€æ¨¡å¼ï¼Œè§‚å¯Ÿå¹³è¡¡å¦‚ä½•è¢«æ‰“ç ´ï¼Œå¤§æ°”åº“å¦‚ä½•â€œè†¨èƒ€â€ã€‚
    *   **æœ€åæ¢ç´¢è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨â€œå‡æ’æŒ‘æˆ˜â€ä¸­ä¸»åŠ¨æ¢ç´¢ç¼“è§£è·¯å¾„ï¼Œå®Œæˆä»è®¤çŸ¥åˆ°è¡ŒåŠ¨çš„æ€ç»´é—­ç¯ã€‚

3.  **æ”¯æŒæ¢ç©¶å¼å­¦ä¹ **ï¼š
    *   å­¦ä¹ è€…å¯ä»¥è‡ªä¸»æ§åˆ¶å˜é‡ï¼ˆå¦‚å…³é—­äººç±»æ’æ”¾è§‚å¯Ÿæ¢å¤ï¼‰ï¼Œæå‡ºå¹¶éªŒè¯å‡è®¾ã€‚
    *   å¼¹å‡ºçš„è¯¦ç»†ä¿¡æ¯å¡ç‰‡æä¾›äº†æ·±å…¥æ¢ç©¶çš„èµ·ç‚¹ã€‚

---

### å››ã€æ ¸å¿ƒæ•™å­¦è¦ç‚¹ä¸è®¨è®ºå¼•å¯¼

æ•™å¸ˆæˆ–è‡ªå­¦è€…å¯å›´ç»•ä»¥ä¸‹è¦ç‚¹å±•å¼€å­¦ä¹ ä¸è®¨è®ºï¼š

| æ¨¡å— | æ ¸å¿ƒæ¦‚å¿µ | å¯æå‡ºçš„é—®é¢˜ |
| :--- | :--- | :--- |
| **è‡ªç„¶å¾ªç¯** | ç¢³å¾ªç¯çš„åŠ¨æ€å¹³è¡¡ã€å‚¨åº“ä¸é€šé‡ | 1. è‡ªç„¶å¾ªç¯ä¸­ï¼Œç¢³æœ€ä¸»è¦çš„â€œæºâ€å’Œâ€œæ±‡â€åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>2. ä¸ºä»€ä¹ˆè¯´å·¥ä¸šé©å‘½å‰ç¢³å¾ªç¯å¤§è‡´æ˜¯å¹³è¡¡çš„ï¼Ÿ |
| **äººç±»å¹²æ‰°** | äººä¸ºæ’æ”¾ã€ç¢³æ±‡ç ´åã€å‡€é€šé‡ | 1. æ¯”è¾ƒä¸‰æ¡çº¢è‰²æ’æ”¾æµï¼Œå“ªä¸€ä¸ªæ˜¯å½“å‰æœ€å¤§çš„è´¡çŒ®è€…ï¼Ÿ<br>2. æ£®æ—ç ä¼å¦‚ä½•åŒæ—¶å½±å“ç¢³çš„â€œæºâ€å’Œâ€œæ±‡â€ï¼Ÿ |
| **ç¢³å¤±è¡¡** | å¤§æ°”COâ‚‚æµ“åº¦ç´¯ç§¯ã€æ¸©å®¤æ•ˆåº” | 1. ä¸ºä»€ä¹ˆæ’æ”¾çš„ç¢³ä¸ä¼šç«‹å³è¢«æµ·æ´‹å’Œæ£®æ—å®Œå…¨å¸æ”¶ï¼Ÿ<br>2. è§‚å¯Ÿâ€œå¿«è¿›100å¹´â€åï¼Œæ¸©åº¦å’ŒCOâ‚‚æµ“åº¦å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Ÿè¿™è¯´æ˜äº†ä»€ä¹ˆç§‘å­¦åŸç†ï¼Ÿ |
| **å‡æ’æŒ‘æˆ˜** | å‡ç¼“è·¯å¾„ã€æ”¿ç­–ååŒã€æŠ€æœ¯é€‰æ‹© | 1. è¦å®ç°2Â°Cç›®æ ‡ï¼Œå“ªä¸ªæ æ†ï¼ˆèƒ½æºã€æ£®æ—ã€æ•ˆç‡ï¼‰æœ€æœ‰æ•ˆï¼Ÿ<br>2. ä¸ºä»€ä¹ˆéœ€è¦å¤šç®¡é½ä¸‹ï¼Œè€Œä¸æ˜¯åªä¾é ä¸€ç§æ–¹æ¡ˆï¼Ÿ |

---

### äº”ã€ä½¿ç”¨å»ºè®®

1.  **è¯¾å ‚æ•™å­¦ï¼ˆæ•™å¸ˆä¸»å¯¼ï¼‰**ï¼š
    *   **å¼•å…¥**ï¼šå…¨å±æ’­æ”¾åŠ¨ç”»ï¼Œæå‡ºä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼ˆå¦‚â€œæˆ‘ä»¬å‘¼å¸çš„ç¢³åŸå­ä»ä½•è€Œæ¥ï¼Œå»å¾€ä½•å¤„ï¼Ÿâ€ï¼‰ã€‚
    *   **è®²è§£**ï¼šä½¿ç”¨â€œæš‚åœâ€åŠŸèƒ½ï¼Œç»“åˆâ€œæ˜¾ç¤ºå›¾å±‚å¼€å…³â€ï¼Œåˆ†å±‚è®²è§£å„ä¸ªè¿‡ç¨‹ã€‚åˆ©ç”¨â€œç‚¹å‡»äº¤äº’â€è°ƒå‡ºè¯¦ç»†æ•°æ®ã€‚
    *   **æ¢ç©¶**ï¼šå°†å­¦ç”Ÿåˆ†ç»„ï¼Œåˆ†é…ä¸åŒçš„â€œåœºæ™¯æ¨¡å¼â€æˆ–â€œå‡æ’æŒ‘æˆ˜â€ä»»åŠ¡ï¼Œè®©ä»–ä»¬æ¢ç´¢å¹¶æ±‡æŠ¥ç»“æœã€‚
    *   **è¯„ä¼°**ï¼šè®©å­¦ç”Ÿæè¿°ä»â€œè‡ªç„¶å¾ªç¯â€åˆ°â€œç°ä»£é«˜æ’æ”¾â€æ¨¡å¼åˆ‡æ¢æ—¶è§‚å¯Ÿåˆ°çš„ä¸‰ä¸ªå…³é”®å˜åŒ–ã€‚

2.  **è‡ªä¸»å­¦ä¹ **ï¼š
    *   å»ºè®®æŒ‰ç…§â€œ**è§‚å¯Ÿ â†’ äº¤äº’ â†’ è®°å½• â†’ åæ€**â€çš„æ­¥éª¤è¿›è¡Œã€‚
    *   æ‰“å¼€ä¸€ä¸ªè®°äº‹æœ¬ï¼Œè®°å½•ä¸‹ä½ æ“ä½œä¸åŒæ§ä»¶æ—¶è§‚å¯Ÿåˆ°çš„ç°è±¡å’Œäº§ç”Ÿçš„ç–‘é—®ã€‚
    *   å°è¯•å®Œæˆâ€œå‡æ’æŒ‘æˆ˜â€ç›®æ ‡ï¼Œå¹¶æ€è€ƒå…¶ç°å®æ„ä¹‰ã€‚

3.  **æœ€ä½³å®è·µ**ï¼š
    *   **é¦–æ¬¡ä½¿ç”¨**ï¼šè¯·å…ˆç‚¹å‡»â€œ**ä»…è‡ªç„¶å¾ªç¯**â€æ¨¡å¼ï¼Œç„¶åç‚¹å‡»â€œ**é‡ç½®**â€æŒ‰é’®ï¼Œä»å¤´å¼€å§‹ä½“éªŒå®Œæ•´çš„å­¦ä¹ æµç¨‹ã€‚
    *   **æ·±å…¥æ¢ç´¢**ï¼šå°è¯•å…³é—­â€œè‡ªç„¶ç¢³æµâ€å›¾å±‚ï¼Œåªè§‚å¯Ÿâ€œäººç±»æ’æ”¾â€ï¼Œç›´è§‚æ„Ÿå—äººç±»æ´»åŠ¨çš„ç›¸å¯¹è§„æ¨¡å’Œè·¯å¾„ã€‚
    *   **è”ç³»ç°å®**ï¼šå°†æ¨¡æ‹Ÿä¸­æ˜¾ç¤ºçš„å½“å‰COâ‚‚æµ“åº¦ï¼ˆ~415 ppmï¼‰ä¸å·¥ä¸šé©å‘½å‰ï¼ˆ280 ppmï¼‰è¿›è¡Œå¯¹æ¯”ï¼Œç†è§£å˜åŒ–çš„å‰§çƒˆç¨‹åº¦ã€‚

---

**ç»“è¯­**
æœ¬å·¥å…·ä¸ä»…ä»…æ˜¯ä¸€ä¸ªåŠ¨ç”»ï¼Œæ›´æ˜¯ä¸€ä¸ªåŠ¨æ€çš„ã€å¯æ¢ç´¢çš„ç§‘å­¦æ¨¡å‹ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒèƒ½ç‚¹ç‡ƒæ‚¨å¯¹åœ°çƒç³»ç»Ÿç§‘å­¦çš„å¥½å¥‡å¿ƒï¼Œå¹¶æ·±åˆ»ç†è§£äººç±»åœ¨è¿™ä¸ªå¤æ‚è€Œç²¾å¦™çš„ç¢³å¾ªç¯ä¸­æ‰€æ‰®æ¼”çš„è§’è‰²ã€‚è®©æˆ‘ä»¬ä¸€èµ·è§‚å¯Ÿã€æ€è€ƒå¹¶æ¢ç´¢å¯æŒç»­çš„æœªæ¥è·¯å¾„ã€‚

ç¥æ‚¨æ¢ç´¢æ„‰å¿«ï¼