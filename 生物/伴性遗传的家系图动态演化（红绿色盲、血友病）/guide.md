# éœ€æ±‚ï¼šä¼´æ€§é—ä¼ çš„å®¶ç³»å›¾åŠ¨æ€æ¼”åŒ–ï¼ˆçº¢ç»¿è‰²ç›²ã€è¡€å‹ç—…ï¼‰

### 1. ä¸“ä¸šæ€è€ƒ

### 1. ä¸“ä¸šæ€è€ƒ

#### ç”¨æˆ·éœ€æ±‚åˆ†æ
æœ¬åŠ¨ç”»çš„ä¸»è¦ç”¨æˆ·æ˜¯é«˜ä¸­æˆ–å¤§å­¦ä½å¹´çº§çš„ç”Ÿç‰©å­¦å­¦ç”Ÿï¼Œä»–ä»¬æ­£åœ¨å­¦ä¹ å­Ÿå¾·å°”é—ä¼ çš„æ‰©å±•â€”â€”ä¼´æ€§é—ä¼ ã€‚ç”¨æˆ·çš„æ ¸å¿ƒéœ€æ±‚æ˜¯ï¼š
1.  **ç†è§£æŠ½è±¡æ¦‚å¿µ**ï¼šå°†æŠ½è±¡çš„â€œXæŸ“è‰²ä½“éšæ€§é—ä¼ â€è§„å¾‹ï¼Œé€šè¿‡å…·ä½“çš„ã€åŠ¨æ€çš„å®¶ç³»å›¾æ¼”åŒ–è¿‡ç¨‹å…·è±¡åŒ–ï¼Œé™ä½ç†è§£é—¨æ§›ã€‚
2.  **åŒºåˆ†é—ä¼ æ¨¡å¼**ï¼šæ¸…æ™°åŒºåˆ†çº¢ç»¿è‰²ç›²ï¼ˆå¸¸è§ã€å¤–æ˜¾ç‡å—ç¯å¢ƒå½±å“å°ï¼‰ä¸è¡€å‹ç—…ï¼ˆé‡å‹ã€å…¸å‹Xè¿é”éšæ€§ï¼‰åœ¨é—ä¼ å›¾è°±ä¸Šçš„å¼‚åŒï¼Œé¿å…æ··æ·†ã€‚
3.  **æŒæ¡å›¾è°±ç»˜åˆ¶ä¸è§£è¯»**ï¼šå­¦ä¹ æ ‡å‡†å®¶ç³»å›¾ç¬¦å·ï¼ˆæ–¹å½¢ã€åœ†å½¢ã€é˜´å½±ã€ç®­å¤´ï¼‰ï¼Œå¹¶èƒ½æ ¹æ®é—ä¼ è§„å¾‹é¢„æµ‹åä»£åŸºå› å‹å’Œè¡¨ç°å‹ã€‚
4.  **åŠ¨æ€è§‚å¯Ÿä¸æ¢ç©¶**ï¼šå¸Œæœ›çœ‹åˆ°é—ä¼ è¿‡ç¨‹ä¸æ˜¯é™æ€ç»“è®ºï¼Œè€Œæ˜¯å¯ä»¥åŠ¨æ€æ¨è¿›ã€å¹¶å…è®¸è‡ªå·±è¿›è¡Œâ€œå¦‚æœâ€¦ä¼šæ€æ ·â€çš„æ¢ç©¶æ€§æ“ä½œã€‚

#### æ•™å­¦è®¾è®¡æ€è·¯ï¼ˆæ ¸å¿ƒæ¦‚å¿µã€è®¤çŸ¥è§„å¾‹ã€äº¤äº’è®¾è®¡ã€è§†è§‰å‘ˆç°ï¼‰

*   **æ ¸å¿ƒæ¦‚å¿µèšç„¦**ï¼š
    *   **æ ¸å¿ƒä¸€ï¼šæ€§æŸ“è‰²ä½“ä¸åŸºå› å®šä½**ã€‚å¼ºè°ƒè‡´ç—…åŸºå› ä½äºXæŸ“è‰²ä½“ä¸Šï¼ŒYæŸ“è‰²ä½“ä¸Šæ— å¯¹åº”ç­‰ä½åŸºå› ã€‚
    *   **æ ¸å¿ƒäºŒï¼šéšæ€§é—ä¼ ä¸æ‚åˆå­**ã€‚é‡ç‚¹å±•ç¤ºå¥³æ€§æºå¸¦è€…ï¼ˆX^A X^aï¼‰ä¸å‘ç—…ä½†èƒ½ä¼ é€’è‡´ç—…åŸºå› çš„å…³é”®ä½œç”¨ã€‚
    *   **æ ¸å¿ƒä¸‰ï¼šäº¤å‰é—ä¼ **ã€‚åŠ¨æ€çªå‡ºç”·æ€§æ‚£è€…çš„è‡´ç—…åŸºå› å¿…ç„¶æ¥è‡ªæ¯äº²ï¼Œå¹¶åªèƒ½ä¼ ç»™å¥³å„¿ï¼ˆä½¿å…¶æˆä¸ºæºå¸¦è€…ï¼‰çš„ä¼ é€’è·¯å¾„ã€‚
    *   **æ ¸å¿ƒå››ï¼šå‘ç—…ç‡æ€§åˆ«å·®å¼‚**ã€‚é€šè¿‡å¤§é‡æ ·æœ¬çš„æ¨¡æ‹Ÿï¼Œç›´è§‚å±•ç°ç”·æ€§å‘ç—…ç‡è¿œé«˜äºå¥³æ€§çš„ç°è±¡åŠå…¶åŸå› ã€‚

*   **éµå¾ªè®¤çŸ¥è§„å¾‹**ï¼š
    *   **ä»å…·ä½“åˆ°æŠ½è±¡**ï¼šå…ˆå±•ç¤ºä¸€ä¸ªç»å…¸ã€å®Œæ•´çš„çº¢ç»¿è‰²ç›²å®¶ç³»æ¼”åŒ–æ¡ˆä¾‹ï¼Œå»ºç«‹æ„Ÿæ€§è®¤è¯†ã€‚ç„¶åæç‚¼å‡ºé™æ€è§„åˆ™ã€‚æœ€åå¼•å…¥è¡€å‹ç—…æ¡ˆä¾‹è¿›è¡Œå¯¹æ¯”ã€åº”ç”¨å’Œå·©å›ºã€‚
    *   **ä»è§‚å¯Ÿåˆ°æ¨ç†**ï¼šåŠ¨ç”»å…ˆè‡ªåŠ¨æ¼”ç¤ºä¸€ä¸ªä¸–ä»£çš„é—ä¼ è¿‡ç¨‹ï¼Œç„¶åæš‚åœï¼Œé‚€è¯·ç”¨æˆ·æ ¹æ®å·²å­¦è§„åˆ™é¢„æµ‹ä¸‹ä¸€ä¸ªåä»£çš„åŸºå› å‹å’Œè¡¨ç°å‹ï¼Œå†ç»§ç»­åŠ¨ç”»éªŒè¯ã€‚
    *   **å¯¹æ¯”å¼ºåŒ–è®°å¿†**ï¼šå°†çº¢ç»¿è‰²ç›²ä¸è¡€å‹ç—…çš„å®¶ç³»å›¾å¹¶ç½®ï¼Œçªå‡ºå…¶é—ä¼ è§„å¾‹çš„**å…±æ€§**ï¼ˆéƒ½æ˜¯Xéšï¼‰ï¼ŒåŒæ—¶é€šè¿‡æ—ç™½æˆ–æ ‡ç­¾è¯´æ˜å…¶**å·®å¼‚**ï¼ˆå¦‚åŸºå› é¢‘ç‡ã€ç–¾ç—…ä¸¥é‡ç¨‹åº¦ã€å¯èƒ½æ¶‰åŠçš„åŸºå› æ²»ç–—ç­‰ç°å®è”ç³»ï¼‰ã€‚

*   **äº¤äº’è®¾è®¡ç­–ç•¥**ï¼š
    *   **åˆ†å±‚æ§åˆ¶**ï¼šæä¾›â€œæ’­æ”¾/æš‚åœ/æ­¥è¿›/é‡ç½®â€å…¨å±€æ§åˆ¶ã€‚å…è®¸ç”¨æˆ·æ§åˆ¶æ¼”åŒ–é€Ÿåº¦ã€‚
    *   **ç„¦ç‚¹æ¢ç©¶**ï¼šç‚¹å‡»å®¶ç³»å›¾ä¸­çš„ä»»ä½•ä¸€ä¸ªä¸ªä½“ï¼Œå¯ä»¥å¼¹å‡ºå…¶è¯¦ç»†çš„åŸºå› å‹ï¼ˆå¦‚ X^A Y, X^a X^A ç­‰ï¼‰ã€è¡¨ç°å‹è¯´æ˜ï¼Œä»¥åŠå…¶â€œé—ä¼ æ¥æºâ€ä¸â€œä¼ é€’å»å‘â€çš„é«˜äº®ç®­å¤´ã€‚
    *   **å˜é‡è°ƒèŠ‚ä¸æ¨¡æ‹Ÿ**ï¼šè®¾è®¡ä¸€ä¸ªâ€œæ¨¡æ‹Ÿå®éªŒå®¤â€æ¿å—ã€‚ç”¨æˆ·å¯ä»¥è®¾å®šåˆå§‹çˆ¶æ¯åŸºå› å‹ï¼Œç„¶åç‚¹å‡»â€œç¹è¡æ•°ä»£â€ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¤§çš„éšæœºå®¶ç³»å›¾ï¼Œç»Ÿè®¡ç”·å¥³æ‚£è€…æ¯”ä¾‹ï¼Œå¼ºåŒ–å¯¹å‘ç—…ç‡å·®å¼‚çš„ç†è§£ã€‚
    *   **å¯¹æ¯”è§†å›¾**ï¼šæä¾›â€œå•ä¸€æ¡ˆä¾‹æ¼”åŒ–è§†å›¾â€å’Œâ€œåŒç–¾ç—…å¯¹æ¯”è§†å›¾â€çš„åˆ‡æ¢æŒ‰é’®ã€‚

*   **è§†è§‰å‘ˆç°è§„åˆ’**ï¼š
    *   **åŠ¨æ€è¿çº¿ä¸ç®­å¤´**ï¼šä½¿ç”¨å¹³æ»‘çš„åŠ¨ç”»ç»˜åˆ¶äº²ä»£ä¸å­ä»£ä¹‹é—´çš„è¿çº¿ï¼Œé—ä¼ åŸºå› çš„ä¼ é€’ç”¨é«˜äº®çš„å…‰ç‚¹æˆ–å½©è‰²ç®­å¤´æ²¿è¿çº¿ç§»åŠ¨æ¥è¡¨ç¤ºï¼Œæ¸…æ™°å¯è§†åŒ–â€œåŸºå› æµåŠ¨â€ã€‚
    *   **çŠ¶æ€æ¸å˜**ï¼šä¸ªä½“çš„è¡¨ç°å‹ï¼ˆæ­£å¸¸ã€æºå¸¦è€…ã€æ‚£è€…ï¼‰å˜åŒ–ä¸æ˜¯ç¬é—´åˆ‡æ¢ï¼Œè€Œæ˜¯é€šè¿‡é¢œè‰²å¡«å……æ¸å˜æˆ–ç¬¦å·ï¼ˆå¦‚çœ¼é•œã€æ­¢è¡€è´´å›¾æ ‡ï¼‰çš„æ·¡å…¥æ·¡å‡ºæ¥å®ç°ï¼Œå¼•å¯¼è§†è§‰å…³æ³¨ã€‚
    *   **å›¾å±‚ä¸èšç„¦**ï¼šç”»å¸ƒåˆ†ä¸ºèƒŒæ™¯ç½‘æ ¼å±‚ã€é™æ€å®¶ç³»å›¾å±‚ã€åŠ¨æ€é«˜äº®å±‚ã€UIæ§åˆ¶å±‚ã€‚å½“è®²è§£ç‰¹å®šè·¯å¾„æ—¶ï¼Œå…¶ä»–éƒ¨åˆ†åŠé€æ˜åŒ–ï¼Œèšç„¦åŒºåŸŸä¿æŒé«˜äº®ã€‚
    *   **ä¿¡æ¯å¡ç‰‡**ï¼šæ‰€æœ‰è¡¥å……ä¿¡æ¯ï¼ˆå®šä¹‰ã€åŸºå› å‹ã€æ¦‚ç‡è®¡ç®—ï¼‰éƒ½ä»¥å¯å¼€å…³çš„å¡ç‰‡å½¢å¼å‘ˆç°ï¼Œä¿æŒä¸»ç”»å¸ƒæ•´æ´ã€‚

#### é…è‰²æ–¹æ¡ˆé€‰æ‹©
*   **ä¸»è‰²è°ƒä¸æ— éšœç¢**ï¼š
    *   é‡‡ç”¨**è“ç´«è‰²ç³»**ä½œä¸ºç•Œé¢ä¸»è‰²è°ƒï¼ˆå¦‚#6A5ACD å²©è“ï¼‰ï¼Œä¸“ä¸šã€å†·é™ï¼Œä¸”ä¸å¸¸è§çš„çº¢ç»¿è‰²ç›²æµ‹è¯•è‰²æ¿ï¼ˆçº¢ç»¿ï¼‰å½¢æˆæ˜ç¡®åŒºåˆ†ï¼Œé¿å…å¹²æ‰°ã€‚
    *   ä¸¥æ ¼éµå¾ªWCAGæ— éšœç¢æ ‡å‡†ï¼Œå¯¹â€œæ­£å¸¸â€ã€â€œæºå¸¦è€…â€ã€â€œæ‚£è€…â€çš„çŠ¶æ€åŒºåˆ†ï¼Œä¸ä»…ä½¿ç”¨é¢œè‰²ï¼ˆå¦‚æµ…è“ã€æ·¡ç´«ã€æ·±ç´«ï¼‰ï¼Œä¹Ÿç»“åˆæ˜ç¡®çš„å›¾æ¡ˆç¬¦å·ï¼ˆå¯¹å‹¾ã€åœ†ç‚¹ã€åå­—ï¼‰å’Œè¾¹æ¡†ç²—ç»†ï¼Œç¡®ä¿è‰²è§‰éšœç¢ç”¨æˆ·ä¹Ÿèƒ½å‡†ç¡®è¯†åˆ«ã€‚
*   **çŠ¶æ€ä¸é«˜äº®è‰²**ï¼š
    *   **æ­£å¸¸ä¸ªä½“**ï¼šæµ…è“è‰²å¡«å……ï¼ˆ#E6F3FFï¼‰æˆ–ç™½è‰²å¡«å……+è“è‰²è¾¹æ¡†ã€‚
    *   **å¥³æ€§æºå¸¦è€…**ï¼šæ·¡ç´«è‰²å¡«å……ï¼ˆ#F0E6FFï¼‰ï¼Œä¸­é—´åŠ ä¸€ä¸ªç™½è‰²åœ†ç‚¹ã€‚
    *   **æ‚£è€…ï¼ˆç”·å¥³ï¼‰**ï¼šæ·±ç´«è‰²å¡«å……ï¼ˆ#8A2BE2ï¼‰ã€‚
    *   **åŠ¨æ€é«˜äº®è·¯å¾„**ï¼šä½¿ç”¨é†’ç›®çš„**ç¥ç€è‰²**ï¼ˆ#FFBF00ï¼‰ç®­å¤´å’Œå…‰ç‚¹ã€‚
    *   **äº¤äº’åé¦ˆ**ï¼šé¼ æ ‡æ‚¬åœæ—¶ä½¿ç”¨æŸ”å’Œçš„**æ˜é»„è‰²**ï¼ˆ#FFF9C4ï¼‰å…‰æ™•ã€‚
*   **ç”»å¸ƒä¸æ–‡å­—**ï¼š
    *   ç”»å¸ƒèƒŒæ™¯ä¸ºæµ…ç°è‰²ï¼ˆ#F8F9FAï¼‰ï¼Œç½‘æ ¼çº¿ä¸ºææµ…çš„ç°è‰²ï¼ˆ#E9ECEFï¼‰ã€‚
    *   æ–‡å­—ä¸»è¦ä½¿ç”¨æ·±ç°è‰²ï¼ˆ#333333ï¼‰ï¼Œé‡ç‚¹æ ‡ç­¾ä½¿ç”¨ä¸»è‰²è°ƒè“ç´«è‰²ã€‚

#### äº¤äº’åŠŸèƒ½åˆ—è¡¨
1.  **åŠ¨ç”»æµç¨‹æ§åˆ¶**ï¼šæ’­æ”¾ã€æš‚åœã€ä¸‹ä¸€æ­¥ï¼ˆæ­¥è¿›ï¼‰ã€ä¸Šä¸€æ­¥ã€é‡ç½®ã€é€Ÿåº¦è°ƒèŠ‚æ»‘å—ã€‚
2.  **æ¡ˆä¾‹é€‰æ‹©å™¨**ï¼šä¸‹æ‹‰èœå•é€‰æ‹©â€œçº¢ç»¿è‰²ç›²ç»å…¸æ¡ˆä¾‹â€ã€â€œè¡€å‹ç—…çš‡å®¤æ¡ˆä¾‹â€æˆ–â€œè‡ªå®šä¹‰æ¡ˆä¾‹â€ã€‚
3.  **ä¿¡æ¯æ˜¾ç¤ºå¼€å…³**ï¼šå¯åˆ‡æ¢â€œæ˜¾ç¤ºåŸºå› å‹â€ã€â€œæ˜¾ç¤ºè¡¨ç°å‹â€ã€â€œæ˜¾ç¤ºæ¦‚ç‡è®¡ç®—â€çš„å¤é€‰æ¡†ã€‚
4.  **ä¸ªä½“æ·±åº¦æŸ¥è¯¢**ï¼šç‚¹å‡»å®¶ç³»å›¾ä¸­ä»»æ„ä¸ªä½“ï¼Œå¼¹å‡ºä¿¡æ¯å¡ï¼Œæ˜¾ç¤ºå…¶åŸºå› å‹ã€è¡¨ç°å‹ã€çˆ¶æ¯ã€é…å¶ã€å­å¥³åˆ—è¡¨ï¼Œå¹¶å¯é«˜äº®å…¶é—ä¼ è·¯å¾„ã€‚
5.  **æ¨¡æ‹Ÿå®éªŒå®¤**ï¼š
    *   è¾“å…¥æ¡†æˆ–é€‰æ‹©å™¨è®¾å®šâ€œçˆ¶äº²åŸºå› å‹â€ï¼ˆX^A Y æˆ– X^a Yï¼‰å’Œâ€œæ¯äº²åŸºå› å‹â€ï¼ˆX^A X^A, X^A X^a, X^a X^aï¼‰ã€‚
    *   æ»‘å—é€‰æ‹©â€œæ¨¡æ‹Ÿä»£æ•°â€ï¼ˆå¦‚3-5ä»£ï¼‰ã€‚
    *   â€œå¼€å§‹æ¨¡æ‹Ÿâ€æŒ‰é’®ï¼Œç”Ÿæˆéšæœºå©šé…çš„å¤§è§„æ¨¡å®¶ç³»å›¾ã€‚
    *   è‡ªåŠ¨ç”Ÿæˆç»Ÿè®¡é¢æ¿ï¼Œæ˜¾ç¤ºæ€»äººæ•°ã€ç”·å¥³æ‚£è€…æ•°ã€æºå¸¦è€…æ•°åŠæ¯”ä¾‹ã€‚
6.  **è§†å›¾åˆ‡æ¢**ï¼šâ€œå­¦ä¹ æ¨¡å¼â€ï¼ˆå•ä¸€å®¶ç³»åˆ†æ­¥æ¼”åŒ–ï¼‰ä¸â€œå¯¹æ¯”æ¨¡å¼â€ï¼ˆå·¦å³åˆ†å±å¯¹æ¯”ä¸¤ç§ç–¾ç—…å®¶ç³»ï¼‰ã€‚
7.  **æç¤ºä¸å¸®åŠ©**ï¼šå¸¸é©»çš„â€œå›¾ä¾‹è¯´æ˜â€æŒ‰é’®ï¼Œä»¥åŠå…³é”®æ­¥éª¤å‰çš„åŠé€æ˜å¼•å¯¼æç¤ºï¼ˆå¯å…³é—­ï¼‰ã€‚

### 2. HTML_CODE

### 2. HTML_CODE

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼´æ€§é—ä¼ å®¶ç³»å›¾åŠ¨æ€æ¼”åŒ– | çº¢ç»¿è‰²ç›²ä¸è¡€å‹ç—…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #6A5ACD;
        }

        .header h1 {
            color: #6A5ACD;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }

        .header p {
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .main-content {
            flex: 3;
            min-width: 300px;
        }

        .sidebar {
            flex: 1;
            min-width: 280px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
        }

        .canvas-container {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        #pedigreeCanvas {
            display: block;
            width: 100%;
            height: 500px;
            background-color: #f8f9fa;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        button {
            padding: 10px 18px;
            background-color: #6A5ACD;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        button:hover {
            background-color: #5a4abc;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(106, 90, 205, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        button.secondary {
            background-color: #8A2BE2;
        }

        button.secondary:hover {
            background-color: #7a1bd2;
        }

        select, input[type="range"] {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: white;
            font-size: 14px;
        }

        .checkbox-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .info-panel {
            margin-top: 20px;
            padding: 15px;
            background: #E6F3FF;
            border-radius: 8px;
            border-left: 4px solid #6A5ACD;
        }

        .info-panel h3 {
            color: #6A5ACD;
            margin-bottom: 10px;
        }

        .legend {
            margin-top: 20px;
            padding: 15px;
            background: #F0E6FF;
            border-radius: 8px;
        }

        .legend h3 {
            color: #8A2BE2;
            margin-bottom: 10px;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .legend-symbol {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .tooltip {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #6A5ACD;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            pointer-events: none;
            z-index: 1000;
            max-width: 300px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .tooltip h4 {
            color: #6A5ACD;
            margin-bottom: 8px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }

        .tooltip p {
            margin-bottom: 5px;
            font-size: 14px;
        }

        .stats {
            background: #FFF9C4;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid #FFBF00;
        }

        .stats h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .stat-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            border: 1px solid #FFBF00;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #8A2BE2;
        }

        .highlight {
            color: #FFBF00;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .control-group {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ä¼´æ€§é—ä¼ å®¶ç³»å›¾åŠ¨æ€æ¼”åŒ–</h1>
        <p>æ¢ç´¢XæŸ“è‰²ä½“éšæ€§é—ä¼ è§„å¾‹ï¼šçº¢ç»¿è‰²ç›²ä¸è¡€å‹ç—…çš„é—ä¼ æ¨¡å¼å¯¹æ¯”ä¸å¯è§†åŒ–</p>
    </div>

    <div class="controls">
        <div class="control-group">
            <button id="playBtn" title="æ’­æ”¾åŠ¨ç”»">
                <span>â–¶</span> æ’­æ”¾
            </button>
            <button id="pauseBtn" title="æš‚åœåŠ¨ç”»">
                <span>â¸</span> æš‚åœ
            </button>
            <button id="stepBtn" title="ä¸‹ä¸€æ­¥">
                <span>â­</span> æ­¥è¿›
            </button>
            <button id="resetBtn" title="é‡ç½®åŠ¨ç”»">
                <span>â†º</span> é‡ç½®
            </button>
        </div>

        <div class="control-group">
            <label for="speedSlider">é€Ÿåº¦:</label>
            <input type="range" id="speedSlider" min="1" max="10" value="5">
        </div>

        <div class="control-group">
            <label for="diseaseSelect">æ¡ˆä¾‹é€‰æ‹©:</label>
            <select id="diseaseSelect">
                <option value="colorBlindness">çº¢ç»¿è‰²ç›²ç»å…¸æ¡ˆä¾‹</option>
                <option value="hemophilia">è¡€å‹ç—…çš‡å®¤æ¡ˆä¾‹</option>
                <option value="custom">è‡ªå®šä¹‰æ¡ˆä¾‹</option>
            </select>
        </div>

        <div class="checkbox-group">
            <div class="checkbox-item">
                <input type="checkbox" id="showGenotype" checked>
                <label for="showGenotype">æ˜¾ç¤ºåŸºå› å‹</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="showPhenotype" checked>
                <label for="showPhenotype">æ˜¾ç¤ºè¡¨ç°å‹</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="showProbability">
                <label for="showProbability">æ˜¾ç¤ºæ¦‚ç‡è®¡ç®—</label>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="main-content">
            <div class="canvas-container">
                <canvas id="pedigreeCanvas"></canvas>
                <div id="tooltip" class="tooltip"></div>
            </div>

            <div class="info-panel">
                <h3>å½“å‰çŠ¶æ€è¯´æ˜</h3>
                <p id="currentInfo">æ­£åœ¨æ¼”ç¤ºçº¢ç»¿è‰²ç›²çš„XæŸ“è‰²ä½“éšæ€§é—ä¼ æ¨¡å¼ã€‚ç”·æ€§æ‚£è€…ï¼ˆXáµƒYï¼‰çš„è‡´ç—…åŸºå› æ¥è‡ªæ¯äº²ï¼ˆæºå¸¦è€…Xá´¬Xáµƒï¼‰ã€‚</p>
            </div>
        </div>

        <div class="sidebar">
            <div class="legend">
                <h3>å›¾ä¾‹è¯´æ˜</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-symbol" style="background-color: #E6F3FF; border-color: #6A5ACD;">â–¡</div>
                        <span>æ­£å¸¸ç”·æ€§</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background-color: #E6F3FF; border-color: #6A5ACD;">â—‹</div>
                        <span>æ­£å¸¸å¥³æ€§</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background-color: #F0E6FF; border-color: #8A2BE2;">â—‹â€¢</div>
                        <span>å¥³æ€§æºå¸¦è€…</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background-color: #8A2BE2; border-color: #5a1a9e;">â–¡</div>
                        <span>ç”·æ€§æ‚£è€…</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="background-color: #8A2BE2; border-color: #5a1a9e;">â—‹</div>
                        <span>å¥³æ€§æ‚£è€…</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol" style="border-color: #FFBF00; background: none;">â†’</div>
                        <span>åŸºå› ä¼ é€’è·¯å¾„</span>
                    </div>
                </div>
            </div>

            <div class="stats">
                <h3>æ¨¡æ‹Ÿç»Ÿè®¡</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="totalCount">0</div>
                        <div>æ€»äººæ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="malePatients">0</div>
                        <div>ç”·æ€§æ‚£è€…</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="femalePatients">0</div>
                        <div>å¥³æ€§æ‚£è€…</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="carriers">0</div>
                        <div>æºå¸¦è€…</div>
                    </div>
                </div>
            </div>

            <button id="simulateBtn" class="secondary" style="margin-top: 20px; width: 100%;">
                <span>ğŸ§ª</span> è¿›å…¥æ¨¡æ‹Ÿå®éªŒå®¤
            </button>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        const canvas = document.getElementById('pedigreeCanvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');
        const currentInfo = document.getElementById('currentInfo');
        
        // è®¾ç½®Canvaså°ºå¯¸
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // é—ä¼ ç³»ç»Ÿ
        class Individual {
            constructor(id, generation, position, gender, genotype, phenotype, parents = []) {
                this.id = id;
                this.generation = generation;
                this.position = position; // {x, y}
                this.gender = gender; // 'male' or 'female'
                this.genotype = genotype; // ä¾‹å¦‚: 'X^A Y', 'X^A X^a'
                this.phenotype = phenotype; // 'normal', 'carrier', 'affected'
                this.parents = parents;
                this.children = [];
                this.spouse = null;
                this.radius = 25;
                this.hovered = false;
                this.selected = false;
            }
            
            draw() {
                // ç»˜åˆ¶ä¸ªä½“
                ctx.save();
                
                // è®¾ç½®é¢œè‰²
                let fillColor, borderColor;
                switch(this.phenotype) {
                    case 'normal':
                        fillColor = this.gender === 'male' ? '#E6F3FF' : '#E6F3FF';
                        borderColor = '#6A5ACD';
                        break;
                    case 'carrier':
                        fillColor = '#F0E6FF';
                        borderColor = '#8A2BE2';
                        break;
                    case 'affected':
                        fillColor = '#8A2BE2';
                        borderColor = '#5a1a9e';
                        break;
                }
                
                // ç»˜åˆ¶å½¢çŠ¶
                ctx.beginPath();
                if (this.gender === 'male') {
                    // æ–¹å½¢
                    ctx.rect(this.position.x - this.radius, this.position.y - this.radius, 
                            this.radius * 2, this.radius * 2);
                } else {
                    // åœ†å½¢
                    ctx.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2);
                }
                
                ctx.fillStyle = fillColor;
                ctx.fill();
                ctx.lineWidth = this.selected ? 4 : 2;
                ctx.strokeStyle = borderColor;
                ctx.stroke();
                
                // å¦‚æœæ˜¯æºå¸¦è€…ï¼Œåœ¨ä¸­é—´ç”»ä¸€ä¸ªç‚¹
                if (this.phenotype === 'carrier' && this.gender === 'female') {
                    ctx.beginPath();
                    ctx.arc(this.position.x, this.position.y, 6, 0, Math.PI * 2);
                    ctx.fillStyle = '#FFFFFF';
                    ctx.fill();
                    ctx.strokeStyle = '#8A2BE2';
                    ctx.lineWidth = 1;
                    ctx.stroke();
                }
                
                // å¦‚æœæ˜¯æ‚£è€…ï¼Œæ·»åŠ åå­—æ ‡è®°
                if (this.phenotype === 'affected') {
                    ctx.beginPath();
                    ctx.moveTo(this.position.x - 10, this.position.y);
                    ctx.lineTo(this.position.x + 10, this.position.y);
                    ctx.moveTo(this.position.x, this.position.y - 10);
                    ctx.lineTo(this.position.x, this.position.y + 10);
                    ctx.strokeStyle = '#FFFFFF';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
                
                // ç»˜åˆ¶IDå’ŒåŸºå› å‹
                ctx.fillStyle = '#333333';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                
                // æ˜¾ç¤ºID
                ctx.fillText(`I${this.id}`, this.position.x, this.position.y - this.radius - 10);
                
                // æ˜¾ç¤ºåŸºå› å‹ï¼ˆå¦‚æœå¼€å¯ï¼‰
                if (document.getElementById('showGenotype').checked) {
                    ctx.font = '12px Arial';
                    let genotypeText = this.genotype;
                    if (this.gender === 'male') {
                        genotypeText = genotypeText.replace('X^A', 'Xá´¬').replace('X^a', 'Xáµƒ');
                    } else {
                        genotypeText = genotypeText.replace('X^A', 'Xá´¬').replace('X^a', 'Xáµƒ');
                    }
                    ctx.fillText(genotypeText, this.position.x, this.position.y + this.radius + 15);
                }
                
                // æ˜¾ç¤ºè¡¨ç°å‹ï¼ˆå¦‚æœå¼€å¯ï¼‰
                if (document.getElementById('showPhenotype').checked) {
                    ctx.font = '12px Arial';
                    let phenotypeText = '';
                    switch(this.phenotype) {
                        case 'normal': phenotypeText = 'æ­£å¸¸'; break;
                        case 'carrier': phenotypeText = 'æºå¸¦è€…'; break;
                        case 'affected': 
                            phenotypeText = document.getElementById('diseaseSelect').value === 'colorBlindness' 
                                ? 'è‰²ç›²' : 'è¡€å‹ç—…';
                            break;
                    }
                    ctx.fillText(phenotypeText, this.position.x, this.position.y + this.radius + 30);
                }
                
                // æ‚¬åœæ•ˆæœ
                if (this.hovered) {
                    ctx.beginPath();
                    ctx.arc(this.position.x, this.position.y, this.radius + 5, 0, Math.PI * 2);
                    ctx.strokeStyle = '#FFBF00';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
                
                ctx.restore();
            }
            
            isPointInside(x, y) {
                const dx = x - this.position.x;
                const dy = y - this.position.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                return distance <= this.radius;
            }
            
            getInfo() {
                let diseaseName = document.getElementById('diseaseSelect').value === 'colorBlindness' 
                    ? 'çº¢ç»¿è‰²ç›²' : 'è¡€å‹ç—…';
                
                let phenotypeDesc = '';
                switch(this.phenotype) {
                    case 'normal':
                        phenotypeDesc = 'æ­£å¸¸ä¸ªä½“';
                        break;
                    case 'carrier':
                        phenotypeDesc = `å¥³æ€§æºå¸¦è€…ï¼ˆä¸è¡¨ç°${diseaseName}ç—‡çŠ¶ï¼‰`;
                        break;
                    case 'affected':
                        phenotypeDesc = `${diseaseName}æ‚£è€…`;
                        break;
                }
                
                let info = `<h4>ä¸ªä½“ I${this.id}</h4>
                           <p><strong>æ€§åˆ«:</strong> ${this.gender === 'male' ? 'ç”·æ€§' : 'å¥³æ€§'}</p>
                           <p><strong>åŸºå› å‹:</strong> ${this.genotype}</p>
                           <p><strong>è¡¨ç°å‹:</strong> ${phenotypeDesc}</p>`;
                
                if (this.parents.length > 0) {
                    info += `<p><strong>çˆ¶æ¯:</strong> I${this.parents[0].id}, I${this.parents[1].id}</p>`;
                }
                
                if (this.children.length > 0) {
                    info += `<p><strong>å­å¥³:</strong> ${this.children.map(c => 'I' + c.id).join(', ')}</p>`;
                }
                
                return info;
            }
        }
        
        class PedigreeSystem {
            constructor() {
                this.individuals = [];
                this.currentGeneration = 0;
                this.animationStep = 0;
                this.isAnimating = false;
                this.animationSpeed = 5;
                this.currentDisease = 'colorBlindness';
                this.highlightedPath = null;
                this.nextId = 1;
                
                // åˆå§‹åŒ–å®¶ç³»å›¾
                this.initializePedigree();
            }
            
            initializePedigree() {
                this.individuals = [];
                this.nextId = 1;
                this.animationStep = 0;
                
                // åˆ›å»ºç¬¬ä¸€ä»£ï¼ˆæ ¹æ®é€‰æ‹©çš„ç–¾ç—…ï¼‰
                const disease = document.getElementById('diseaseSelect').value;
                this.currentDisease = disease;
                
                if (disease === 'colorBlindness') {
                    // çº¢ç»¿è‰²ç›²æ¡ˆä¾‹ï¼šæ­£å¸¸ç”·æ€§ + æºå¸¦è€…å¥³æ€§
                    const father = new Individual(this.nextId++, 1, 
                        {x: canvas.width * 0.3, y: 100}, 'male', 'X^A Y', 'normal');
                    const mother = new Individual(this.nextId++, 1, 
                        {x: canvas.width * 0.7, y: 100}, 'female', 'X^A X^a', 'carrier');
                    
                    father.spouse = mother;
                    mother.spouse = father;
                    
                    this.individuals.push(father, mother);
                    currentInfo.textContent = "ç¬¬ä¸€ä»£ï¼šæ­£å¸¸ç”·æ€§ï¼ˆXá´¬Yï¼‰ä¸å¥³æ€§æºå¸¦è€…ï¼ˆXá´¬Xáµƒï¼‰å©šé…ã€‚å¥³æ€§æºå¸¦è€…ä¸è¡¨ç°çº¢ç»¿è‰²ç›²ç—‡çŠ¶ã€‚";
                    
                } else if (disease === 'hemophilia') {
                    // è¡€å‹ç—…æ¡ˆä¾‹ï¼šæ­£å¸¸ç”·æ€§ + æºå¸¦è€…å¥³æ€§ï¼ˆæ¨¡æ‹Ÿæ¬§æ´²çš‡å®¤ï¼‰
                    const father = new Individual(this.nextId++, 1, 
                        {x: canvas.width * 0.3, y: 100}, 'male', 'X^A Y', 'normal');
                    const mother = new Individual(this.nextId++, 1, 
                        {x: canvas.width * 0.7, y: 100}, 'female', 'X^A X^a', 'carrier');
                    
                    father.spouse = mother;
                    mother.spouse = father;
                    
                    this.individuals.push(father, mother);
                    currentInfo.textContent = "ç¬¬ä¸€ä»£ï¼šæ­£å¸¸ç”·æ€§ï¼ˆXá´¬Yï¼‰ä¸å¥³æ€§æºå¸¦è€…ï¼ˆXá´¬Xáµƒï¼‰å©šé…ã€‚æ¨¡æ‹Ÿæ¬§æ´²çš‡å®¤è¡€å‹ç—…é—ä¼ ã€‚";
                    
                } else {
                    // è‡ªå®šä¹‰æ¡ˆä¾‹
                    const father = new Individual(this.nextId++, 1, 
                        {x: canvas.width * 0.3, y: 100}, 'male', 'X^A Y', 'normal');
                    const mother = new Individual(this.nextId++, 1, 
                        {x: canvas.width * 0.7, y: 100}, 'female', 'X^A X^A', 'normal');
                    
                    father.spouse = mother;
                    mother.spouse = father;
                    
                    this.individuals.push(father, mother);
                    currentInfo.textContent = "è‡ªå®šä¹‰æ¡ˆä¾‹ï¼šæ­£å¸¸ç”·æ€§ï¼ˆXá´¬Yï¼‰ä¸æ­£å¸¸å¥³æ€§ï¼ˆXá´¬Xá´¬ï¼‰å©šé…ã€‚ç‚¹å‡»'æ¨¡æ‹Ÿå®éªŒå®¤'è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®ã€‚";
                }
                
                this.updateStats();
            }
            
            addGeneration() {
                if (this.animationStep === 0) {
                    // ç¬¬ä¸€æ­¥ï¼šæ˜¾ç¤ºç¬¬ä¸€ä»£
                    this.animationStep = 1;
                    currentInfo.textContent = "è§‚å¯Ÿç¬¬ä¸€ä»£çˆ¶æ¯ã€‚ç”·æ€§ä¸ºæ­£å¸¸ï¼ˆXá´¬Yï¼‰ï¼Œå¥³æ€§ä¸ºæºå¸¦è€…ï¼ˆXá´¬Xáµƒï¼‰ã€‚";
                    
                } else if (this.animationStep === 1) {
                    // ç¬¬äºŒæ­¥ï¼šåˆ›å»ºç¬¬äºŒä»£å­å¥³
                    const parents = this.individuals.filter(ind => ind.generation === 1);
                    if (parents.length === 2) {
                        const [father, mother] = parents;
                        
                        // è®¡ç®—å¯èƒ½çš„å­å¥³åŸºå› å‹
                        const possibleGenotypes = this.calculateOffspring(father.genotype, mother.genotype);
                        
                        // åˆ›å»º4ä¸ªå­å¥³ï¼ˆå±•ç¤ºæ‰€æœ‰å¯èƒ½æ€§ï¼‰
                        const startX = canvas.width * 0.2;
                        const spacing = canvas.width * 0.15;
                        
                        possibleGenotypes.forEach((genotype, index) => {
                            const gender = genotype.includes('Y') ? 'male' : 'female';
                            const phenotype = this.determinePhenotype(genotype, gender);
                            
                            const child = new Individual(
                                this.nextId++,
                                2,
                                {x: startX + spacing * index, y: 250},
                                gender,
                                genotype,
                                phenotype,
                                [father, mother]
                            );
                            
                            this.individuals.push(child);
                            father.children.push(child);
                            mother.children.push(child);
                        });
                        
                        this.animationStep = 2;
                        currentInfo.textContent = "ç¬¬äºŒä»£ï¼šå­å¥³åŸºå› å‹åˆ†æã€‚æ³¨æ„ç”·æ€§æ‚£è€…ï¼ˆXáµƒYï¼‰çš„è‡´ç—…åŸºå› æ¥è‡ªæ¯äº²ã€‚";
                        this.highlightedPath = {from: mother.id, to: this.individuals.find(ind => 
                            ind.genotype === 'X^a Y' && ind.generation === 2).id};
                        
                    }
                    
                } else if (this.animationStep === 2) {
                    // ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©ä¸€å¯¹å©šé…å¹¶åˆ›å»ºç¬¬ä¸‰ä»£
                    const secondGen = this.individuals.filter(ind => ind.generation === 2);
                    if (secondGen.length >= 2) {
                        // é€‰æ‹©æ­£å¸¸å¥³æ€§å’Œç”·æ€§æ‚£è€…å©šé…ï¼ˆå¸¸è§æƒ…å†µï¼‰
                        const normalFemale = secondGen.find(ind => 
                            ind.gender === 'female' && ind.phenotype === 'normal');
                        const affectedMale = secondGen.find(ind => 
                            ind.gender === 'male' && ind.phenotype === 'affected');
                        
                        if (normalFemale && affectedMale) {
                            normalFemale.spouse = affectedMale;
                            affectedMale.spouse = normalFemale;
                            
                            // åˆ›å»ºç¬¬ä¸‰ä»£å­å¥³
                            const possibleGenotypes = this.calculateOffspring(affectedMale.genotype, normalFemale.genotype);
                            
                            const startX = canvas.width * 0.3;
                            const spacing = canvas.width * 0.2;
                            
                            possibleGenotypes.forEach((genotype, index) => {
                                const gender = genotype.includes('Y') ? 'male' : 'female';
                                const phenotype = this.determinePhenotype(genotype, gender);
                                
                                const child = new Individual(
                                    this.nextId++,
                                    3,
                                    {x: startX + spacing * index, y: 400},
                                    gender,
                                    genotype,
                                    phenotype,
                                    [affectedMale, normalFemale]
                                );
                                
                                this.individuals.push(child);
                                affectedMale.children.push(child);
                                normalFemale.children.push(child);
                            });
                            
                            this.animationStep = 3;
                            currentInfo.textContent = "ç¬¬ä¸‰ä»£ï¼šç”·æ€§æ‚£è€…ä¸æ­£å¸¸å¥³æ€§å©šé…ã€‚æ‰€æœ‰å¥³å„¿éƒ½æ˜¯æºå¸¦è€…ï¼Œæ‰€æœ‰å„¿å­éƒ½æ­£å¸¸ã€‚è¿™å°±æ˜¯'äº¤å‰é—ä¼ 'ã€‚";
                            this.highlightedPath = {from: affectedMale.id, to: this.individuals.find(ind => 
                                ind.generation === 3 && ind.gender === 'female').id};
                        }
                    }
                }
                
                this.updateStats();
            }
            
            calculateOffspring(fatherGenotype, motherGenotype) {
                // ç®€åŒ–è®¡ç®—ï¼šè¿”å›æ‰€æœ‰å¯èƒ½çš„å­å¥³åŸºå› å‹
                if (fatherGenotype === 'X^A Y' && motherGenotype === 'X^A X^a') {
                    return ['X^A X^A', 'X^A X^a', 'X^A Y', 'X^a Y'];
                } else if (fatherGenotype === 'X^a Y' && motherGenotype === 'X^A X^A') {
                    return ['X^A X^a', 'X^A Y'];
                }
                return [];
            }
            
            determinePhenotype(genotype, gender) {
                if (gender === 'male') {
                    return genotype === 'X^a Y' ? 'affected' : 'normal';
                } else {
                    if (genotype === 'X^a X^a') return 'affected';
                    if (genotype === 'X^A X^a') return 'carrier';
                    return 'normal';
                }
            }
            
            draw() {
                // æ¸…ç©ºç”»å¸ƒ
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯
                this.drawGrid();
                
                // ç»˜åˆ¶è¿æ¥çº¿
                this.drawConnections();
                
                // ç»˜åˆ¶é«˜äº®è·¯å¾„
                if (this.highlightedPath) {
                    this.drawHighlightedPath();
                }
                
                // ç»˜åˆ¶æ‰€æœ‰ä¸ªä½“
                this.individuals.forEach(individual => individual.draw());
                
                // ç»˜åˆ¶æ¦‚ç‡è®¡ç®—ï¼ˆå¦‚æœå¼€å¯ï¼‰
                if (document.getElementById('showProbability').checked && this.animationStep >= 1) {
                    this.drawProbabilityCalculations();
                }
            }
            
            drawGrid() {
                ctx.strokeStyle = '#E9ECEF';
                ctx.lineWidth = 1;
                
                // æ°´å¹³çº¿
                for (let y = 50; y < canvas.height; y += 50) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(canvas.width, y);
                    ctx.stroke();
                }
                
                // å‚ç›´çº¿
                for (let x = 50; x < canvas.width; x += 50) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, canvas.height);
                    ctx.stroke();
                }
            }
            
            drawConnections() {
                ctx.strokeStyle = '#333333';
                ctx.lineWidth = 1;
                
                // ç»˜åˆ¶é…å¶è¿æ¥çº¿
                this.individuals.forEach(individual => {
                    if (individual.spouse && individual.id < individual.spouse.id) {
                        ctx.beginPath();
                        ctx.moveTo(individual.position.x, individual.position.y);
                        ctx.lineTo(individual.spouse.position.x, individual.spouse.position.y);
                        ctx.stroke();
                        
                        // åœ¨ä¸­é—´ç”»ä¸€ä¸ªå°åœ†è¡¨ç¤ºå©šå§»
                        const midX = (individual.position.x + individual.spouse.position.x) / 2;
                        const midY = (individual.position.y + individual.spouse.position.y) / 2;
                        ctx.beginPath();
                        ctx.arc(midX, midY, 4, 0, Math.PI * 2);
                        ctx.fillStyle = '#333333';
                        ctx.fill();
                    }
                });
                
                // ç»˜åˆ¶äº²å­è¿æ¥çº¿
                this.individuals.forEach(individual => {
                    if (individual.children.length > 0) {
                        // æ‰¾åˆ°é…å¶ï¼ˆå¦‚æœæœ‰ï¼‰
                        const spouse = individual.spouse;
                        let parentY = individual.position.y;
                        let parentX = individual.position.x;
                        
                        if (spouse) {
                            parentY = Math.max(individual.position.y, spouse.position.y);
                            parentX = (individual.position.x + spouse.position.x) / 2;
                        }
                        
                        // ç»˜åˆ¶åˆ°å­å¥³çš„è¿çº¿
                        const childrenCount = individual.children.length;
                        const startX = individual.children[0].position.x;
                        const endX = individual.children[childrenCount - 1].position.x;
                        
                        // æ°´å¹³çº¿ä»çˆ¶æ¯åˆ°å­å¥³ä¸Šæ–¹
                        ctx.beginPath();
                        ctx.moveTo(parentX, parentY + 25);
                        ctx.lineTo(parentX, parentY + 50);
                        ctx.stroke();
                        
                        // æ°´å¹³çº¿è¿æ¥æ‰€æœ‰å­å¥³
                        ctx.beginPath();
                        ctx.moveTo(startX, parentY + 50);
                        ctx.lineTo(endX, parentY + 50);
                        ctx.stroke();
                        
                        // å‚ç›´çº¿åˆ°æ¯ä¸ªå­å¥³
                        individual.children.forEach(child => {
                            ctx.beginPath();
                            ctx.moveTo(child.position.x, parentY + 50);
                            ctx.lineTo(child.position.x, child.position.y - 25);
                            ctx.stroke();
                        });
                    }
                });
            }
            
            drawHighlightedPath() {
                const fromInd = this.individuals.find(ind => ind.id === this.highlightedPath.from);
                const toInd = this.individuals.find(ind => ind.id === this.highlightedPath.to);
                
                if (fromInd && toInd) {
                    ctx.strokeStyle = '#FFBF00';
                    ctx.lineWidth = 3;
                    ctx.setLineDash([5, 5]);
                    
                    // ç»˜åˆ¶ç®­å¤´
                    this.drawArrow(fromInd.position.x, fromInd.position.y, 
                                 toInd.position.x, toInd.position.y);
                    
                    ctx.setLineDash([]);
                    
                    // ç»˜åˆ¶å…‰ç‚¹åŠ¨ç”»
                    const progress = (Date.now() % 2000) / 2000;
                    const pointX = fromInd.position.x + (toInd.position.x - fromInd.position.x) * progress;
                    const pointY = fromInd.position.y + (toInd.position.y - fromInd.position.y) * progress;
                    
                    ctx.beginPath();
                    ctx.arc(pointX, pointY, 8, 0, Math.PI * 2);
                    ctx.fillStyle = '#FFBF00';
                    ctx.fill();
                    ctx.strokeStyle = '#FFFFFF';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
            }
            
            drawArrow(fromX, fromY, toX, toY) {
                const headlen = 15;
                const dx = toX - fromX;
                const dy = toY - fromY;
                const angle = Math.atan2(dy, dx);
                
                ctx.beginPath();
                ctx.moveTo(fromX, fromY);
                ctx.lineTo(toX, toY);
                ctx.stroke();
                
                // ç»˜åˆ¶ç®­å¤´å¤´éƒ¨
                ctx.beginPath();
                ctx.moveTo(toX, toY);
                ctx.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6), 
                          toY - headlen * Math.sin(angle - Math.PI / 6));
                ctx.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6), 
                          toY - headlen * Math.sin(angle + Math.PI / 6));
                ctx.closePath();
                ctx.fillStyle = '#FFBF00';
                ctx.fill();
            }
            
            drawProbabilityCalculations() {
                ctx.fillStyle = '#333333';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                
                let text = '';
                let yPos = canvas.height - 100;
                
                if (this.animationStep === 1) {
                    text = "æ¦‚ç‡è®¡ç®—ï¼š\n";
                    text += "å¥³æ€§æºå¸¦è€…(Xá´¬Xáµƒ) Ã— æ­£å¸¸ç”·æ€§(Xá´¬Y)\n";
                    text += "â†’ å„¿å­ï¼š50%æ­£å¸¸(Xá´¬Y)ï¼Œ50%æ‚£è€…(XáµƒY)\n";
                    text += "â†’ å¥³å„¿ï¼š50%æ­£å¸¸(Xá´¬Xá´¬)ï¼Œ50%æºå¸¦è€…(Xá´¬Xáµƒ)";
                } else if (this.animationStep === 2) {
                    text = "æ¦‚ç‡è®¡ç®—ï¼š\n";
                    text += "ç”·æ€§æ‚£è€…(XáµƒY) Ã— æ­£å¸¸å¥³æ€§(Xá´¬Xá´¬)\n";
                    text += "â†’ å„¿å­ï¼š100%æ­£å¸¸(Xá´¬Y)\n";
                    text += "â†’ å¥³å„¿ï¼š100%æºå¸¦è€…(Xá´¬Xáµƒ)";
                }
                
                // ç»˜åˆ¶èƒŒæ™¯æ¡†
                const lines = text.split('\n');
                const maxWidth = Math.max(...lines.map(line => ctx.measureText(line).width));
                
                ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.fillRect(20, yPos - 30, maxWidth + 40, lines.length * 20 + 20);
                ctx.strokeStyle = '#6A5ACD';
                ctx.lineWidth = 2;
                ctx.strokeRect(20, yPos - 30, maxWidth + 40, lines.length * 20 + 20);
                
                // ç»˜åˆ¶æ–‡å­—
                ctx.fillStyle = '#333333';
                lines.forEach((line, index) => {
                    ctx.fillText(line, 40, yPos + index * 20);
                });
            }
            
            updateStats() {
                const total = this.individuals.length;
                const malePatients = this.individuals.filter(ind => 
                    ind.gender === 'male' && ind.phenotype === 'affected').length;
                const femalePatients = this.individuals.filter(ind => 
                    ind.gender === 'female' && ind.phenotype === 'affected').length;
                const carriers = this.individuals.filter(ind => 
                    ind.phenotype === 'carrier').length;
                
                document.getElementById('totalCount').textContent = total;
                document.getElementById('malePatients').textContent = malePatients;
                document.getElementById('femalePatients').textContent = femalePatients;
                document.getElementById('carriers').
<!--æ£€æµ‹åˆ°ä»£ç æˆªæ–­ï¼Œè‡ªåŠ¨ç»­å†™ä¸­...-->
textContent = carriers;
            }
            
            handleClick(x, y) {
                // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»äº†ä¸ªä½“
                for (let i = this.individuals.length - 1; i >= 0; i--) {
                    const individual = this.individuals[i];
                    if (individual.isPointInside(x, y)) {
                        // æ˜¾ç¤ºå·¥å…·æç¤º
                        tooltip.innerHTML = individual.getInfo();
                        tooltip.style.left = (x + 15) + 'px';
                        tooltip.style.top = (y + 15) + 'px';
                        tooltip.style.opacity = '1';
                        
                        // é«˜äº®ç›¸å…³ä¸ªä½“
                        this.individuals.forEach(ind => ind.selected = false);
                        individual.selected = true;
                        
                        // é«˜äº®é—ä¼ è·¯å¾„
                        if (individual.parents.length > 0) {
                            this.highlightedPath = {
                                from: individual.parents[0].id,
                                to: individual.id
                            };
                        }
                        
                        return;
                    }
                }
                
                // ç‚¹å‡»ç©ºç™½å¤„éšè—å·¥å…·æç¤º
                tooltip.style.opacity = '0';
                this.individuals.forEach(ind => ind.selected = false);
            }
            
            handleHover(x, y) {
                let hoveredAny = false;
                
                this.individuals.forEach(individual => {
                    individual.hovered = individual.isPointInside(x, y);
                    if (individual.hovered) hoveredAny = true;
                });
                
                // æ›´æ–°é¼ æ ‡æŒ‡é’ˆ
                canvas.style.cursor = hoveredAny ? 'pointer' : 'default';
            }
            
            animate() {
                if (this.isAnimating && this.animationStep < 3) {
                    this.addGeneration();
                }
                this.draw();
                
                if (this.isAnimating) {
                    setTimeout(() => {
                        requestAnimationFrame(() => this.animate());
                    }, 2000 / this.animationSpeed);
                }
            }
            
            startAnimation() {
                if (!this.isAnimating) {
                    this.isAnimating = true;
                    this.animate();
                }
            }
            
            stopAnimation() {
                this.isAnimating = false;
            }
            
            reset() {
                this.stopAnimation();
                this.initializePedigree();
                this.draw();
                tooltip.style.opacity = '0';
            }
        }

        // åˆå§‹åŒ–ç³»ç»Ÿ
        const pedigreeSystem = new PedigreeSystem();
        pedigreeSystem.draw();

        // äº‹ä»¶ç›‘å¬å™¨
        document.getElementById('playBtn').addEventListener('click', () => {
            pedigreeSystem.startAnimation();
            currentInfo.textContent = "åŠ¨ç”»æ’­æ”¾ä¸­...è§‚å¯Ÿé—ä¼ åŸºå› çš„ä¼ é€’è·¯å¾„ã€‚";
        });

        document.getElementById('pauseBtn').addEventListener('click', () => {
            pedigreeSystem.stopAnimation();
            currentInfo.textContent = "åŠ¨ç”»å·²æš‚åœã€‚ç‚¹å‡»ä¸ªä½“æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œæˆ–ç‚¹å‡»'æ­¥è¿›'ç»§ç»­ã€‚";
        });

        document.getElementById('stepBtn').addEventListener('click', () => {
            pedigreeSystem.stopAnimation();
            pedigreeSystem.addGeneration();
            pedigreeSystem.draw();
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            pedigreeSystem.reset();
        });

        document.getElementById('speedSlider').addEventListener('input', (e) => {
            pedigreeSystem.animationSpeed = parseInt(e.target.value);
        });

        document.getElementById('diseaseSelect').addEventListener('change', () => {
            pedigreeSystem.reset();
        });

        document.getElementById('showGenotype').addEventListener('change', () => {
            pedigreeSystem.draw();
        });

        document.getElementById('showPhenotype').addEventListener('change', () => {
            pedigreeSystem.draw();
        });

        document.getElementById('showProbability').addEventListener('change', () => {
            pedigreeSystem.draw();
        });

        document.getElementById('simulateBtn').addEventListener('click', () => {
            alert("æ¨¡æ‹Ÿå®éªŒå®¤åŠŸèƒ½ï¼š\n\n1. è‡ªå®šä¹‰çˆ¶æ¯åŸºå› å‹\n2. æ¨¡æ‹Ÿå¤šä»£é—ä¼ \n3. ç»Ÿè®¡é—ä¼ è§„å¾‹\n\nï¼ˆæ­¤ä¸ºæ‰©å±•åŠŸèƒ½æ¼”ç¤ºï¼Œå®Œæ•´å®ç°éœ€è¦æ›´å¤šä»£ç ï¼‰");
            
            // ç®€å•æ¼”ç¤ºï¼šéšæœºç”Ÿæˆä¸€ä¸ªå¤§å®¶ç³»
            pedigreeSystem.reset();
            
            // æ·»åŠ æ›´å¤šéšæœºä¸ªä½“
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    pedigreeSystem.addGeneration();
                    pedigreeSystem.draw();
                }, i * 500);
            }
            
            currentInfo.textContent = "æ¨¡æ‹Ÿå®éªŒå®¤ï¼šéšæœºç”Ÿæˆå¤šä»£å®¶ç³»å›¾ï¼Œè§‚å¯Ÿé—ä¼ è§„å¾‹ã€‚æ³¨æ„ç”·æ€§æ‚£è€…æ¯”ä¾‹æ˜¾è‘—é«˜äºå¥³æ€§ã€‚";
        });

        // Canvas äº¤äº’
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            pedigreeSystem.handleClick(x, y);
        });

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            pedigreeSystem.handleHover(x, y);
            
            // ç§»åŠ¨å·¥å…·æç¤º
            if (tooltip.style.opacity === '1') {
                tooltip.style.left = (x + 15) + 'px';
                tooltip.style.top = (y + 15) + 'px';
            }
        });

        canvas.addEventListener('mouseleave', () => {
            pedigreeSystem.individuals.forEach(ind => ind.hovered = false);
            canvas.style.cursor = 'default';
            tooltip.style.opacity = '0';
        });

        // åˆå§‹æç¤º
        setTimeout(() => {
            currentInfo.textContent = "ç‚¹å‡»'æ’­æ”¾'å¼€å§‹åŠ¨ç”»æ¼”ç¤ºï¼Œæˆ–ç‚¹å‡»'æ­¥è¿›'æ‰‹åŠ¨æ§åˆ¶ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨å®¶ç³»æˆå‘˜ä¸ŠæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚";
        }, 1000);
    </script>
</body>
</html>

### 3. è¿‡ç¨‹è¾“å‡º

### 3. ä½¿ç”¨æŒ‡å—

## äº¤äº’å¼æ•™å­¦åŠ¨ç”»ä½¿ç”¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨â€œä¼´æ€§é—ä¼ å®¶ç³»å›¾åŠ¨æ€æ¼”åŒ–â€äº¤äº’å¼æ•™å­¦åŠ¨ç”»ï¼æœ¬åŠ¨ç”»æ—¨åœ¨é€šè¿‡ç›´è§‚ã€åŠ¨æ€çš„å¯è§†åŒ–æ–¹å¼ï¼Œå¸®åŠ©æ‚¨æ·±å…¥ç†è§£XæŸ“è‰²ä½“éšæ€§é—ä¼ çš„å¤æ‚è§„å¾‹ã€‚æ— è®ºæ‚¨æ˜¯å­¦ç”Ÿã€æ•™å¸ˆè¿˜æ˜¯ç”Ÿç‰©å­¦çˆ±å¥½è€…ï¼Œæœ¬å·¥å…·éƒ½å°†ä¸ºæ‚¨æä¾›æ²‰æµ¸å¼çš„å­¦ä¹ ä½“éªŒã€‚

---

### ä¸€ã€åŠŸèƒ½è¯´æ˜

æœ¬åŠ¨ç”»æ¨¡æ‹Ÿäº†çº¢ç»¿è‰²ç›²ä¸è¡€å‹ç—…è¿™ä¸¤ç§å…¸å‹XæŸ“è‰²ä½“éšæ€§é—ä¼ ç–¾ç—…çš„é—ä¼ è¿‡ç¨‹ã€‚é€šè¿‡åŠ¨æ€ç”Ÿæˆä¸‰ä»£å®¶ç³»å›¾ï¼Œæ‚¨å¯ä»¥ï¼š

1. **è§‚å¯ŸåŸºå› ä¼ é€’è·¯å¾„**ï¼šå¯è§†åŒ–è‡´ç—…åŸºå› åœ¨å®¶æ—ä¸­çš„æµåŠ¨è½¨è¿¹
2. **ç†è§£é—ä¼ è§„å¾‹**ï¼šç›´è§‚å±•ç¤ºâ€œäº¤å‰é—ä¼ â€ã€â€œç”·æ€§é«˜å‘ç—…ç‡â€ç­‰æ ¸å¿ƒæ¦‚å¿µ
3. **è¿›è¡Œæ¢ç©¶å­¦ä¹ **ï¼šé€šè¿‡äº¤äº’æ“ä½œéªŒè¯é—ä¼ å­¦åŸç†

### äºŒã€ä¸»è¦åŠŸèƒ½

#### 1. åŠ¨ç”»æ§åˆ¶åŒºï¼ˆé¡¶éƒ¨å·¥å…·æ ï¼‰
- **æ’­æ”¾/æš‚åœ**ï¼šæ§åˆ¶åŠ¨ç”»è‡ªåŠ¨æ¼”ç¤º
- **æ­¥è¿›**ï¼šæ‰‹åŠ¨é€æ­¥æ¨è¿›é—ä¼ è¿‡ç¨‹ï¼ˆæ¨èå­¦ä¹ ä½¿ç”¨ï¼‰
- **é‡ç½®**ï¼šæ¢å¤åˆ°åˆå§‹çŠ¶æ€
- **é€Ÿåº¦è°ƒèŠ‚**ï¼šæ§åˆ¶åŠ¨ç”»æ’­æ”¾é€Ÿåº¦ï¼ˆ1-10æ¡£ï¼‰

#### 2. æ¡ˆä¾‹é€‰æ‹©å™¨
- **çº¢ç»¿è‰²ç›²ç»å…¸æ¡ˆä¾‹**ï¼šæœ€å¸¸è§çš„Xéšæ€§é—ä¼ ç—…æ¡ˆä¾‹
- **è¡€å‹ç—…çš‡å®¤æ¡ˆä¾‹**ï¼šåŸºäºæ¬§æ´²çš‡å®¤çœŸå®é—ä¼ å†å²çš„æ¨¡æ‹Ÿ
- **è‡ªå®šä¹‰æ¡ˆä¾‹**ï¼šåŸºç¡€æ¨¡æ¿ï¼Œå¯ç»“åˆâ€œæ¨¡æ‹Ÿå®éªŒå®¤â€è¿›è¡Œæ‰©å±•

#### 3. ä¿¡æ¯æ˜¾ç¤ºå¼€å…³
- **æ˜¾ç¤ºåŸºå› å‹**ï¼šåœ¨ä¸ªä½“ä¸‹æ–¹æ˜¾ç¤ºåŸºå› å‹ï¼ˆå¦‚Xá´¬Yã€Xá´¬Xáµƒï¼‰
- **æ˜¾ç¤ºè¡¨ç°å‹**ï¼šæ˜¾ç¤ºâ€œæ­£å¸¸â€ã€â€œæºå¸¦è€…â€ã€â€œæ‚£è€…â€çŠ¶æ€
- **æ˜¾ç¤ºæ¦‚ç‡è®¡ç®—**ï¼šåœ¨ç”»å¸ƒä¸‹æ–¹æ˜¾ç¤ºé—ä¼ æ¦‚ç‡è®¡ç®—è¿‡ç¨‹

#### 4. äº¤äº’æ¢ç´¢åŠŸèƒ½
- **ç‚¹å‡»ä»»æ„ä¸ªä½“**ï¼šå¼¹å‡ºè¯¦ç»†ä¿¡æ¯å¡ç‰‡ï¼ŒåŒ…æ‹¬ï¼š
  - åŸºå› å‹ä¸è¡¨ç°å‹
  - çˆ¶æ¯ä¸å­å¥³å…³ç³»
  - é—ä¼ è·¯å¾„é«˜äº®æ˜¾ç¤º
- **é¼ æ ‡æ‚¬åœ**ï¼šä¸ªä½“å‘¨å›´æ˜¾ç¤ºé‡‘è‰²å…‰ç¯ï¼Œè¡¨ç¤ºå¯äº¤äº’

#### 5. æ¨¡æ‹Ÿå®éªŒå®¤
- **å¤šä»£æ¨¡æ‹Ÿ**ï¼šéšæœºç”Ÿæˆå¤§è§„æ¨¡å®¶ç³»å›¾
- **å®æ—¶ç»Ÿè®¡**ï¼šè‡ªåŠ¨è®¡ç®—å¹¶æ˜¾ç¤ºï¼š
  - æ€»äººæ•°ã€ç”·å¥³æ‚£è€…æ•°
  - æºå¸¦è€…æ•°é‡
  - å‘ç—…ç‡æ€§åˆ«å·®å¼‚

### ä¸‰ã€è®¾è®¡ç‰¹è‰²

#### 1. ä¸“ä¸šå¯è§†åŒ–è®¾è®¡
- **æ— éšœç¢é…è‰²**ï¼šé‡‡ç”¨è“ç´«è‰²ç³»ï¼Œé¿å…çº¢ç»¿è‰²ç›²è¯†åˆ«å›°éš¾
- **æ ‡å‡†é—ä¼ å­¦ç¬¦å·**ï¼šä¸¥æ ¼éµå¾ªå›½é™…é€šç”¨çš„å®¶ç³»å›¾ç»˜åˆ¶è§„èŒƒ
- **åŠ¨æ€é«˜äº®è·¯å¾„**ï¼šä½¿ç”¨é‡‘è‰²ç®­å¤´å’Œå…‰ç‚¹æ ‡è®°åŸºå› ä¼ é€’è½¨è¿¹

#### 2. åˆ†å±‚è®¤çŸ¥è®¾è®¡
- **ç¬¬ä¸€å±‚ï¼ˆè§‚å¯Ÿï¼‰**ï¼šè‡ªåŠ¨æ¼”ç¤ºå®Œæ•´é—ä¼ è¿‡ç¨‹
- **ç¬¬äºŒå±‚ï¼ˆç†è§£ï¼‰**ï¼šé€šè¿‡æ­¥è¿›æ§åˆ¶ï¼Œåˆ†é˜¶æ®µå­¦ä¹ 
- **ç¬¬ä¸‰å±‚ï¼ˆæ¢ç©¶ï¼‰**ï¼šç‚¹å‡»ä¸ªä½“æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œæ·±å…¥åˆ†æ

#### 3. å¤šæ¨¡å¼å­¦ä¹ æ”¯æŒ
- **å¼•å¯¼æ¨¡å¼**ï¼šè·Ÿéšé¢„è®¾æ¡ˆä¾‹å­¦ä¹ æ ¸å¿ƒæ¦‚å¿µ
- **æ¢ç´¢æ¨¡å¼**ï¼šè‡ªä¸»æ§åˆ¶ï¼ŒéªŒè¯å‡è®¾
- **å¯¹æ¯”æ¨¡å¼**ï¼šåˆ‡æ¢ä¸åŒç–¾ç—…ï¼Œå‘ç°å…±æ€§ä¸å·®å¼‚

### å››ã€æ•™å­¦è¦ç‚¹

#### æ ¸å¿ƒæ¦‚å¿µå¯è§†åŒ–
1. **æºå¸¦è€…çš„å…³é”®ä½œç”¨**
   - æ³¨æ„ç¬¬ä¸€ä»£å¥³æ€§ï¼ˆç´«è‰²åœ†åœˆå¸¦ç™½ç‚¹ï¼‰ä¸å‘ç—…ä½†ä¼ é€’è‡´ç—…åŸºå› 
   - è§‚å¯Ÿå¥¹å¦‚ä½•å°†è‡´ç—…åŸºå› ä¼ ç»™50%çš„å„¿å­

2. **äº¤å‰é—ä¼ æ¨¡å¼**
   - ç¬¬äºŒä»£ç”·æ€§æ‚£è€…çš„è‡´ç—…åŸºå› **å¿…ç„¶æ¥è‡ªæ¯äº²**
   - è¯¥æ‚£è€…åªèƒ½å°†è‡´ç—…åŸºå› ä¼ ç»™å¥³å„¿ï¼ˆä½¿å…¶æˆä¸ºæºå¸¦è€…ï¼‰
   - é‡‘è‰²é«˜äº®ç®­å¤´æ¸…æ™°å±•ç¤ºè¿™ä¸€è·¯å¾„

3. **å‘ç—…ç‡æ€§åˆ«å·®å¼‚**
   - æŸ¥çœ‹å³ä¾§ç»Ÿè®¡é¢æ¿ï¼Œæ³¨æ„ç”·æ€§æ‚£è€…æ•°é‡æ˜¾è‘—å¤šäºå¥³æ€§
   - ç†è§£åŸå› ï¼šç”·æ€§åªæœ‰ä¸€æ¡XæŸ“è‰²ä½“ï¼Œéšæ€§åŸºå› ç›´æ¥è¡¨è¾¾

4. **ä¸¤ç§ç–¾ç—…çš„å¯¹æ¯”**
   - **å…±åŒç‚¹**ï¼šéƒ½æ˜¯XæŸ“è‰²ä½“éšæ€§é—ä¼ 
   - **å·®å¼‚ç‚¹**ï¼š
     - çº¢ç»¿è‰²ç›²åŸºå› é¢‘ç‡è¾ƒé«˜ï¼ˆçº¦8%ç”·æ€§ï¼‰
     - è¡€å‹ç—…ç—‡çŠ¶ä¸¥é‡ï¼Œå†å²ä¸Šå½±å“æ¬§æ´²çš‡å®¤
     - é€šè¿‡åˆ‡æ¢æ¡ˆä¾‹è§‚å¯Ÿå®¶ç³»å›¾å·®å¼‚

### äº”ã€ä½¿ç”¨å»ºè®®

#### å¯¹äºå­¦ç”Ÿ
1. **åˆæ¬¡å­¦ä¹ **
   - é€‰æ‹©â€œçº¢ç»¿è‰²ç›²æ¡ˆä¾‹â€ï¼Œç‚¹å‡»â€œæ’­æ”¾â€è§‚çœ‹å®Œæ•´è¿‡ç¨‹
   - æ³¨æ„è§‚å¯Ÿé‡‘è‰²é«˜äº®è·¯å¾„ï¼Œç†è§£åŸºå› æµå‘
   - é˜…è¯»ç”»å¸ƒä¸‹æ–¹çš„æ¦‚ç‡è®¡ç®—ï¼Œè”ç³»ç†è®ºçŸ¥è¯†

2. **å·©å›ºå¤ä¹ **
   - ä½¿ç”¨â€œæ­¥è¿›â€åŠŸèƒ½ï¼Œåœ¨æ¯ä¸ªé˜¶æ®µæš‚åœå¹¶é¢„æµ‹ä¸‹ä¸€æ­¥
   - ç‚¹å‡»æ¯ä¸ªä¸ªä½“ï¼ŒæŸ¥çœ‹å…¶åŸºå› å‹å’Œé—ä¼ å…³ç³»
   - å°è¯•è§£é‡Šä¸ºä»€ä¹ˆæŸäº›ä¸ªä½“æ˜¯æºå¸¦è€…è€Œä¸å‘ç—…

3. **æ¢ç©¶å­¦ä¹ **
   - åˆ‡æ¢åˆ°â€œè¡€å‹ç—…æ¡ˆä¾‹â€ï¼Œæ¯”è¾ƒå¼‚åŒ
   - ä½¿ç”¨â€œæ¨¡æ‹Ÿå®éªŒå®¤â€ç”Ÿæˆéšæœºå®¶ç³»ï¼ŒéªŒè¯é—ä¼ è§„å¾‹
   - æå‡ºé—®é¢˜ï¼šå¦‚æœç¬¬ä¸€ä»£çˆ¶æ¯åŸºå› å‹ä¸åŒï¼Œç»“æœä¼šæ€æ ·ï¼Ÿ

#### å¯¹äºæ•™å¸ˆ
1. **è¯¾å ‚æ¼”ç¤º**
   - ä½¿ç”¨æŠ•å½±å±•ç¤ºï¼Œé€æ­¥è®²è§£é—ä¼ è¿‡ç¨‹
   - åœ¨å…³é”®æ­¥éª¤æš‚åœï¼Œæé—®å¼•å¯¼å­¦ç”Ÿæ€è€ƒ
   - åˆ©ç”¨â€œé‡ç½®â€åŠŸèƒ½å¿«é€Ÿæ¯”è¾ƒä¸åŒæƒ…æ™¯

2. **å°ç»„æ´»åŠ¨è®¾è®¡**
   - ä»»åŠ¡1ï¼šæ‰¾å‡ºæ‰€æœ‰æºå¸¦è€…å¹¶è§£é‡Šå…¶é‡è¦æ€§
   - ä»»åŠ¡2ï¼šè¿½è¸ªæŸä¸ªè‡´ç—…åŸºå› çš„å®Œæ•´ä¼ é€’è·¯å¾„
   - ä»»åŠ¡3ï¼šé¢„æµ‹ç¬¬å››ä»£å¯èƒ½å‡ºç°çš„åŸºå› å‹

3. **è¯„ä¼°å·¥å…·**
   - è®©å­¦ç”Ÿæ“ä½œåŠ¨ç”»è§£é‡Šç‰¹å®šé—ä¼ ç°è±¡
   - è®¾è®¡é—®é¢˜ï¼šâ€œä¸ºä»€ä¹ˆè¿™ä¸ªå®¶ç³»ä¸­æ²¡æœ‰å¥³æ€§æ‚£è€…ï¼Ÿâ€
   - è¦æ±‚å­¦ç”Ÿä½¿ç”¨ç»Ÿè®¡æ•°æ®åˆ†æå‘ç—…ç‡å·®å¼‚

#### æœ€ä½³å®è·µæç¤º
1. **å¾ªåºæ¸è¿›**ï¼šå…ˆè§‚å¯Ÿâ†’å†ç†è§£â†’æœ€åæ¢ç©¶
2. **å–„ç”¨äº¤äº’**ï¼šä¸è¦è¢«åŠ¨è§‚çœ‹ï¼Œå¤šç‚¹å‡»ã€å¤šæ¢ç´¢
3. **è”ç³»å®é™…**ï¼šæ€è€ƒè¿™äº›é—ä¼ è§„å¾‹åœ¨ç°å®ç”Ÿæ´»ä¸­çš„åº”ç”¨
4. **è®°å½•å‘ç°**ï¼šåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è®°å½•è§‚å¯Ÿåˆ°çš„è§„å¾‹å’Œç–‘é—®

---

### æŠ€æœ¯æ”¯æŒä¸åé¦ˆ

æœ¬åŠ¨ç”»åŸºäºHTML5 CanvasæŠ€æœ¯å¼€å‘ï¼Œæ”¯æŒç°ä»£ä¸»æµæµè§ˆå™¨ã€‚å¦‚é‡æ˜¾ç¤ºé—®é¢˜ï¼Œè¯·ç¡®ä¿ï¼š
- ä½¿ç”¨Chromeã€Firefoxã€Edgeç­‰æœ€æ–°ç‰ˆæœ¬æµè§ˆå™¨
- å¯ç”¨JavaScriptåŠŸèƒ½
- å±å¹•åˆ†è¾¨ç‡ä¸ä½äº1024Ã—768

æˆ‘ä»¬æŒç»­æ”¹è¿›æ­¤æ•™å­¦å·¥å…·ã€‚å¦‚æœæ‚¨æœ‰æ”¹è¿›å»ºè®®æˆ–å‘ç°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡æ•™è‚²æŠ€æœ¯å¹³å°åé¦ˆã€‚ç¥æ‚¨å­¦ä¹ æ„‰å¿«ï¼Œæ¢ç´¢é—ä¼ å­¦çš„å¥¥ç§˜ï¼

**è®°ä½ï¼šæ¯ä¸€ä¸ªå®¶ç³»å›¾èƒŒåï¼Œéƒ½æ˜¯ç”Ÿå‘½å¯†ç çš„å¥‡å¦™ä¼ é€’ã€‚**